import{Q as Pa}from"./QPage.efbb4c49.js";import{i as Ba,f as Mt,aB as ra,r as A,d as g,o as Yt,k as ia,m as We,aC as Ya,h as m,a0 as Ze,ad as Aa,ar as Ea,Q as Pe,z as At,j as Be,aD as Ha,c as ke,w as pe,q as Oa,a9 as sa,ao as ca,e as Oe,aE as da,aF as Fa,Z as $t,aa as La,aq as Ke,L as ie,n as gt,am as ja,S as Na,T as ut,t as Ra,U as Qa,V as vt,W as kt,$ as xt,aG as za,aH as Ua,p as Ka,a1 as Wa,a2 as ft,aI as Za,aJ as Xa,aK as tt,aL as Ja,aM as Ga,u as jt,A as _t,au as en,K as Pt,_ as wt,C as lt,N as it,F as $,E as X,M as he,I as va,as as tn,at as an,B as yt,R as Nt,O as nn,J as ln,H as on,aN as un,aO as rn,aj as sn,D as cn}from"./index.1b64f866.js";import{u as dn,a as Et,b as fa,c as Ht,Q as nt}from"./QInput.51679a2f.js";import{Q as vn,T as fn,g as Rt,s as Qt,a as mn}from"./TouchPan.9eb21764.js";import{u as It,Q as ma}from"./QDialog.86d3e7e6.js";import{b as zt,g as hn}from"./use-timeout.fc9efce6.js";import{r as gn,Q as yn,u as bn,o as pn,a as _n,b as wn,c as Ut}from"./option-sizes.301d2942.js";import{Q as Cn}from"./QSeparator.5c9e1f35.js";import{u as st,a as ct}from"./use-dark.72e7127e.js";import{p as Q}from"./format.3e32b8d9.js";import{u as Sn,a as Dn}from"./position-engine.3729be03.js";import{c as qn}from"./selection.20c042fa.js";import{Q as ha,a as Mn}from"./QCard.630a4998.js";import{Q as kn}from"./QForm.a908ed5c.js";import{C as bt}from"./ClosePopup.f0878edf.js";import{u as xn}from"./programs.store.5150687d.js";import{u as Ct,Q as In}from"./QImg.c44aed45.js";import{u as ga}from"./message.store.aa3fd45c.js";import{u as Tn}from"./spinners.store.9b88e102.js";import{u as Vn}from"./audio.store.3e4f809b.js";import{C as $n}from"./ConfirmDialog.f9bee6c1.js";import"./focus-manager.05708ea9.js";import"./QChip.ffa464c4.js";import"./QItem.0ff11f86.js";import"./use-quasar.e428e5b6.js";import"./QCardActions.25625c9a.js";let Pn=0;const Bn=["click","keydown"],Yn={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Pn++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function An(e,a,o,r){const u=Ba(ra,Mt);if(u===Mt)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Mt;const{proxy:l}=Be(),s=A(null),i=A(null),h=A(null),q=g(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),v=g(()=>u.currentModel.value===e.name),D=g(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(v.value===!0?" q-tab--active"+(u.tabProps.value.activeClass?" "+u.tabProps.value.activeClass:"")+(u.tabProps.value.activeColor?` text-${u.tabProps.value.activeColor}`:"")+(u.tabProps.value.activeBgColor?` bg-${u.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&u.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||u.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(r!==void 0?r.linkClass.value:"")),x=g(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(u.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),V=g(()=>e.disable===!0||u.hasFocus.value===!0||v.value===!1&&u.hasActiveTab.value===!0?-1:e.tabindex||0);function P(y,d){if(d!==!0&&s.value!==null&&s.value.focus(),e.disable===!0){r!==void 0&&r.hasRouterLink.value===!0&&Ze(y);return}if(r===void 0){u.updateModel({name:e.name}),o("click",y);return}if(r.hasRouterLink.value===!0){const B=(te={})=>{let W;const z=te.to===void 0||Ha(te.to,e.to)===!0?u.avoidRouteWatcher=dn():null;return r.navigateToRouterLink(y,{...te,returnRouterError:!0}).catch(de=>{W=de}).then(de=>{if(z===u.avoidRouteWatcher&&(u.avoidRouteWatcher=!1,W===void 0&&(de===void 0||de.message.startsWith("Avoided redundant navigation")===!0)&&u.updateModel({name:e.name})),te.returnRouterError===!0)return W!==void 0?Promise.reject(W):de})};o("click",y,B),y.defaultPrevented!==!0&&B();return}o("click",y)}function w(y){Aa(y,[13,32])?P(y,!0):Ea(y)!==!0&&y.keyCode>=35&&y.keyCode<=40&&y.altKey!==!0&&y.metaKey!==!0&&u.onKbdNavigate(y.keyCode,l.$el)===!0&&Ze(y),o("keydown",y)}function _(){const y=u.tabProps.value.narrowIndicator,d=[],B=m("div",{ref:h,class:["q-tab__indicator",u.tabProps.value.indicatorClass]});e.icon!==void 0&&d.push(m(Pe,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&d.push(m("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&d.push(e.alertIcon!==void 0?m(Pe,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):m("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),y===!0&&d.push(B);const te=[m("div",{class:"q-focus-helper",tabindex:-1,ref:s}),m("div",{class:x.value},At(a.default,d))];return y===!1&&te.push(B),te}const R={name:g(()=>e.name),rootRef:i,tabIndicatorRef:h,routeData:r};Yt(()=>{u.unregisterTab(R)}),ia(()=>{u.registerTab(R)});function ee(y,d){const B={ref:i,class:D.value,tabindex:V.value,role:"tab","aria-selected":v.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:P,onKeydown:w,...d};return We(m(y,B,_()),[[Ya,q.value]])}return{renderTab:ee,$tabs:u}}var Kt=ke({name:"QTab",props:Yn,emits:Bn,setup(e,{slots:a,emit:o}){const{renderTab:r}=An(e,a,o);return()=>r("div")}});function En(e,a,o){const r=o===!0?["left","right"]:["top","bottom"];return`absolute-${a===!0?r[0]:r[1]}${e?` text-${e}`:""}`}const Hn=["left","center","right","justify"];var On=ke({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Hn.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:a,emit:o}){const{proxy:r}=Be(),{$q:u}=r,{registerTick:l}=It(),{registerTick:s}=It(),{registerTick:i}=It(),{registerTimeout:h,removeTimeout:q}=zt(),{registerTimeout:v,removeTimeout:D}=zt(),x=A(null),V=A(null),P=A(e.modelValue),w=A(!1),_=A(!0),R=A(!1),ee=A(!1),y=[],d=A(0),B=A(!1);let te=null,W=null,z;const de=g(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:En(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),Ce=g(()=>{const b=d.value,M=P.value;for(let Y=0;Y<b;Y++)if(y[Y].name.value===M)return!0;return!1}),le=g(()=>`q-tabs__content--align-${w.value===!0?"left":ee.value===!0?"justify":e.align}`),E=g(()=>`q-tabs row no-wrap items-center q-tabs--${w.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),I=g(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+le.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),H=g(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),Z=g(()=>e.vertical!==!0&&u.lang.rtl===!0),ve=g(()=>gn===!1&&Z.value===!0);pe(Z,_e),pe(()=>e.modelValue,b=>{ue({name:b,setCurrent:!0,skipEmit:!0})}),pe(()=>e.outsideArrows,fe);function ue({name:b,setCurrent:M,skipEmit:Y}){P.value!==b&&(Y!==!0&&e["onUpdate:modelValue"]!==void 0&&o("update:modelValue",b),(M===!0||e["onUpdate:modelValue"]===void 0)&&(Fe(P.value,b),P.value=b))}function fe(){l(()=>{xe({width:x.value.offsetWidth,height:x.value.offsetHeight})})}function xe(b){if(H.value===void 0||V.value===null)return;const M=b[H.value.container],Y=Math.min(V.value[H.value.scroll],Array.prototype.reduce.call(V.value.children,(G,L)=>G+(L[H.value.content]||0),0)),J=M>0&&Y>M;w.value=J,J===!0&&s(_e),ee.value=M<parseInt(e.breakpoint,10)}function Fe(b,M){const Y=b!=null&&b!==""?y.find(G=>G.name.value===b):null,J=M!=null&&M!==""?y.find(G=>G.name.value===M):null;if(Y&&J){const G=Y.tabIndicatorRef.value,L=J.tabIndicatorRef.value;te!==null&&(clearTimeout(te),te=null),G.style.transition="none",G.style.transform="none",L.style.transition="none",L.style.transform="none";const j=G.getBoundingClientRect(),ce=L.getBoundingClientRect();L.style.transform=e.vertical===!0?`translate3d(0,${j.top-ce.top}px,0) scale3d(1,${ce.height?j.height/ce.height:1},1)`:`translate3d(${j.left-ce.left}px,0,0) scale3d(${ce.width?j.width/ce.width:1},1,1)`,i(()=>{te=setTimeout(()=>{te=null,L.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",L.style.transform="none"},70)})}J&&w.value===!0&&ge(J.rootRef.value)}function ge(b){const{left:M,width:Y,top:J,height:G}=V.value.getBoundingClientRect(),L=b.getBoundingClientRect();let j=e.vertical===!0?L.top-J:L.left-M;if(j<0){V.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(j),_e();return}j+=e.vertical===!0?L.height-G:L.width-Y,j>0&&(V.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(j),_e())}function _e(){const b=V.value;if(b===null)return;const M=b.getBoundingClientRect(),Y=e.vertical===!0?b.scrollTop:Math.abs(b.scrollLeft);Z.value===!0?(_.value=Math.ceil(Y+M.width)<b.scrollWidth-1,R.value=Y>0):(_.value=Y>0,R.value=e.vertical===!0?Math.ceil(Y+M.height)<b.scrollHeight:Math.ceil(Y+M.width)<b.scrollWidth)}function Le(b){W!==null&&clearInterval(W),W=setInterval(()=>{qe(b)===!0&&ye()},5)}function Ye(){Le(ve.value===!0?Number.MAX_SAFE_INTEGER:0)}function je(){Le(ve.value===!0?0:Number.MAX_SAFE_INTEGER)}function ye(){W!==null&&(clearInterval(W),W=null)}function Ae(b,M){const Y=Array.prototype.filter.call(V.value.children,ce=>ce===M||ce.matches&&ce.matches(".q-tab.q-focusable")===!0),J=Y.length;if(J===0)return;if(b===36)return ge(Y[0]),Y[0].focus(),!0;if(b===35)return ge(Y[J-1]),Y[J-1].focus(),!0;const G=b===(e.vertical===!0?38:37),L=b===(e.vertical===!0?40:39),j=G===!0?-1:L===!0?1:void 0;if(j!==void 0){const ce=Z.value===!0?-1:1,be=Y.indexOf(M)+j*ce;return be>=0&&be<J&&(ge(Y[be]),Y[be].focus({preventScroll:!0})),!0}}const Ne=g(()=>ve.value===!0?{get:b=>Math.abs(b.scrollLeft),set:(b,M)=>{b.scrollLeft=-M}}:e.vertical===!0?{get:b=>b.scrollTop,set:(b,M)=>{b.scrollTop=M}}:{get:b=>b.scrollLeft,set:(b,M)=>{b.scrollLeft=M}});function qe(b){const M=V.value,{get:Y,set:J}=Ne.value;let G=!1,L=Y(M);const j=b<L?-1:1;return L+=j*5,L<0?(G=!0,L=0):(j===-1&&L<=b||j===1&&L>=b)&&(G=!0,L=b),J(M,L),_e(),G}function Re(b,M){for(const Y in b)if(b[Y]!==M[Y])return!1;return!0}function re(){let b=null,M={matchedLen:0,queryDiff:9999,hrefLen:0};const Y=y.filter(j=>j.routeData!==void 0&&j.routeData.hasRouterLink.value===!0),{hash:J,query:G}=r.$route,L=Object.keys(G).length;for(const j of Y){const ce=j.routeData.exact.value===!0;if(j.routeData[ce===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:be,query:f,matched:p,href:T}=j.routeData.resolvedLink.value,O=Object.keys(f).length;if(ce===!0){if(be!==J||O!==L||Re(G,f)===!1)continue;b=j.name.value;break}if(be!==""&&be!==J||O!==0&&Re(f,G)===!1)continue;const U={matchedLen:p.length,queryDiff:L-O,hrefLen:T.length-be.length};if(U.matchedLen>M.matchedLen){b=j.name.value,M=U;continue}else if(U.matchedLen!==M.matchedLen)continue;if(U.queryDiff<M.queryDiff)b=j.name.value,M=U;else if(U.queryDiff!==M.queryDiff)continue;U.hrefLen>M.hrefLen&&(b=j.name.value,M=U)}b===null&&y.some(j=>j.routeData===void 0&&j.name.value===P.value)===!0||ue({name:b,setCurrent:!0})}function se(b){if(q(),B.value!==!0&&x.value!==null&&b.target&&typeof b.target.closest=="function"){const M=b.target.closest(".q-tab");M&&x.value.contains(M)===!0&&(B.value=!0,w.value===!0&&ge(M))}}function Qe(){h(()=>{B.value=!1},30)}function Me(){Xe.avoidRouteWatcher===!1?v(re):D()}function ze(){if(z===void 0){const b=pe(()=>r.$route.fullPath,Me);z=()=>{b(),z=void 0}}}function Ie(b){y.push(b),d.value++,fe(),b.routeData===void 0||r.$route===void 0?v(()=>{if(w.value===!0){const M=P.value,Y=M!=null&&M!==""?y.find(J=>J.name.value===M):null;Y&&ge(Y.rootRef.value)}}):(ze(),b.routeData.hasRouterLink.value===!0&&Me())}function me(b){y.splice(y.indexOf(b),1),d.value--,fe(),z!==void 0&&b.routeData!==void 0&&(y.every(M=>M.routeData===void 0)===!0&&z(),Me())}const Xe={currentModel:P,tabProps:de,hasFocus:B,hasActiveTab:Ce,registerTab:Ie,unregisterTab:me,verifyRouteModel:Me,updateModel:ue,onKbdNavigate:Ae,avoidRouteWatcher:!1};Oa(ra,Xe);function Je(){te!==null&&clearTimeout(te),ye(),z!==void 0&&z()}let Te;return Yt(Je),sa(()=>{Te=z!==void 0,Je()}),ca(()=>{Te===!0&&ze(),fe()}),()=>m("div",{ref:x,class:E.value,role:"tablist",onFocusin:se,onFocusout:Qe},[m(vn,{onResize:xe}),m("div",{ref:V,class:I.value,onScroll:_e},Oe(a.default)),m(Pe,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(_.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||u.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Ye,onTouchstartPassive:Ye,onMouseupPassive:ye,onMouseleavePassive:ye,onTouchendPassive:ye}),m(Pe,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(R.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||u.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:je,onTouchstartPassive:je,onMouseupPassive:ye,onMouseleavePassive:ye,onTouchendPassive:ye})])}});const He=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Fn(e,a,o){return Object.prototype.toString.call(e)==="[object Date]"&&(o=e.getDate(),a=e.getMonth()+1,e=e.getFullYear()),Rn(Ot(e,a,o))}function Wt(e,a,o){return ba(Nn(e,a,o))}function Ln(e){return jn(e)===0}function ht(e,a){return a<=6?31:a<=11||Ln(e)?30:29}function jn(e){const a=He.length;let o=He[0],r,u,l,s,i;if(e<o||e>=He[a-1])throw new Error("Invalid Jalaali year "+e);for(i=1;i<a&&(r=He[i],u=r-o,!(e<r));i+=1)o=r;return s=e-o,u-s<6&&(s=s-u+ne(u+4,33)*33),l=De(De(s+1,33)-1,4),l===-1&&(l=4),l}function ya(e,a){const o=He.length,r=e+621;let u=-14,l=He[0],s,i,h,q,v;if(e<l||e>=He[o-1])throw new Error("Invalid Jalaali year "+e);for(v=1;v<o&&(s=He[v],i=s-l,!(e<s));v+=1)u=u+ne(i,33)*8+ne(De(i,33),4),l=s;q=e-l,u=u+ne(q,33)*8+ne(De(q,33)+3,4),De(i,33)===4&&i-q===4&&(u+=1);const D=ne(r,4)-ne((ne(r,100)+1)*3,4)-150,x=20+u-D;return a||(i-q<6&&(q=q-i+ne(i+4,33)*33),h=De(De(q+1,33)-1,4),h===-1&&(h=4)),{leap:h,gy:r,march:x}}function Nn(e,a,o){const r=ya(e,!0);return Ot(r.gy,3,r.march)+(a-1)*31-ne(a,7)*(a-7)+o-1}function Rn(e){const a=ba(e).gy;let o=a-621,r,u,l;const s=ya(o,!1),i=Ot(a,3,s.march);if(l=e-i,l>=0){if(l<=185)return u=1+ne(l,31),r=De(l,31)+1,{jy:o,jm:u,jd:r};l-=186}else o-=1,l+=179,s.leap===1&&(l+=1);return u=7+ne(l,30),r=De(l,30)+1,{jy:o,jm:u,jd:r}}function Ot(e,a,o){let r=ne((e+ne(a-8,6)+100100)*1461,4)+ne(153*De(a+9,12)+2,5)+o-34840408;return r=r-ne(ne(e+100100+ne(a-8,6),100)*3,4)+752,r}function ba(e){let a=4*e+139361631;a=a+ne(ne(4*e+183187720,146097)*3,4)*4-3908;const o=ne(De(a,1461),4)*5+308,r=ne(De(o,153),5)+1,u=De(ne(o,153),12)+1;return{gy:ne(a,1461)-100100+ne(8-u,6),gm:u,gd:r}}function ne(e,a){return~~(e/a)}function De(e,a){return e-~~(e/a)*a}const Qn=["gregorian","persian"],pa={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Qn.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},_a=["update:modelValue"];function Ve(e){return e.year+"/"+Q(e.month)+"/"+Q(e.day)}function wa(e,a){const o=g(()=>e.disable!==!0&&e.readonly!==!0),r=g(()=>o.value===!0?0:-1),u=g(()=>{const i=[];return e.color!==void 0&&i.push(`bg-${e.color}`),e.textColor!==void 0&&i.push(`text-${e.textColor}`),i.join(" ")});function l(){return e.locale!==void 0?{...a.lang.date,...e.locale}:a.lang.date}function s(i){const h=new Date,q=i===!0?null:0;if(e.calendar==="persian"){const v=Fn(h);return{year:v.jy,month:v.jm,day:v.jd}}return{year:h.getFullYear(),month:h.getMonth()+1,day:h.getDate(),hour:q,minute:q,second:q,millisecond:q}}return{editable:o,tabindex:r,headerClass:u,getLocale:l,getCurrentDate:s}}const Ca=864e5,zn=36e5,Bt=6e4,Sa="YYYY-MM-DDTHH:mm:ss.SSSZ",Un=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Kn=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Tt={};function Wn(e,a){const o="("+a.days.join("|")+")",r=e+o;if(Tt[r]!==void 0)return Tt[r];const u="("+a.daysShort.join("|")+")",l="("+a.months.join("|")+")",s="("+a.monthsShort.join("|")+")",i={};let h=0;const q=e.replace(Kn,D=>{switch(h++,D){case"YY":return i.YY=h,"(-?\\d{1,2})";case"YYYY":return i.YYYY=h,"(-?\\d{1,4})";case"M":return i.M=h,"(\\d{1,2})";case"MM":return i.M=h,"(\\d{2})";case"MMM":return i.MMM=h,s;case"MMMM":return i.MMMM=h,l;case"D":return i.D=h,"(\\d{1,2})";case"Do":return i.D=h++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return i.D=h,"(\\d{2})";case"H":return i.H=h,"(\\d{1,2})";case"HH":return i.H=h,"(\\d{2})";case"h":return i.h=h,"(\\d{1,2})";case"hh":return i.h=h,"(\\d{2})";case"m":return i.m=h,"(\\d{1,2})";case"mm":return i.m=h,"(\\d{2})";case"s":return i.s=h,"(\\d{1,2})";case"ss":return i.s=h,"(\\d{2})";case"S":return i.S=h,"(\\d{1})";case"SS":return i.S=h,"(\\d{2})";case"SSS":return i.S=h,"(\\d{3})";case"A":return i.A=h,"(AM|PM)";case"a":return i.a=h,"(am|pm)";case"aa":return i.aa=h,"(a\\.m\\.|p\\.m\\.)";case"ddd":return u;case"dddd":return o;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return i.Z=h,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return i.ZZ=h,"(Z|[+-]\\d{2}\\d{2})";case"X":return i.X=h,"(-?\\d+)";case"x":return i.x=h,"(-?\\d{4,})";default:return h--,D[0]==="["&&(D=D.substring(1,D.length-1)),D.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),v={map:i,regex:new RegExp("^"+q)};return Tt[r]=v,v}function Da(e,a){return e!==void 0?e:a!==void 0?a.date:Fa.date}function Zt(e,a=""){const o=e>0?"-":"+",r=Math.abs(e),u=Math.floor(r/60),l=r%60;return o+Q(u)+a+Q(l)}function rt(e,a,o,r,u){const l={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(u!==void 0&&Object.assign(l,u),e==null||e===""||typeof e!="string")return l;a===void 0&&(a=Sa);const s=Da(o,da.props),i=s.months,h=s.monthsShort,{regex:q,map:v}=Wn(a,s),D=e.match(q);if(D===null)return l;let x="";if(v.X!==void 0||v.x!==void 0){const V=parseInt(D[v.X!==void 0?v.X:v.x],10);if(isNaN(V)===!0||V<0)return l;const P=new Date(V*(v.X!==void 0?1e3:1));l.year=P.getFullYear(),l.month=P.getMonth()+1,l.day=P.getDate(),l.hour=P.getHours(),l.minute=P.getMinutes(),l.second=P.getSeconds(),l.millisecond=P.getMilliseconds()}else{if(v.YYYY!==void 0)l.year=parseInt(D[v.YYYY],10);else if(v.YY!==void 0){const V=parseInt(D[v.YY],10);l.year=V<0?V:2e3+V}if(v.M!==void 0){if(l.month=parseInt(D[v.M],10),l.month<1||l.month>12)return l}else v.MMM!==void 0?l.month=h.indexOf(D[v.MMM])+1:v.MMMM!==void 0&&(l.month=i.indexOf(D[v.MMMM])+1);if(v.D!==void 0){if(l.day=parseInt(D[v.D],10),l.year===null||l.month===null||l.day<1)return l;const V=r!=="persian"?new Date(l.year,l.month,0).getDate():ht(l.year,l.month);if(l.day>V)return l}v.H!==void 0?l.hour=parseInt(D[v.H],10)%24:v.h!==void 0&&(l.hour=parseInt(D[v.h],10)%12,(v.A&&D[v.A]==="PM"||v.a&&D[v.a]==="pm"||v.aa&&D[v.aa]==="p.m.")&&(l.hour+=12),l.hour=l.hour%24),v.m!==void 0&&(l.minute=parseInt(D[v.m],10)%60),v.s!==void 0&&(l.second=parseInt(D[v.s],10)%60),v.S!==void 0&&(l.millisecond=parseInt(D[v.S],10)*10**(3-D[v.S].length)),(v.Z!==void 0||v.ZZ!==void 0)&&(x=v.Z!==void 0?D[v.Z].replace(":",""):D[v.ZZ],l.timezoneOffset=(x[0]==="+"?-1:1)*(60*x.slice(1,3)+1*x.slice(3,5)))}return l.dateHash=Q(l.year,6)+"/"+Q(l.month)+"/"+Q(l.day),l.timeHash=Q(l.hour)+":"+Q(l.minute)+":"+Q(l.second)+x,l}function Xt(e){const a=new Date(e.getFullYear(),e.getMonth(),e.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);const o=new Date(a.getFullYear(),0,4);o.setDate(o.getDate()-(o.getDay()+6)%7+3);const r=a.getTimezoneOffset()-o.getTimezoneOffset();a.setHours(a.getHours()-r);const u=(a-o)/(Ca*7);return 1+Math.floor(u)}function $e(e,a,o){const r=new Date(e),u=`set${o===!0?"UTC":""}`;switch(a){case"year":case"years":r[`${u}Month`](0);case"month":case"months":r[`${u}Date`](1);case"day":case"days":case"date":r[`${u}Hours`](0);case"hour":case"hours":r[`${u}Minutes`](0);case"minute":case"minutes":r[`${u}Seconds`](0);case"second":case"seconds":r[`${u}Milliseconds`](0)}return r}function mt(e,a,o){return(e.getTime()-e.getTimezoneOffset()*Bt-(a.getTime()-a.getTimezoneOffset()*Bt))/o}function qa(e,a,o="days"){const r=new Date(e),u=new Date(a);switch(o){case"years":case"year":return r.getFullYear()-u.getFullYear();case"months":case"month":return(r.getFullYear()-u.getFullYear())*12+r.getMonth()-u.getMonth();case"days":case"day":case"date":return mt($e(r,"day"),$e(u,"day"),Ca);case"hours":case"hour":return mt($e(r,"hour"),$e(u,"hour"),zn);case"minutes":case"minute":return mt($e(r,"minute"),$e(u,"minute"),Bt);case"seconds":case"second":return mt($e(r,"second"),$e(u,"second"),1e3)}}function Jt(e){return qa(e,$e(e,"year"),"days")+1}function Gt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const ea={YY(e,a,o){const r=this.YYYY(e,a,o)%100;return r>=0?Q(r):"-"+Q(Math.abs(r))},YYYY(e,a,o){return o!=null?o:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return Q(e.getMonth()+1)},MMM(e,a){return a.monthsShort[e.getMonth()]},MMMM(e,a){return a.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Gt(this.Q(e))},D(e){return e.getDate()},Do(e){return Gt(e.getDate())},DD(e){return Q(e.getDate())},DDD(e){return Jt(e)},DDDD(e){return Q(Jt(e),3)},d(e){return e.getDay()},dd(e,a){return this.dddd(e,a).slice(0,2)},ddd(e,a){return a.daysShort[e.getDay()]},dddd(e,a){return a.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Xt(e)},ww(e){return Q(Xt(e))},H(e){return e.getHours()},HH(e){return Q(e.getHours())},h(e){const a=e.getHours();return a===0?12:a>12?a%12:a},hh(e){return Q(this.h(e))},m(e){return e.getMinutes()},mm(e){return Q(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return Q(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return Q(Math.floor(e.getMilliseconds()/10))},SSS(e){return Q(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,a,o,r){const u=r==null?e.getTimezoneOffset():r;return Zt(u,":")},ZZ(e,a,o,r){const u=r==null?e.getTimezoneOffset():r;return Zt(u)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Ma(e,a,o,r,u){if(e!==0&&!e||e===1/0||e===-1/0)return;const l=new Date(e);if(isNaN(l))return;a===void 0&&(a=Sa);const s=Da(o,da.props);return a.replace(Un,(i,h)=>i in ea?ea[i](l,s,r,u):h===void 0?i:h.split("\\]").join("]"))}function Zn(e,a){if(e.hour!==null){if(e.minute===null)return"minute";if(a===!0&&e.second===null)return"second"}return"hour"}function Xn(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}var ta=ke({name:"QTime",props:{...st,...Et,...pa,mask:{default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:_a,setup(e,{slots:a,emit:o}){const r=Be(),{$q:u}=r.proxy,l=ct(e,u),{tabindex:s,headerClass:i,getLocale:h,getCurrentDate:q}=wa(e,u),v=fa(e),D=Ht(v);let x,V;const P=A(null),w=g(()=>je()),_=g(()=>h()),R=g(()=>ye()),ee=rt(e.modelValue,w.value,_.value,e.calendar,R.value),y=A(Zn(ee)),d=A(ee),B=A(ee.hour===null||ee.hour<12),te=g(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+(l.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),W=g(()=>{const f=d.value;return{hour:f.hour===null?"--":z.value===!0?Q(f.hour):String(B.value===!0?f.hour===0?12:f.hour:f.hour>12?f.hour-12:f.hour),minute:f.minute===null?"--":Q(f.minute),second:f.second===null?"--":Q(f.second)}}),z=g(()=>e.format24h!==null?e.format24h:u.lang.date.format24h),de=g(()=>{const f=y.value==="hour",p=f===!0?12:60,T=d.value[y.value];let U=`rotate(${Math.round(T*(360/p))-180}deg) translateX(-50%)`;return f===!0&&z.value===!0&&d.value.hour>=12&&(U+=" scale(.7)"),{transform:U}}),Ce=g(()=>d.value.hour!==null),le=g(()=>Ce.value===!0&&d.value.minute!==null),E=g(()=>e.hourOptions!==void 0?f=>e.hourOptions.includes(f):e.options!==void 0?f=>e.options(f,null,null):null),I=g(()=>e.minuteOptions!==void 0?f=>e.minuteOptions.includes(f):e.options!==void 0?f=>e.options(d.value.hour,f,null):null),H=g(()=>e.secondOptions!==void 0?f=>e.secondOptions.includes(f):e.options!==void 0?f=>e.options(d.value.hour,d.value.minute,f):null),Z=g(()=>{if(E.value===null)return null;const f=_e(0,11,E.value),p=_e(12,11,E.value);return{am:f,pm:p,values:f.values.concat(p.values)}}),ve=g(()=>I.value!==null?_e(0,59,I.value):null),ue=g(()=>H.value!==null?_e(0,59,H.value):null),fe=g(()=>{switch(y.value){case"hour":return Z.value;case"minute":return ve.value;case"second":return ue.value}}),xe=g(()=>{let f,p,T=0,O=1;const U=fe.value!==null?fe.value.values:void 0;y.value==="hour"?z.value===!0?(f=0,p=23):(f=0,p=11,B.value===!1&&(T=12)):(f=0,p=55,O=5);const Se=[];for(let N=f,oe=f;N<=p;N+=O,oe++){const we=N+T,dt=U!==void 0&&U.includes(we)===!1,Ge=y.value==="hour"&&N===0?z.value===!0?"00":"12":N;Se.push({val:we,index:oe,disable:dt,label:Ge})}return Se}),Fe=g(()=>[[fn,qe,void 0,{stop:!0,prevent:!0,mouse:!0}]]);pe(()=>e.modelValue,f=>{const p=rt(f,w.value,_.value,e.calendar,R.value);(p.dateHash!==d.value.dateHash||p.timeHash!==d.value.timeHash)&&(d.value=p,p.hour===null?y.value="hour":B.value=p.hour<12)}),pe([w,_],()=>{gt(()=>{j()})});function ge(){const f={...q(),...Xn()};j(f),Object.assign(d.value,f),y.value="hour"}function _e(f,p,T){const O=Array.apply(null,{length:p+1}).map((U,Se)=>{const N=Se+f;return{index:N,val:T(N)===!0}}).filter(U=>U.val===!0).map(U=>U.index);return{min:O[0],max:O[O.length-1],values:O,threshold:p+1}}function Le(f,p,T){const O=Math.abs(f-p);return Math.min(O,T-O)}function Ye(f,{min:p,max:T,values:O,threshold:U}){if(f===p)return p;if(f<p||f>T)return Le(f,p,U)<=Le(f,T,U)?p:T;const Se=O.findIndex(we=>f<=we),N=O[Se-1],oe=O[Se];return f-N<=oe-f?N:oe}function je(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function ye(){if(typeof e.defaultDate!="string"){const f=q(!0);return f.dateHash=Ve(f),f}return rt(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function Ae(){return La(r)===!0||fe.value!==null&&(fe.value.values.length===0||y.value==="hour"&&z.value!==!0&&Z.value[B.value===!0?"am":"pm"].values.length===0)}function Ne(){const f=P.value,{top:p,left:T,width:O}=f.getBoundingClientRect(),U=O/2;return{top:p+U,left:T+U,dist:U*.7}}function qe(f){if(Ae()!==!0){if(f.isFirst===!0){x=Ne(),V=re(f.evt,x);return}V=re(f.evt,x,V),f.isFinal===!0&&(x=!1,V=null,Re())}}function Re(){y.value==="hour"?y.value="minute":e.withSeconds&&y.value==="minute"&&(y.value="second")}function re(f,p,T){const O=$t(f),U=Math.abs(O.top-p.top),Se=Math.sqrt(Math.pow(Math.abs(O.top-p.top),2)+Math.pow(Math.abs(O.left-p.left),2));let N,oe=Math.asin(U/Se)*(180/Math.PI);if(O.top<p.top?oe=p.left<O.left?90-oe:270+oe:oe=p.left<O.left?oe+90:270-oe,y.value==="hour"){if(N=oe/30,Z.value!==null){const we=z.value!==!0?B.value===!0:Z.value.am.values.length!==0&&Z.value.pm.values.length!==0?Se>=p.dist:Z.value.am.values.length!==0;N=Ye(N+(we===!0?0:12),Z.value[we===!0?"am":"pm"])}else N=Math.round(N),z.value===!0?Se<p.dist?N<12&&(N+=12):N===12&&(N=0):B.value===!0&&N===12?N=0:B.value===!1&&N!==12&&(N+=12);z.value===!0&&(B.value=N<12)}else N=Math.round(oe/6)%60,y.value==="minute"&&ve.value!==null?N=Ye(N,ve.value):y.value==="second"&&ue.value!==null&&(N=Ye(N,ue.value));return T!==N&&Y[y.value](N),N}const se={hour(){y.value="hour"},minute(){y.value="minute"},second(){y.value="second"}};function Qe(f){f.keyCode===13&&J()}function Me(f){f.keyCode===13&&G()}function ze(f){Ae()!==!0&&(u.platform.is.desktop!==!0&&re(f,Ne()),Re())}function Ie(f){Ae()!==!0&&re(f,Ne())}function me(f){if(f.keyCode===13)y.value="hour";else if([37,39].includes(f.keyCode)){const p=f.keyCode===37?-1:1;if(Z.value!==null){const T=z.value===!0?Z.value.values:Z.value[B.value===!0?"am":"pm"].values;if(T.length===0)return;if(d.value.hour===null)Te(T[0]);else{const O=(T.length+T.indexOf(d.value.hour)+p)%T.length;Te(T[O])}}else{const T=z.value===!0?24:12,O=z.value!==!0&&B.value===!1?12:0,U=d.value.hour===null?-p:d.value.hour;Te(O+(24+U+p)%T)}}}function Xe(f){if(f.keyCode===13)y.value="minute";else if([37,39].includes(f.keyCode)){const p=f.keyCode===37?-1:1;if(ve.value!==null){const T=ve.value.values;if(T.length===0)return;if(d.value.minute===null)b(T[0]);else{const O=(T.length+T.indexOf(d.value.minute)+p)%T.length;b(T[O])}}else{const T=d.value.minute===null?-p:d.value.minute;b((60+T+p)%60)}}}function Je(f){if(f.keyCode===13)y.value="second";else if([37,39].includes(f.keyCode)){const p=f.keyCode===37?-1:1;if(ue.value!==null){const T=ue.value.values;if(T.length===0)return;if(d.value.seconds===null)M(T[0]);else{const O=(T.length+T.indexOf(d.value.second)+p)%T.length;M(T[O])}}else{const T=d.value.second===null?-p:d.value.second;M((60+T+p)%60)}}}function Te(f){d.value.hour!==f&&(d.value.hour=f,L())}function b(f){d.value.minute!==f&&(d.value.minute=f,L())}function M(f){d.value.second!==f&&(d.value.second=f,L())}const Y={hour:Te,minute:b,second:M};function J(){B.value===!1&&(B.value=!0,d.value.hour!==null&&(d.value.hour-=12,L()))}function G(){B.value===!0&&(B.value=!1,d.value.hour!==null&&(d.value.hour+=12,L()))}function L(){if(E.value!==null&&E.value(d.value.hour)!==!0){d.value=rt(),y.value="hour";return}if(I.value!==null&&I.value(d.value.minute)!==!0){d.value.minute=null,d.value.second=null,y.value="minute";return}if(e.withSeconds===!0&&H.value!==null&&H.value(d.value.second)!==!0){d.value.second=null,y.value="second";return}d.value.hour===null||d.value.minute===null||e.withSeconds===!0&&d.value.second===null||j()}function j(f){const p=Object.assign({...d.value},f),T=e.calendar==="persian"?Q(p.hour)+":"+Q(p.minute)+(e.withSeconds===!0?":"+Q(p.second):""):Ma(new Date(p.year,p.month===null?null:p.month-1,p.day,p.hour,p.minute,p.second,p.millisecond),w.value,_.value,p.year,p.timezoneOffset);p.changed=T!==e.modelValue,o("update:modelValue",T,p)}function ce(){const f=[m("div",{class:"q-time__link "+(y.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onClick:se.hour,onKeyup:me},W.value.hour),m("div",":"),m("div",Ce.value===!0?{class:"q-time__link "+(y.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onKeyup:Xe,onClick:se.minute}:{class:"q-time__link"},W.value.minute)];e.withSeconds===!0&&f.push(m("div",":"),m("div",le.value===!0?{class:"q-time__link "+(y.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onKeyup:Je,onClick:se.second}:{class:"q-time__link"},W.value.second));const p=[m("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},f)];return z.value===!1&&p.push(m("div",{class:"q-time__header-ampm column items-between no-wrap"},[m("div",{class:"q-time__link "+(B.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onClick:J,onKeyup:Qe},"AM"),m("div",{class:"q-time__link "+(B.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onClick:G,onKeyup:Me},"PM")])),m("div",{class:"q-time__header flex flex-center no-wrap "+i.value},p)}function be(){const f=d.value[y.value];return m("div",{class:"q-time__content col relative-position"},[m(Ke,{name:"q-transition--scale"},()=>m("div",{key:"clock"+y.value,class:"q-time__container-parent absolute-full"},[m("div",{ref:P,class:"q-time__container-child fit overflow-hidden"},[We(m("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:ze,onMousedown:Ie},[m("div",{class:"q-time__clock-circle fit"},[m("div",{class:"q-time__clock-pointer"+(d.value[y.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:de.value}),xe.value.map(p=>m("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${p.index}`+(p.val===f?" q-time__clock-position--active "+i.value:p.disable===!0?" q-time__clock-position--disable":"")},[m("span",p.label)]))])]),Fe.value)])])),e.nowBtn===!0?m(ie,{class:"q-time__now-button absolute",icon:u.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:s.value,onClick:ge}):null])}return r.proxy.setNow=ge,()=>{const f=[be()],p=Oe(a.default);return p!==void 0&&f.push(m("div",{class:"q-time__actions"},p)),e.name!==void 0&&e.disable!==!0&&D(f,"push"),m("div",{class:te.value,tabindex:-1},[ce(),m("div",{class:"q-time__main col overflow-auto"},f)])}}}),pt=ke({name:"QPopupProxy",props:{...Sn,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:a,emit:o,attrs:r}){const{proxy:u}=Be(),{$q:l}=u,s=A(!1),i=A(null),h=g(()=>parseInt(e.breakpoint,10)),{canShow:q}=Dn({showing:s});function v(){return l.screen.width<h.value||l.screen.height<h.value?"dialog":"menu"}const D=A(v()),x=g(()=>D.value==="menu"?{maxHeight:"99vh"}:{});pe(()=>v(),w=>{s.value!==!0&&(D.value=w)});function V(w){s.value=!0,o("show",w)}function P(w){s.value=!1,D.value=v(),o("hide",w)}return Object.assign(u,{show(w){q(w)===!0&&i.value.show(w)},hide(w){i.value.hide(w)},toggle(w){i.value.toggle(w)}}),ja(u,"currentComponent",()=>({type:D.value,ref:i.value})),()=>{const w={ref:i,...x.value,...r,onShow:V,onHide:P};let _;return D.value==="dialog"?_=ma:(_=yn,Object.assign(w,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),m(_,w,a.default)}}});function Jn(e){const a=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((o,r)=>{const u=parseFloat(o);u&&(a[r]=u)}),a}var Gn=Na({name:"touch-swipe",beforeMount(e,{value:a,arg:o,modifiers:r}){if(r.mouse!==!0&&ut.has.touch!==!0)return;const u=r.mouseCapture===!0?"Capture":"",l={handler:a,sensitivity:Jn(o),direction:Rt(r),noop:Ra,mouseStart(s){Qt(s,l)&&Qa(s)&&(vt(l,"temp",[[document,"mousemove","move",`notPassive${u}`],[document,"mouseup","end","notPassiveCapture"]]),l.start(s,!0))},touchStart(s){if(Qt(s,l)){const i=s.target;vt(l,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","notPassiveCapture"],[i,"touchend","end","notPassiveCapture"]]),l.start(s)}},start(s,i){ut.is.firefox===!0&&kt(e,!0);const h=$t(s);l.event={x:h.left,y:h.top,time:Date.now(),mouse:i===!0,dir:!1}},move(s){if(l.event===void 0)return;if(l.event.dir!==!1){Ze(s);return}const i=Date.now()-l.event.time;if(i===0)return;const h=$t(s),q=h.left-l.event.x,v=Math.abs(q),D=h.top-l.event.y,x=Math.abs(D);if(l.event.mouse!==!0){if(v<l.sensitivity[1]&&x<l.sensitivity[1]){l.end(s);return}}else if(window.getSelection().toString()!==""){l.end(s);return}else if(v<l.sensitivity[2]&&x<l.sensitivity[2])return;const V=v/i,P=x/i;l.direction.vertical===!0&&v<x&&v<100&&P>l.sensitivity[0]&&(l.event.dir=D<0?"up":"down"),l.direction.horizontal===!0&&v>x&&x<100&&V>l.sensitivity[0]&&(l.event.dir=q<0?"left":"right"),l.direction.up===!0&&v<x&&D<0&&v<100&&P>l.sensitivity[0]&&(l.event.dir="up"),l.direction.down===!0&&v<x&&D>0&&v<100&&P>l.sensitivity[0]&&(l.event.dir="down"),l.direction.left===!0&&v>x&&q<0&&x<100&&V>l.sensitivity[0]&&(l.event.dir="left"),l.direction.right===!0&&v>x&&q>0&&x<100&&V>l.sensitivity[0]&&(l.event.dir="right"),l.event.dir!==!1?(Ze(s),l.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),qn(),l.styleCleanup=w=>{l.styleCleanup=void 0,document.body.classList.remove("non-selectable");const _=()=>{document.body.classList.remove("no-pointer-events--children")};w===!0?setTimeout(_,50):_()}),l.handler({evt:s,touch:l.event.mouse!==!0,mouse:l.event.mouse,direction:l.event.dir,duration:i,distance:{x:v,y:x}})):l.end(s)},end(s){l.event!==void 0&&(xt(l,"temp"),ut.is.firefox===!0&&kt(e,!1),l.styleCleanup!==void 0&&l.styleCleanup(!0),s!==void 0&&l.event.dir!==!1&&Ze(s),l.event=void 0)}};if(e.__qtouchswipe=l,r.mouse===!0){const s=r.mouseCapture===!0||r.mousecapture===!0?"Capture":"";vt(l,"main",[[e,"mousedown","mouseStart",`passive${s}`]])}ut.has.touch===!0&&vt(l,"main",[[e,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,a){const o=e.__qtouchswipe;o!==void 0&&(a.oldValue!==a.value&&(typeof a.value!="function"&&o.end(),o.handler=a.value),o.direction=Rt(a.modifiers))},beforeUnmount(e){const a=e.__qtouchswipe;a!==void 0&&(xt(a,"main"),xt(a,"temp"),ut.is.firefox===!0&&kt(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(),delete e.__qtouchswipe)}});function ka(){const e=new Map;return{getCache:function(a,o){return e[a]===void 0?e[a]=o:e[a]},getCacheWithFn:function(a,o){return e[a]===void 0?e[a]=o():e[a]}}}const el={name:{required:!0},disable:Boolean},aa={setup(e,{slots:a}){return()=>m("div",{class:"q-panel scroll",role:"tabpanel"},Oe(a.default))}},tl={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},al=["update:modelValue","beforeTransition","transition"];function nl(){const{props:e,emit:a,proxy:o}=Be(),{getCacheWithFn:r}=ka();let u,l;const s=A(null),i=A(null);function h(I){const H=e.vertical===!0?"up":"left";W((o.$q.lang.rtl===!0?-1:1)*(I.direction===H?1:-1))}const q=g(()=>[[Gn,h,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),v=g(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),D=g(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),x=g(()=>`--q-transition-duration: ${e.transitionDuration}ms`),V=g(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),P=g(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),w=g(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);pe(()=>e.modelValue,(I,H)=>{const Z=y(I)===!0?d(I):-1;l!==!0&&te(Z===-1?0:Z<d(H)?-1:1),s.value!==Z&&(s.value=Z,a("beforeTransition",I,H),gt(()=>{a("transition",I,H)}))});function _(){W(1)}function R(){W(-1)}function ee(I){a("update:modelValue",I)}function y(I){return I!=null&&I!==""}function d(I){return u.findIndex(H=>H.props.name===I&&H.props.disable!==""&&H.props.disable!==!0)}function B(){return u.filter(I=>I.props.disable!==""&&I.props.disable!==!0)}function te(I){const H=I!==0&&e.animated===!0&&s.value!==-1?"q-transition--"+(I===-1?v.value:D.value):null;i.value!==H&&(i.value=H)}function W(I,H=s.value){let Z=H+I;for(;Z>-1&&Z<u.length;){const ve=u[Z];if(ve!==void 0&&ve.props.disable!==""&&ve.props.disable!==!0){te(I),l=!0,a("update:modelValue",ve.props.name),setTimeout(()=>{l=!1});return}Z+=I}e.infinite===!0&&u.length!==0&&H!==-1&&H!==u.length&&W(I,I===-1?u.length:-1)}function z(){const I=d(e.modelValue);return s.value!==I&&(s.value=I),!0}function de(){const I=y(e.modelValue)===!0&&z()&&u[s.value];return e.keepAlive===!0?[m(Ua,P.value,[m(w.value===!0?r(V.value,()=>({...aa,name:V.value})):aa,{key:V.value,style:x.value},()=>I)])]:[m("div",{class:"q-panel scroll",style:x.value,key:V.value,role:"tabpanel"},[I])]}function Ce(){if(u.length!==0)return e.animated===!0?[m(Ke,{name:i.value},de)]:de()}function le(I){return u=za(Oe(I.default,[])).filter(H=>H.props!==null&&H.props.slot===void 0&&y(H.props.name)===!0),u.length}function E(){return u}return Object.assign(o,{next:_,previous:R,goTo:ee}),{panelIndex:s,panelDirectives:q,updatePanelsList:le,updatePanelIndex:z,getPanelContent:Ce,getEnabledPanels:B,getPanels:E,isValidPanelName:y,keepAliveProps:P,needsUniqueKeepAliveWrapper:w,goToPanelByOffset:W,goToPanel:ee,nextPanel:_,previousPanel:R}}var na=ke({name:"QTabPanel",props:el,setup(e,{slots:a}){return()=>m("div",{class:"q-tab-panel",role:"tabpanel"},Oe(a.default))}}),ll=ke({name:"QTabPanels",props:{...tl,...st},emits:al,setup(e,{slots:a}){const o=Be(),r=ct(e,o.proxy.$q),{updatePanelsList:u,getPanelContent:l,panelDirectives:s}=nl(),i=g(()=>"q-tab-panels q-panel-parent"+(r.value===!0?" q-tab-panels--dark q-dark":""));return()=>(u(a),Ka("div",{class:i.value},l(),"pan",e.swipeable,()=>s.value))}});const la=ga(),ol=Ct(),xa=Wa("ProgramsItems",{state:()=>({programItemsList:[]}),getters:{isEmpty:e=>a=>e.programItemsList.filter(r=>r.program_id===a).length===0,emptyProgram:()=>{const e=new Date,a=e.getFullYear(),o=e.getMonth(),r=e.getDay(),u=`${a}/${o}/${r}`;return{program_id:0,image_id:0,startDate:u,endDate:u,active:"false"}}},actions:{getItemsByProgramId(e){return this.programItemsList.filter(r=>r.program_id===e).reduce((r,u)=>{var v;const l=u.image_id?u.image_id:0,s=(v=ol.getImageById(l))==null?void 0:v.name,i=u.active==="true",q={...u,imageName:s,activeBool:i,isModified:!1};return r.push(q),r},[])},async getItems(){try{const e=await ft.fetch("programs/items");e.error||(this.programItemsList=e.result||[])}catch{}},getItemById(e){try{return this.programItemsList.find(o=>o.id===e)}catch{}},async removeItem(e){try{(await ft.remove("programs/items",e)).error||await this.getItems()}catch{}},async insert(e){try{const a=await ft.insert("programs/items",e);return a.error||this.programItemsList.push({...a.result}),a}catch{}},async update(e){try{const a=await ft.update("programs/items",e);a.error?la.error(a.error):(await this.getItems(),la.success(a.result))}catch{}}}}),Ue=20,ul=["Calendar","Years","Months"],oa=e=>ul.includes(e),Vt=e=>/^-?[\d]+\/[0-1]\d$/.test(e),at=" \u2014 ";function Ee(e){return e.year+"/"+Q(e.month)}var ua=ke({name:"QDate",props:{...pa,...Et,...st,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Vt},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Vt},navigationMaxYearMonth:{type:String,validator:Vt},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:oa}},emits:[..._a,"rangeStart","rangeEnd","navigation"],setup(e,{slots:a,emit:o}){const{proxy:r}=Be(),{$q:u}=r,l=ct(e,u),{getCache:s}=ka(),{tabindex:i,headerClass:h,getLocale:q,getCurrentDate:v}=wa(e,u);let D;const x=fa(e),V=Ht(x),P=A(null),w=A(ce()),_=A(q()),R=g(()=>ce()),ee=g(()=>q()),y=g(()=>v()),d=A(f(w.value,_.value)),B=A(e.defaultView),te=u.lang.rtl===!0?"right":"left",W=A(te.value),z=A(te.value),de=d.value.year,Ce=A(de-de%Ue-(de<0?Ue:0)),le=A(null),E=g(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(l.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),I=g(()=>e.color||"primary"),H=g(()=>e.textColor||"white"),Z=g(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),ve=g(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),ue=g(()=>ve.value.filter(t=>typeof t=="string").map(t=>be(t,w.value,_.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),fe=g(()=>{const t=n=>be(n,w.value,_.value);return ve.value.filter(n=>Za(n)===!0&&n.from!==void 0&&n.to!==void 0).map(n=>({from:t(n.from),to:t(n.to)})).filter(n=>n.from.dateHash!==null&&n.to.dateHash!==null&&n.from.dateHash<n.to.dateHash)}),xe=g(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const n=Wt(t.year,t.month,t.day);return new Date(n.gy,n.gm-1,n.gd)}),Fe=g(()=>e.calendar==="persian"?Ve:(t,n,c)=>Ma(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),n===void 0?w.value:n,c===void 0?_.value:c,t.year,t.timezoneOffset)),ge=g(()=>ue.value.length+fe.value.reduce((t,n)=>t+1+qa(xe.value(n.to),xe.value(n.from)),0)),_e=g(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(le.value!==null){const c=le.value.init,S=xe.value(c);return _.value.daysShort[S.getDay()]+", "+_.value.monthsShort[c.month-1]+" "+c.day+at+"?"}if(ge.value===0)return at;if(ge.value>1)return`${ge.value} ${_.value.pluralDay}`;const t=ue.value[0],n=xe.value(t);return isNaN(n.valueOf())===!0?at:_.value.headerTitle!==void 0?_.value.headerTitle(n,t):_.value.daysShort[n.getDay()]+", "+_.value.monthsShort[t.month-1]+" "+t.day}),Le=g(()=>ue.value.concat(fe.value.map(n=>n.from)).sort((n,c)=>n.year-c.year||n.month-c.month)[0]),Ye=g(()=>ue.value.concat(fe.value.map(n=>n.to)).sort((n,c)=>c.year-n.year||c.month-n.month)[0]),je=g(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(ge.value===0)return at;if(ge.value>1){const t=Le.value,n=Ye.value,c=_.value.monthsShort;return c[t.month-1]+(t.year!==n.year?" "+t.year+at+c[n.month-1]+" ":t.month!==n.month?at+c[n.month-1]:"")+" "+n.year}return ue.value[0].year}),ye=g(()=>{const t=[u.iconSet.datetime.arrowLeft,u.iconSet.datetime.arrowRight];return u.lang.rtl===!0?t.reverse():t}),Ae=g(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):_.value.firstDayOfWeek),Ne=g(()=>{const t=_.value.daysShort,n=Ae.value;return n>0?t.slice(n,7).concat(t.slice(0,n)):t}),qe=g(()=>{const t=d.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():ht(t.year,t.month)}),Re=g(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),re=g(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),se=g(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),Qe=g(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return re.value!==null&&re.value.year>=d.value.year&&(t.year.prev=!1,re.value.year===d.value.year&&re.value.month>=d.value.month&&(t.month.prev=!1)),se.value!==null&&se.value.year<=d.value.year&&(t.year.next=!1,se.value.year===d.value.year&&se.value.month<=d.value.month&&(t.month.next=!1)),t}),Me=g(()=>{const t={};return ue.value.forEach(n=>{const c=Ee(n);t[c]===void 0&&(t[c]=[]),t[c].push(n.day)}),t}),ze=g(()=>{const t={};return fe.value.forEach(n=>{const c=Ee(n.from),S=Ee(n.to);if(t[c]===void 0&&(t[c]=[]),t[c].push({from:n.from.day,to:c===S?n.to.day:void 0,range:n}),c<S){let C;const{year:K,month:k}=n.from,F=k<12?{year:K,month:k+1}:{year:K+1,month:1};for(;(C=Ee(F))<=S;)t[C]===void 0&&(t[C]=[]),t[C].push({from:void 0,to:C===S?n.to.day:void 0,range:n}),F.month++,F.month>12&&(F.year++,F.month=1)}}),t}),Ie=g(()=>{if(le.value===null)return;const{init:t,initHash:n,final:c,finalHash:S}=le.value,[C,K]=n<=S?[t,c]:[c,t],k=Ee(C),F=Ee(K);if(k!==me.value&&F!==me.value)return;const ae={};return k===me.value?(ae.from=C.day,ae.includeFrom=!0):ae.from=1,F===me.value?(ae.to=K.day,ae.includeTo=!0):ae.to=qe.value,ae}),me=g(()=>Ee(d.value)),Xe=g(()=>{const t={};if(e.options===void 0){for(let c=1;c<=qe.value;c++)t[c]=!0;return t}const n=typeof e.options=="function"?e.options:c=>e.options.includes(c);for(let c=1;c<=qe.value;c++){const S=me.value+"/"+Q(c);t[c]=n(S)}return t}),Je=g(()=>{const t={};if(e.events===void 0)for(let n=1;n<=qe.value;n++)t[n]=!1;else{const n=typeof e.events=="function"?e.events:c=>e.events.includes(c);for(let c=1;c<=qe.value;c++){const S=me.value+"/"+Q(c);t[c]=n(S)===!0&&Re.value(S)}}return t}),Te=g(()=>{let t,n;const{year:c,month:S}=d.value;if(e.calendar!=="persian")t=new Date(c,S-1,1),n=new Date(c,S-1,0).getDate();else{const C=Wt(c,S,1);t=new Date(C.gy,C.gm-1,C.gd);let K=S-1,k=c;K===0&&(K=12,k--),n=ht(k,K)}return{days:t.getDay()-Ae.value-1,endDay:n}}),b=g(()=>{const t=[],{days:n,endDay:c}=Te.value,S=n<0?n+7:n;if(S<6)for(let k=c-S;k<=c;k++)t.push({i:k,fill:!0});const C=t.length;for(let k=1;k<=qe.value;k++){const F={i:k,event:Je.value[k],classes:[]};Xe.value[k]===!0&&(F.in=!0,F.flat=!0),t.push(F)}if(Me.value[me.value]!==void 0&&Me.value[me.value].forEach(k=>{const F=C+k-1;Object.assign(t[F],{selected:!0,unelevated:!0,flat:!1,color:I.value,textColor:H.value})}),ze.value[me.value]!==void 0&&ze.value[me.value].forEach(k=>{if(k.from!==void 0){const F=C+k.from-1,ae=C+(k.to||qe.value)-1;for(let ot=F;ot<=ae;ot++)Object.assign(t[ot],{range:k.range,unelevated:!0,color:I.value,textColor:H.value});Object.assign(t[F],{rangeFrom:!0,flat:!1}),k.to!==void 0&&Object.assign(t[ae],{rangeTo:!0,flat:!1})}else if(k.to!==void 0){const F=C+k.to-1;for(let ae=C;ae<=F;ae++)Object.assign(t[ae],{range:k.range,unelevated:!0,color:I.value,textColor:H.value});Object.assign(t[F],{flat:!1,rangeTo:!0})}else{const F=C+qe.value-1;for(let ae=C;ae<=F;ae++)Object.assign(t[ae],{range:k.range,unelevated:!0,color:I.value,textColor:H.value})}}),Ie.value!==void 0){const k=C+Ie.value.from-1,F=C+Ie.value.to-1;for(let ae=k;ae<=F;ae++)t[ae].color=I.value,t[ae].editRange=!0;Ie.value.includeFrom===!0&&(t[k].editRangeFrom=!0),Ie.value.includeTo===!0&&(t[F].editRangeTo=!0)}d.value.year===y.value.year&&d.value.month===y.value.month&&(t[C+y.value.day-1].today=!0);const K=t.length%7;if(K>0){const k=7-K;for(let F=1;F<=k;F++)t.push({i:F,fill:!0})}return t.forEach(k=>{let F="q-date__calendar-item ";k.fill===!0?F+="q-date__calendar-item--fill":(F+=`q-date__calendar-item--${k.in===!0?"in":"out"}`,k.range!==void 0&&(F+=` q-date__range${k.rangeTo===!0?"-to":k.rangeFrom===!0?"-from":""}`),k.editRange===!0&&(F+=` q-date__edit-range${k.editRangeFrom===!0?"-from":""}${k.editRangeTo===!0?"-to":""}`),(k.range!==void 0||k.editRange===!0)&&(F+=` text-${k.color}`)),k.classes=F}),t}),M=g(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});pe(()=>e.modelValue,t=>{if(D===t)D=0;else{const n=f(w.value,_.value);we(n.year,n.month,n)}}),pe(B,()=>{P.value!==null&&r.$el.contains(document.activeElement)===!0&&P.value.focus()}),pe(()=>d.value.year+"|"+d.value.month,()=>{o("navigation",{year:d.value.year,month:d.value.month})}),pe(R,t=>{Lt(t,_.value,"mask"),w.value=t}),pe(ee,t=>{Lt(w.value,t,"locale"),_.value=t});function Y(){const t=y.value,n=Me.value[Ee(t)];(n===void 0||n.includes(t.day)===!1)&&St(t),L(t.year,t.month)}function J(t){oa(t)===!0&&(B.value=t)}function G(t,n){["month","year"].includes(t)&&(t==="month"?T:O)(n===!0?-1:1)}function L(t,n){B.value="Calendar",we(t,n)}function j(t,n){if(e.range===!1||!t){le.value=null;return}const c=Object.assign({...d.value},t),S=n!==void 0?Object.assign({...d.value},n):c;le.value={init:c,initHash:Ve(c),final:S,finalHash:Ve(S)},L(c.year,c.month)}function ce(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function be(t,n,c){return rt(t,n,c,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function f(t,n){const c=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(c.length===0)return p();const S=c[c.length-1],C=be(S.from!==void 0?S.from:S,t,n);return C.dateHash===null?p():C}function p(){let t,n;if(e.defaultYearMonth!==void 0){const c=e.defaultYearMonth.split("/");t=parseInt(c[0],10),n=parseInt(c[1],10)}else{const c=y.value!==void 0?y.value:v();t=c.year,n=c.month}return{year:t,month:n,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+Q(n)+"/01"}}function T(t){let n=d.value.year,c=Number(d.value.month)+t;c===13?(c=1,n++):c===0&&(c=12,n--),we(n,c),Z.value===!0&&Ge("month")}function O(t){const n=Number(d.value.year)+t;we(n,d.value.month),Z.value===!0&&Ge("year")}function U(t){we(t,d.value.month),B.value=e.defaultView==="Years"?"Months":"Calendar",Z.value===!0&&Ge("year")}function Se(t){we(d.value.year,t),B.value="Calendar",Z.value===!0&&Ge("month")}function N(t,n){const c=Me.value[n];(c!==void 0&&c.includes(t.day)===!0?Dt:St)(t)}function oe(t){return{year:t.year,month:t.month,day:t.day}}function we(t,n,c){if(re.value!==null&&t<=re.value.year&&(t=re.value.year,n<re.value.month&&(n=re.value.month)),se.value!==null&&t>=se.value.year&&(t=se.value.year,n>se.value.month&&(n=se.value.month)),c!==void 0){const{hour:C,minute:K,second:k,millisecond:F,timezoneOffset:ae,timeHash:ot}=c;Object.assign(d.value,{hour:C,minute:K,second:k,millisecond:F,timezoneOffset:ae,timeHash:ot})}const S=t+"/"+Q(n)+"/01";S!==d.value.dateHash&&(W.value=d.value.dateHash<S==(u.lang.rtl!==!0)?"left":"right",t!==d.value.year&&(z.value=W.value),gt(()=>{Ce.value=t-t%Ue-(t<0?Ue:0),Object.assign(d.value,{year:t,month:n,day:1,dateHash:S})}))}function dt(t,n,c){const S=t!==null&&t.length===1&&e.multiple===!1?t[0]:t;D=S;const{reason:C,details:K}=Ft(n,c);o("update:modelValue",S,C,K)}function Ge(t){const n=ue.value[0]!==void 0&&ue.value[0].dateHash!==null?{...ue.value[0]}:{...d.value};gt(()=>{n.year=d.value.year,n.month=d.value.month;const c=e.calendar!=="persian"?new Date(n.year,n.month,0).getDate():ht(n.year,n.month);n.day=Math.min(Math.max(1,n.day),c);const S=et(n);D=S;const{details:C}=Ft("",n);o("update:modelValue",S,t,C)})}function Ft(t,n){return n.from!==void 0?{reason:`${t}-range`,details:{...oe(n.target),from:oe(n.from),to:oe(n.to)}}:{reason:`${t}-day`,details:oe(n)}}function et(t,n,c){return t.from!==void 0?{from:Fe.value(t.from,n,c),to:Fe.value(t.to,n,c)}:Fe.value(t,n,c)}function St(t){let n;if(e.multiple===!0)if(t.from!==void 0){const c=Ve(t.from),S=Ve(t.to),C=ue.value.filter(k=>k.dateHash<c||k.dateHash>S),K=fe.value.filter(({from:k,to:F})=>F.dateHash<c||k.dateHash>S);n=C.concat(K).concat(t).map(k=>et(k))}else{const c=ve.value.slice();c.push(et(t)),n=c}else n=et(t);dt(n,"add",t)}function Dt(t){if(e.noUnset===!0)return;let n=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const c=et(t);t.from!==void 0?n=e.modelValue.filter(S=>S.from!==void 0?S.from!==c.from&&S.to!==c.to:!0):n=e.modelValue.filter(S=>S!==c),n.length===0&&(n=null)}dt(n,"remove",t)}function Lt(t,n,c){const S=ue.value.concat(fe.value).map(C=>et(C,t,n)).filter(C=>C.from!==void 0?C.from.dateHash!==null&&C.to.dateHash!==null:C.dateHash!==null);o("update:modelValue",(e.multiple===!0?S:S[0])||null,c)}function Ia(){if(e.minimal!==!0)return m("div",{class:"q-date__header "+h.value},[m("div",{class:"relative-position"},[m(Ke,{name:"q-transition--fade"},()=>m("div",{key:"h-yr-"+je.value,class:"q-date__header-subtitle q-date__header-link "+(B.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...s("vY",{onClick(){B.value="Years"},onKeyup(t){t.keyCode===13&&(B.value="Years")}})},[je.value]))]),m("div",{class:"q-date__header-title relative-position flex no-wrap"},[m("div",{class:"relative-position col"},[m(Ke,{name:"q-transition--fade"},()=>m("div",{key:"h-sub"+_e.value,class:"q-date__header-title-label q-date__header-link "+(B.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...s("vC",{onClick(){B.value="Calendar"},onKeyup(t){t.keyCode===13&&(B.value="Calendar")}})},[_e.value]))]),e.todayBtn===!0?m(ie,{class:"q-date__header-today self-start",icon:u.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:i.value,onClick:Y}):null])])}function qt({label:t,type:n,key:c,dir:S,goTo:C,boundaries:K,cls:k}){return[m("div",{class:"row items-center q-date__arrow"},[m(ie,{round:!0,dense:!0,size:"sm",flat:!0,icon:ye.value[0],tabindex:i.value,disable:K.prev===!1,...s("go-#"+n,{onClick(){C(-1)}})})]),m("div",{class:"relative-position overflow-hidden flex flex-center"+k},[m(Ke,{name:"q-transition--jump-"+S},()=>m("div",{key:c},[m(ie,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:i.value,...s("view#"+n,{onClick:()=>{B.value=n}})})]))]),m("div",{class:"row items-center q-date__arrow"},[m(ie,{round:!0,dense:!0,size:"sm",flat:!0,icon:ye.value[1],tabindex:i.value,disable:K.next===!1,...s("go+#"+n,{onClick(){C(1)}})})])]}const Ta={Calendar:()=>[m("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[m("div",{class:"q-date__navigation row items-center no-wrap"},qt({label:_.value.months[d.value.month-1],type:"Months",key:d.value.month,dir:W.value,goTo:T,boundaries:Qe.value.month,cls:" col"}).concat(qt({label:d.value.year,type:"Years",key:d.value.year,dir:z.value,goTo:O,boundaries:Qe.value.year,cls:""}))),m("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Ne.value.map(t=>m("div",{class:"q-date__calendar-item"},[m("div",t)]))),m("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[m(Ke,{name:"q-transition--slide-"+W.value},()=>m("div",{key:me.value,class:"q-date__calendar-days fit"},b.value.map(t=>m("div",{class:t.classes},[t.in===!0?m(ie,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:i.value,...s("day#"+t.i,{onClick:()=>{Va(t.i)},onMouseover:()=>{$a(t.i)}})},t.event!==!1?()=>m("div",{class:"q-date__event bg-"+t.event}):null):m("div",""+t.i)]))))])])],Months(){const t=d.value.year===y.value.year,n=S=>re.value!==null&&d.value.year===re.value.year&&re.value.month>S||se.value!==null&&d.value.year===se.value.year&&se.value.month<S,c=_.value.monthsShort.map((S,C)=>{const K=d.value.month===C+1;return m("div",{class:"q-date__months-item flex flex-center"},[m(ie,{class:t===!0&&y.value.month===C+1?"q-date__today":null,flat:K!==!0,label:S,unelevated:K,color:K===!0?I.value:null,textColor:K===!0?H.value:null,tabindex:i.value,disable:n(C+1),...s("month#"+C,{onClick:()=>{Se(C+1)}})})])});return e.yearsInMonthView===!0&&c.unshift(m("div",{class:"row no-wrap full-width"},[qt({label:d.value.year,type:"Years",key:d.value.year,dir:z.value,goTo:O,boundaries:Qe.value.year,cls:" col"})])),m("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},c)},Years(){const t=Ce.value,n=t+Ue,c=[],S=C=>re.value!==null&&re.value.year>C||se.value!==null&&se.value.year<C;for(let C=t;C<=n;C++){const K=d.value.year===C;c.push(m("div",{class:"q-date__years-item flex flex-center"},[m(ie,{key:"yr"+C,class:y.value.year===C?"q-date__today":null,flat:!K,label:C,dense:!0,unelevated:K,color:K===!0?I.value:null,textColor:K===!0?H.value:null,tabindex:i.value,disable:S(C),...s("yr#"+C,{onClick:()=>{U(C)}})})]))}return m("div",{class:"q-date__view q-date__years flex flex-center"},[m("div",{class:"col-auto"},[m(ie,{round:!0,dense:!0,flat:!0,icon:ye.value[0],tabindex:i.value,disable:S(t),...s("y-",{onClick:()=>{Ce.value-=Ue}})})]),m("div",{class:"q-date__years-content col self-stretch row items-center"},c),m("div",{class:"col-auto"},[m(ie,{round:!0,dense:!0,flat:!0,icon:ye.value[1],tabindex:i.value,disable:S(n),...s("y+",{onClick:()=>{Ce.value+=Ue}})})])])}};function Va(t){const n={...d.value,day:t};if(e.range===!1){N(n,me.value);return}if(le.value===null){const c=b.value.find(C=>C.fill!==!0&&C.i===t);if(e.noUnset!==!0&&c.range!==void 0){Dt({target:n,from:c.range.from,to:c.range.to});return}if(c.selected===!0){Dt(n);return}const S=Ve(n);le.value={init:n,initHash:S,final:n,finalHash:S},o("rangeStart",oe(n))}else{const c=le.value.initHash,S=Ve(n),C=c<=S?{from:le.value.init,to:n}:{from:n,to:le.value.init};le.value=null,St(c===S?n:{target:n,...C}),o("rangeEnd",{from:oe(C.from),to:oe(C.to)})}}function $a(t){if(le.value!==null){const n={...d.value,day:t};Object.assign(le.value,{final:n,finalHash:Ve(n)})}}return Object.assign(r,{setToday:Y,setView:J,offsetCalendar:G,setCalendarTo:L,setEditingRange:j}),()=>{const t=[m("div",{class:"q-date__content col relative-position"},[m(Ke,{name:"q-transition--fade"},Ta[B.value])])],n=Oe(a.default);return n!==void 0&&t.push(m("div",{class:"q-date__actions"},n)),e.name!==void 0&&e.disable!==!0&&V(t,"push"),m("div",{class:E.value,...M.value},[Ia(),m("div",{ref:P,class:"q-date__main col column",tabindex:-1},t)])}}});const rl={...st,...Ja,...Et,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},il=["update:modelValue"];function sl(e,a){const{props:o,slots:r,emit:u,proxy:l}=Be(),{$q:s}=l,i=ct(o,s),h=A(null),{refocusTargetEl:q,refocusTarget:v}=bn(o,h),D=Xa(o,pn),x=g(()=>o.val!==void 0&&Array.isArray(o.modelValue)),V=g(()=>{const E=tt(o.val);return x.value===!0?o.modelValue.findIndex(I=>tt(I)===E):-1}),P=g(()=>x.value===!0?V.value>-1:tt(o.modelValue)===tt(o.trueValue)),w=g(()=>x.value===!0?V.value===-1:tt(o.modelValue)===tt(o.falseValue)),_=g(()=>P.value===!1&&w.value===!1),R=g(()=>o.disable===!0?-1:o.tabindex||0),ee=g(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(o.disable===!0?" disabled":"")+(i.value===!0?` q-${e}--dark`:"")+(o.dense===!0?` q-${e}--dense`:"")+(o.leftLabel===!0?" reverse":"")),y=g(()=>{const E=P.value===!0?"truthy":w.value===!0?"falsy":"indet",I=o.color!==void 0&&(o.keepColor===!0||(e==="toggle"?P.value===!0:w.value!==!0))?` text-${o.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${E}${I}`}),d=g(()=>{const E={type:"checkbox"};return o.name!==void 0&&Object.assign(E,{".checked":P.value,"^checked":P.value===!0?"checked":void 0,name:o.name,value:x.value===!0?o.val:o.trueValue}),E}),B=Ht(d),te=g(()=>{const E={tabindex:R.value,role:e==="toggle"?"switch":"checkbox","aria-label":o.label,"aria-checked":_.value===!0?"mixed":P.value===!0?"true":"false"};return o.disable===!0&&(E["aria-disabled"]="true"),E});function W(E){E!==void 0&&(Ze(E),v(E)),o.disable!==!0&&u("update:modelValue",z(),E)}function z(){if(x.value===!0){if(P.value===!0){const E=o.modelValue.slice();return E.splice(V.value,1),E}return o.modelValue.concat([o.val])}if(P.value===!0){if(o.toggleOrder!=="ft"||o.toggleIndeterminate===!1)return o.falseValue}else if(w.value===!0){if(o.toggleOrder==="ft"||o.toggleIndeterminate===!1)return o.trueValue}else return o.toggleOrder!=="ft"?o.trueValue:o.falseValue;return o.indeterminateValue}function de(E){(E.keyCode===13||E.keyCode===32)&&Ze(E)}function Ce(E){(E.keyCode===13||E.keyCode===32)&&W(E)}const le=a(P,_);return Object.assign(l,{toggle:W}),()=>{const E=le();o.disable!==!0&&B(E,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const I=[m("div",{class:y.value,style:D.value,"aria-hidden":"true"},E)];q.value!==null&&I.push(q.value);const H=o.label!==void 0?At(r.default,[o.label]):Oe(r.default);return H!==void 0&&I.push(m("div",{class:`q-${e}__label q-anchor--skip`},H)),m("div",{ref:h,class:ee.value,...te.value,onClick:W,onKeydown:de,onKeyup:Ce},I)}}const cl=m("div",{key:"svg",class:"q-checkbox__bg absolute"},[m("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[m("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),m("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var dl=ke({name:"QCheckbox",props:rl,emits:il,setup(e){function a(o,r){const u=g(()=>(o.value===!0?e.checkedIcon:r.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>u.value!==null?[m("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[m(Pe,{class:"q-checkbox__icon",name:u.value})])]:[cl]}return sl("checkbox",a)}});const vl=["horizontal","vertical","cell","none"];var fl=ke({name:"QMarkupTable",props:{...st,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>vl.includes(e)}},setup(e,{slots:a}){const o=Be(),r=ct(e,o.proxy.$q),u=g(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(r.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>m("div",{class:u.value},[m("table",{class:"q-table"},Oe(a.default))])}});function ml(e,a){return m("div",e,[m("table",{class:"q-table"},a)])}const hl={list:mn,table:fl},gl=["list","table","__qtable"];var yl=ke({name:"QVirtualScroll",props:{..._n,type:{type:String,default:"list",validator:e=>gl.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:a,attrs:o}){let r;const u=A(null),l=g(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:s,localResetVirtualScroll:i,padVirtualScroll:h,onVirtualScrollEvt:q}=wn({virtualScrollLength:l,getVirtualScrollTarget:P,getVirtualScrollEl:V}),v=g(()=>{if(l.value===0)return[];const ee=(y,d)=>({index:s.value.from+d,item:y});return e.itemsFn===void 0?e.items.slice(s.value.from,s.value.to).map(ee):e.itemsFn(s.value.from,s.value.to-s.value.from).map(ee)}),D=g(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),x=g(()=>e.scrollTarget!==void 0?{}:{tabindex:0});pe(l,()=>{i()}),pe(()=>e.scrollTarget,()=>{_(),w()});function V(){return u.value.$el||u.value}function P(){return r}function w(){r=hn(V(),e.scrollTarget),r.addEventListener("scroll",q,jt.passive)}function _(){r!==void 0&&(r.removeEventListener("scroll",q,jt.passive),r=void 0)}function R(){let ee=h(e.type==="list"?"div":"tbody",v.value.map(a.default));return a.before!==void 0&&(ee=a.before().concat(ee)),At(a.after,ee)}return Ga(()=>{i()}),ia(()=>{w()}),ca(()=>{w()}),sa(()=>{_()}),Yt(()=>{_()}),()=>{if(a.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?ml({ref:u,class:"q-table__middle "+D.value},R()):m(hl[e.type],{...o,ref:u,class:[o.class,D.value],...x.value},R)}}});const bl=_t({name:"ImageChoice",props:{isShow:{type:Boolean,default:!1}},setup(e,a){const o=en(()=>e.isShow),r=Ct(),{imagesList:u}=Pt(r),l=A(0),s=()=>{a.emit("closeChoice")};return{showChoice:o,imagesList:u,choicedId:l,closeChoice:s,choice:h=>{a.emit("choice",h),s()}}}}),pl=e=>(tn("data-v-66ce43ba"),e=e(),an(),e),_l={class:"q-pa-md q-gutter-sm"},wl=pl(()=>he("div",{class:"text-h6"},"\u0412\u044B\u0431\u043E\u0440 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F",-1)),Cl={class:"q-ma-sm q-pa-sm item",dense:"",clickable:""},Sl={class:"flex justify-between items-center"},Dl={class:"flex justify-center items-center q-ma-md"};function ql(e,a,o,r,u,l){return lt(),it("div",_l,[$(ma,{modelValue:e.showChoice,"onUpdate:modelValue":a[0]||(a[0]=s=>e.showChoice=s),persistent:""},{default:X(()=>[$(ha,null,{default:X(()=>[$(Mn,null,{default:X(()=>[wl,$(yl,{style:{height:"300px"},class:"q-px-md",items:e.imagesList,separator:""},{default:X(({item:s})=>[he("div",Cl,[he("div",Sl,[he("div",null,va(s.name),1),$(ie,{size:"sm",round:"",color:"primary",label:">",onClick:i=>e.choice(s.id)},null,8,["onClick"])])])]),_:1},8,["items"])]),_:1}),he("div",Dl,[$(ie,{label:"\u041E\u0442\u043C\u0435\u043D\u0430",color:"primary",onClick:e.closeChoice},null,8,["onClick"])])]),_:1})]),_:1},8,["modelValue"])])}var Ml=wt(bl,[["render",ql],["__scopeId","data-v-66ce43ba"]]);const kl=e=>{const a=e.getFullYear(),o=e.getMonth(),r=e.getDate(),u=a.toString();let l=o.toString(),s=r.toString();return o<10&&(l="0"+l),r<10&&(s="0"+s),`${u}/${l}/${s}`};const xl=_t({name:"ProgramItems",components:{ConfirmDialog:$n,ImageChoice:Ml},props:{id:{type:Number,default:0,required:!0}},setup(e){const a=xa(),o=Ct(),r=A(),u=A(!1),l=A(!1),s=A(0),i=()=>{r.value=a.getItemsByProgramId(e.id)};i();const h=async w=>{const _=kl(new Date),R=o.getImageById(w),ee={program_id:e.id,image_id:w,imageContent:R==null?void 0:R.content,startDate:_,endDate:_,active:"false"};await a.insert({record:ee}),i()},q=w=>{const _=r.value.find(R=>R.id===w);_.isModified=!0},v=async w=>{const _=r.value.find(R=>R.id===w);await a.update({record:{id:_.id,program_id:_.program_id,image_id:_.image_id,imageContent:_.imageContent,startDate:_.startDate,endDate:_.endDate,active:_.activeBool?"true":"false"}}),_.isModified=!1},D=w=>{s.value=w,u.value=!0},x=()=>{u.value=!1,s.value=0};return{items:r,isShowChoice:l,isShowDialog:u,choice:h,onChange:q,saveItem:v,deleteItem:async()=>{await a.removeItem(s.value),x(),i()},closeDialog:x,confirmDelete:D,saveAllModified:async()=>{const w=r.value.filter(_=>_.isModified===!0);for(const _ of w)await v(_.id)}}}}),Il={class:"row items-center justify-end"},Tl={class:"row items-center justify-end"},Vl={class:"q-pa-md"},$l={class:"flex justify-end item-control"},Pl={class:"q-gutter-xs"};function Bl(e,a,o,r,u,l){const s=yt("ImageChoice"),i=yt("ConfirmDialog");return lt(),it(Nt,null,[he("section",null,[$(ie,{label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",color:"primary",onClick:a[0]||(a[0]=h=>e.isShowChoice=!0)}),$(ie,{class:"q-ml-md",label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0432\u0441\u0435",color:"primary",onClick:e.saveAllModified},null,8,["onClick"]),(lt(!0),it(Nt,null,nn(e.items,h=>(lt(),it("div",{key:h.id},[he("div",{class:ln(["flex justify-between items-center q-my-md q-pl-sm item",{modified:h.isModified}])},[$(In,{src:h.imageContent,"spinner-color":"white",style:{height:"70px","max-width":"70px"}},null,8,["src"]),on(" "+va(h.imageName)+" ",1),$(nt,{filled:"",modelValue:h.startDate,"onUpdate:modelValue":q=>h.startDate=q,mask:"date",rules:["date"],label:"\u0414\u0430\u0442\u0430 \u0441\u0442\u0430\u0440\u0442\u0430",class:"q-pt-sm"},{append:X(()=>[$(Pe,{name:"event",class:"cursor-pointer"},{default:X(()=>[$(pt,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:X(()=>[$(ua,{modelValue:h.startDate,"onUpdate:modelValue":[q=>h.startDate=q,q=>e.onChange(h.id)]},{default:X(()=>[he("div",Il,[We($(ie,{label:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C",color:"primary",flat:""},null,512),[[bt]])])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"]),$(nt,{filled:"",modelValue:h.endDate,"onUpdate:modelValue":q=>h.endDate=q,mask:"date",rules:["date"],label:"\u0414\u0430\u0442\u0430 \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F",class:"q-pt-sm"},{append:X(()=>[$(Pe,{name:"event",class:"cursor-pointer"},{default:X(()=>[$(pt,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:X(()=>[$(ua,{modelValue:h.endDate,"onUpdate:modelValue":[q=>h.endDate=q,q=>e.onChange(h.id)]},{default:X(()=>[he("div",Tl,[We($(ie,{label:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C",color:"primary",flat:""},null,512),[[bt]])])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"]),he("div",Vl,[$(dl,{modelValue:h.activeBool,"onUpdate:modelValue":[q=>h.activeBool=q,q=>e.onChange(h.id)],label:"\u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u044C"},null,8,["modelValue","onUpdate:modelValue"])]),he("div",$l,[he("div",Pl,[$(ie,{size:"12px",flat:"",dense:"",round:"",icon:"save",onClick:q=>e.saveItem(h.id)},null,8,["onClick"]),$(ie,{size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:q=>e.confirmDelete(h.id)},null,8,["onClick"])])])],2)]))),128))]),$(s,{isShow:e.isShowChoice,onCloseChoice:a[1]||(a[1]=h=>e.isShowChoice=!1),onChoice:e.choice},null,8,["isShow","onChoice"]),$(i,{isShow:e.isShowDialog,message:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u0443\u044E \u0437\u0430\u043F\u0438\u0441\u044C?",onOk:e.deleteItem,onCancel:e.closeDialog},null,8,["isShow","onOk","onCancel"])],64)}var Yl=wt(xl,[["render",Bl],["__scopeId","data-v-43b99aae"]]);const Al=_t({name:"ProgramEdit",components:{ProgramItems:Yl},setup(){const e=un(),a=A(0);a.value=e.query.id?parseInt(e.query.id.toString()):0;const o=xn();Ct().getImages(),xa().getItems();const l=Tn(),s=Vn(),i=ga(),{spinnersNames:h}=Pt(l),{audioNames:q}=Pt(s),v=A(),D=A(""),x=A(""),V=A("programs");if(a.value===0)v.value={...o.emptyProgram};else{v.value={...o.getProgramById(a.value)};const w=v.value.spinner_id?v.value.spinner_id:null;if(w){const R=l.getSpinnerById(w);x.value=R?R.name:""}const _=v.value.audio_id?v.value.audio_id:null;if(_){const R=s.getAudioById(_);D.value=R?R.name:""}}return{program:v,audioName:D,spinnerName:x,audioNames:q,spinnersNames:h,tab:V,id:a,onSubmit:async()=>{let w=!1;if(v.value.name===""&&(i.error('\u041F\u043E\u043B\u0435 "\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435" \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043E'),w=!0),v.value.startTime===""&&(v.value.startTime="00:00"),v.value.endTime===""&&(v.value.endTime="00:00"),v.value.imageShowTime===""&&(v.value.imageShowTime="0"),x.value!==""){const _=l.getSpinnerByName(x.value);v.value.spinner_id=_?_.id:null}else i.error('\u041F\u043E\u043B\u0435 "\u0421\u043F\u0438\u043D\u043D\u0435\u0440" \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043E'),w=!0;if(D.value!==""){const _=s.getAudioByName(D.value);v.value.audio_id=_?_.id:null}else i.error('\u041F\u043E\u043B\u0435 "\u0410\u0443\u0434\u0438\u043E" \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043E'),w=!0;if(!w)if(a.value===0){const _=await o.insert({record:v.value});_&&!_.error&&(a.value=_.result.id)}else await o.update({record:v.value})}}}}),El={class:"flex justify-center q-pa-md full-width full-height"},Hl={class:"full-width q-mb-md"},Ol={class:"row items-center justify-end"},Fl={class:"row items-center justify-end"};function Ll(e,a,o,r,u,l){const s=yt("ProgramItems");return lt(),it("div",El,[$(kn,{class:"full-width full-height q-mx-lg",onSubmit:sn(e.onSubmit,["prevent","stop"])},{default:X(()=>[$(ha,{class:"full-height"},{default:X(()=>[$(On,{modelValue:e.tab,"onUpdate:modelValue":a[0]||(a[0]=i=>e.tab=i),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:X(()=>[$(Kt,{name:"programs",label:"\u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B"}),We($(Kt,{name:"items",label:"\u0441\u043E\u0441\u0442\u0430\u0432"},null,512),[[rn,e.id!==0]])]),_:1},8,["modelValue"]),$(Cn),$(ll,{modelValue:e.tab,"onUpdate:modelValue":a[9]||(a[9]=i=>e.tab=i),animated:""},{default:X(()=>[$(na,{name:"programs"},{default:X(()=>[he("div",Hl,[$(ie,{label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",color:"primary",type:"submit"})]),he("div",null,[$(nt,{class:"q-mb-md",outlined:"",autofocus:"",modelValue:e.program.name,"onUpdate:modelValue":a[1]||(a[1]=i=>e.program.name=i),label:"\u043D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435 *"},null,8,["modelValue"]),$(nt,{outlined:"",modelValue:e.program.startTime,"onUpdate:modelValue":a[3]||(a[3]=i=>e.program.startTime=i),mask:"time",rules:["time"],label:"\u0432\u0440\u0435\u043C\u044F \u0441\u0442\u0430\u0440\u0442\u0430 *"},{append:X(()=>[$(Pe,{name:"access_time",class:"cursor-pointer"},{default:X(()=>[$(pt,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:X(()=>[$(ta,{modelValue:e.program.startTime,"onUpdate:modelValue":a[2]||(a[2]=i=>e.program.startTime=i)},{default:X(()=>[he("div",Ol,[We($(ie,{label:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",color:"primary",flat:""},null,512),[[bt]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),$(nt,{outlined:"",modelValue:e.program.endTime,"onUpdate:modelValue":a[5]||(a[5]=i=>e.program.endTime=i),mask:"time",rules:["time"],label:"\u0432\u0440\u0435\u043C\u044F \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F *"},{append:X(()=>[$(Pe,{name:"access_time",class:"cursor-pointer"},{default:X(()=>[$(pt,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:X(()=>[$(ta,{modelValue:e.program.endTime,"onUpdate:modelValue":a[4]||(a[4]=i=>e.program.endTime=i)},{default:X(()=>[he("div",Fl,[We($(ie,{label:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",color:"primary",flat:""},null,512),[[bt]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),$(nt,{class:"q-mb-md",outlined:"",modelValue:e.program.imageShowTime,"onUpdate:modelValue":a[6]||(a[6]=i=>e.program.imageShowTime=i),mask:"#####",label:"\u0432\u0440\u0435\u043C\u044F \u043F\u043E\u043A\u0430\u0437\u0430, \u0441\u0435\u043A *"},null,8,["modelValue"]),$(Ut,{"bottom-slots":"",modelValue:e.spinnerName,"onUpdate:modelValue":a[7]||(a[7]=i=>e.spinnerName=i),options:e.spinnersNames,label:"\u0421\u043F\u0438\u043D\u043D\u0435\u0440",outlined:""},null,8,["modelValue","options"]),$(Ut,{"bottom-slots":"",modelValue:e.audioName,"onUpdate:modelValue":a[8]||(a[8]=i=>e.audioName=i),options:e.audioNames,label:"\u0410\u0443\u0434\u0438\u043E",outlined:""},null,8,["modelValue","options"])])]),_:1}),$(na,{name:"items"},{default:X(()=>[$(s,{id:e.id},null,8,["id"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["onSubmit"])])}var jl=wt(Al,[["render",Ll]]);const Nl=_t({name:"ProgramEditPage",components:{ProgramEdit:jl},setup(){return{}}});function Rl(e,a,o,r,u,l){const s=yt("ProgramEdit");return lt(),cn(Pa,{class:"q-pa-md"},{default:X(()=>[$(s)]),_:1})}var bo=wt(Nl,[["render",Rl]]);export{bo as default};
