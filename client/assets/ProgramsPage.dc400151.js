import{A as C,K as D,ag as F,r as h,_ as w,B as E,C as i,N as n,M as e,F as a,L as v,R as f,O as P,I as o,ay as S,az as $}from"./index.90eeaab3.js";import{C as k}from"./ConfirmDialog.fbf0003b.js";import{u as x}from"./programs.store.fe185881.js";import{a as b}from"./socket.store.9835a681.js";import"./QCard.7bb4ca2e.js";import"./use-dark.ece6b24e.js";import"./QCardActions.2635fce6.js";import"./QDialog.faf7adf6.js";import"./message.store.97f1fdc6.js";import"./use-quasar.f29138b4.js";import"./focus-manager.05708ea9.js";import"./spinners.store.f6029ac8.js";import"./audio.store.c913c719.js";import"./settings.store.acd1c909.js";const q=C({name:"ProgramsList",components:{ConfirmDialog:k},setup(){const s=x(),l=b(),{isEmpty:r,programs:d}=D(s),c=F(),m=_=>{c.push({path:"/programedit/",query:{id:_}})},u=h(!1),t=h(0),p=_=>{t.value=_,u.value=!0},g=()=>{u.value=!1,t.value=0};return{isShowDialog:u,isEmpty:r,programs:d,deleteProgram:async()=>{await s.removeProgram(t.value),await l.deleteProgramForAllStatios(t.value),g()},confirmDelete:p,closeDialog:g,openEditor:m}}}),y=s=>(S("data-v-4e077287"),s=s(),$(),s),A={class:"flex justify-center q-pa-sm q-gutter-md"},B={class:"program-list"},L={key:0},I={key:1,class:"flex justify-center program-list"},N=y(()=>e("div",{class:"full-width text-weight-bold text-h6 q-mb-lg"}," \u0421\u043F\u0438\u0441\u043E\u043A \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C ",-1)),j={class:"item-name"},T={class:"q-mt-sm"},z=y(()=>e("div",{class:"item-params"},[e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u0412\u0440\u0435\u043C\u044F \u0441\u0442\u0430\u0440\u0442\u0430")])]),e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u0412\u0440\u0435\u043C\u044F \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F")])]),e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u0412\u0440\u0435\u043C\u044F \u043F\u043E\u043A\u0430\u0437\u0430")])]),e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u0421\u043F\u0438\u043D\u043D\u0435\u0440")])]),e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u0410\u0443\u0434\u0438\u043E")])])],-1)),O={class:"q-pl-sm item-values"},R={lines:"1"},V={lines:"1"},K={lines:"1"},M={lines:"1"},Q={lines:"1"},W={class:"flex justify-end item-control"},G={class:"q-gutter-xs"};function H(s,l,r,d,c,m){const u=E("ConfirmDialog");return i(),n(f,null,[e("section",A,[e("div",B,[a(v,{label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",color:"primary",onClick:l[0]||(l[0]=t=>s.openEditor(0))})]),s.isEmpty?(i(),n("div",L,"\u0421\u043F\u0438\u0441\u043E\u043A \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C \u043F\u0443\u0441\u0442")):(i(),n("div",I,[N,(i(!0),n(f,null,P(s.programs,t=>(i(),n("div",{class:"full-width flex justify-between q-pa-md item",key:t.id},[e("div",j,[e("div",T,o(t.name),1)]),z,e("div",O,[e("div",null,[e("div",R,[e("span",null,o(t.startTime),1)])]),e("div",null,[e("div",V,[e("span",null,o(t.endTime),1)])]),e("div",null,[e("div",K,[e("span",null,o(t.imageShowTime)+" \u0441\u0435\u043A",1)])]),e("div",null,[e("div",M,[e("span",null,o(t.spinnerName),1)])]),e("div",null,[e("div",Q,[e("span",null,o(t.audioName),1)])])]),e("div",W,[e("div",G,[a(v,{size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:p=>s.confirmDelete(t.id)},null,8,["onClick"]),a(v,{size:"12px",flat:"",dense:"",round:"",icon:"edit",onClick:p=>s.openEditor(t.id)},null,8,["onClick"])])])]))),128))]))]),a(u,{isShow:s.isShowDialog,onOk:s.deleteProgram,onCancel:s.closeDialog,message:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u0443\u044E \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0443?"},null,8,["isShow","onOk","onCancel"])],64)}var J=w(q,[["render",H],["__scopeId","data-v-4e077287"]]);const U=C({name:"ProgramsPage",components:{ProgramList:J},setup(){return{}}}),X={class:"q-ma-md"};function Y(s,l,r,d,c,m){const u=E("ProgramList");return i(),n("section",X,[a(u)])}var _e=w(U,[["render",Y]]);export{_e as default};
