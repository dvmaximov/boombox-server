import{S as o,K as n,T as s}from"./index.e9511dda.js";import{u as c}from"./settings.store.7144c3ad.js";const l=o("images",{state:()=>({imagesList:[]}),getters:{placeholderUrl:()=>{const e=c();return n(e),`${location.protocol}//${location.hostname}/images/placeholder.jpg`},images:e=>(t,r)=>{let a=[];return r===""?a=e.imagesList.filter(i=>i.category===t):a=e.imagesList.filter(i=>i.name.toLowerCase().includes(r.toLowerCase())),a}},actions:{async getImages(){try{const e=await s.fetch("images");e.error||(this.imagesList=e.result||[])}catch{}},getImageById(e){try{return this.imagesList.find(r=>r.id===e)}catch{}},async getContentById(e){try{const t=await s.fetchById("images",e);if(!t.error)return t.result.content}catch{}},async removeImage(e){try{(await s.remove("images",e)).error||await this.getImages()}catch{}},async insert(e){try{const t=await s.insert("images",e);t.error||this.imagesList.push({...t.result})}catch{}},async update(e){try{(await s.update("images",e)).error||await this.getImages()}catch{}}}});export{l as u};
