import{S as d,T as o}from"./index.e98fe3e5.js";import{u as y}from"./spinners.store.0478192a.js";import{u as h}from"./audio.store.b6fdffa2.js";import{j as l}from"./message.store.86c71126.js";const a=l(),w=y(),S=h(),E=d("Programs",{state:()=>({programList:[]}),getters:{isEmpty:r=>r.programList.length===0,programs:r=>r.programList.reduce((s,t)=>{var u,i;const n=t.spinner_id?t.spinner_id:0,m=(u=w.getSpinnerById(n))==null?void 0:u.name,c=t.audio_id?t.audio_id:0,p=(i=S.getAudioById(c))==null?void 0:i.name,g={...t,spinnerName:m,audioName:p};return s.push(g),s},[]),emptyProgram:()=>({name:"",audio_id:null,spinner_id:null,startTime:"00:00",endTime:"00:00",imageShowTime:0,program_type:"\u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435"})},actions:{async getPrograms(){try{const r=await o.fetch("programs");r.error||(this.programList=r.result||[])}catch{}},getProgramById(r){try{return this.programList.find(s=>s.id===r)}catch{}},async removeProgram(r){try{const e=await o.remove("programs",r);e.error?a.error(e.error):(await this.getPrograms(),a.success(e.result))}catch{}},async insert(r){try{const e=await o.insert("programs",r);return e.error?a.error(e.error):(this.programList.push({...e.result}),a.success("\u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0437\u0434\u0430\u043D\u0430")),e}catch{}},async update(r){try{(await o.update("programs",r)).error||await this.getPrograms()}catch{}}}});export{E as u};
