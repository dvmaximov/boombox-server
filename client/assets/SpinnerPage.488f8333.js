import{h as p,c as J,aL as W,aJ as x,r as g,d as S,aK as j,Q as G,z as H,e as X,j as Y,a3 as U,A as $,aj as Z,K as I,w as uu,_ as B,C as E,N as b,F as l,E as _,ak as eu,M as e,L as D,B as V,R as A,O as nu,I as f,ay as ou,az as lu}from"./index.5187f60d.js";import{u as Q}from"./spinners.store.862b5a0f.js";import{C as su}from"./ConfirmDialog.8bb08743.js";import{Q as tu,a as z}from"./QCard.71228f87.js";import{Q as R}from"./QSeparator.910ceaf3.js";import{a as iu,c as au,Q as F}from"./QInput.04a714c4.js";import{o as ru,u as du,a as P}from"./option-sizes.c588821f.js";import{u as cu,a as mu}from"./use-dark.4d6c07af.js";import{Q as pu}from"./QCardActions.21a8bba9.js";import{Q as vu}from"./QForm.3edd3e95.js";import{Q as fu}from"./QDialog.a0635fa2.js";import{a as Eu}from"./socket.store.e70cd810.js";import"./message.store.ca1fb33b.js";import"./use-quasar.c7717807.js";import"./focus-manager.05708ea9.js";import"./QChip.202e10f9.js";import"./QItem.c7c72cd0.js";import"./position-engine.49de88bc.js";import"./selection.32648b18.js";import"./use-virtual-scroll.9c4f4139.js";import"./format.3e32b8d9.js";const bu=p("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[p("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),p("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var k=J({name:"QRadio",props:{...cu,...W,...iu,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(u,{slots:n,emit:r}){const{proxy:d}=Y(),c=mu(u,d.$q),i=x(u,ru),o=g(null),{refocusTargetEl:m,refocusTarget:t}=du(u,o),a=S(()=>j(u.modelValue)===j(u.val)),h=S(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(u.disable===!0?" disabled":"")+(c.value===!0?" q-radio--dark":"")+(u.dense===!0?" q-radio--dense":"")+(u.leftLabel===!0?" reverse":"")),v=S(()=>{const s=u.color!==void 0&&(u.keepColor===!0||a.value===!0)?` text-${u.color}`:"";return`q-radio__inner relative-position q-radio__inner--${a.value===!0?"truthy":"falsy"}${s}`}),q=S(()=>(a.value===!0?u.checkedIcon:u.uncheckedIcon)||null),C=S(()=>u.disable===!0?-1:u.tabindex||0),N=S(()=>{const s={type:"radio"};return u.name!==void 0&&Object.assign(s,{".checked":a.value===!0,"^checked":a.value===!0?"checked":void 0,name:u.name,value:u.val}),s}),O=au(N);function w(s){s!==void 0&&(U(s),t(s)),u.disable!==!0&&a.value!==!0&&r("update:modelValue",u.val,s)}function T(s){(s.keyCode===13||s.keyCode===32)&&U(s)}function K(s){(s.keyCode===13||s.keyCode===32)&&w(s)}return Object.assign(d,{set:w}),()=>{const s=q.value!==null?[p("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[p(G,{class:"q-radio__icon",name:q.value})])]:[bu];u.disable!==!0&&O(s,"unshift"," q-radio__native q-ma-none q-pa-none");const y=[p("div",{class:v.value,style:i.value,"aria-hidden":"true"},s)];m.value!==null&&y.push(m.value);const L=u.label!==void 0?H(n.default,[u.label]):X(n.default);return L!==void 0&&y.push(p("div",{class:"q-radio__label q-anchor--skip"},L)),p("div",{ref:o,class:h.value,tabindex:C.value,role:"radio","aria-label":u.label,"aria-checked":a.value===!0?"true":"false","aria-disabled":u.disable===!0?"true":void 0,onClick:w,onKeydown:T,onKeyup:K},y)}}});const hu=$({name:"SpinnerEdit",props:{isShow:{type:Boolean,default:!1},spinnerId:{type:Number,default:0}},setup(u,n){const r=Q(),d=Eu(),c=Z(()=>u.isShow),i=g(),{emptySpinner:o}=I(r),m=["red","blue"],t=v=>{v===0?i.value={...o.value}:i.value={...r.getSpinnerById(u.spinnerId)}};t(u.spinnerId),uu(()=>u.spinnerId,v=>{t(v)});const a=async()=>{i.value.freq1<150&&(i.value.freq1=150),i.value.freq2<150&&(i.value.freq2=150),u.spinnerId===0?await r.insert({record:i.value}):(await r.update({record:i.value}),await d.updateSpinnerForAllStatios(i.value.id)),h()},h=()=>{n.emit("closeEdit")};return{showEditor:c,spinner:i,colors:m,onSubmit:a,closeEdit:h}}}),Su={class:"q-pa-md q-gutter-sm"},_u=e("div",{class:"text-h6"},"\u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0433\u043E \u0441\u043F\u0438\u043D\u043D\u0435\u0440\u0430",-1),gu=e("div",{class:"q-px-sm"},"\u041D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043F\u0435\u0440\u0432\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430",-1),qu={class:"q-gutter-sm"},Cu=e("div",{class:"q-px-sm"},"\u041D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0432\u0442\u043E\u0440\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430",-1),Du={class:"q-gutter-sm"};function ku(u,n,r,d,c,i){return E(),b("div",Su,[l(fu,{modelValue:u.showEditor,"onUpdate:modelValue":n[9]||(n[9]=o=>u.showEditor=o),persistent:""},{default:_(()=>[l(tu,null,{default:_(()=>[l(z,null,{default:_(()=>[_u]),_:1}),l(R),l(vu,{class:"full-width",onSubmit:eu(u.onSubmit,["prevent","stop"])},{default:_(()=>[l(z,{style:{"max-height":"60vh"},class:"scroll"},{default:_(()=>[l(F,{class:"col-6 q-mb-md",outlined:"",autofocus:"",modelValue:u.spinner.name,"onUpdate:modelValue":n[0]||(n[0]=o=>u.spinner.name=o),label:"\u043D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435 *"},null,8,["modelValue"]),l(P,{outlined:"",class:"col-6 q-mb-md",modelValue:u.spinner.color1,"onUpdate:modelValue":n[1]||(n[1]=o=>u.spinner.color1=o),options:u.colors,label:"\u043F\u0435\u0440\u0432\u044B\u0439 \u0446\u0432\u0435\u0442 *"},null,8,["modelValue","options"]),l(F,{class:"col-6 q-mb-md",outlined:"",modelValue:u.spinner.freq1,"onUpdate:modelValue":n[2]||(n[2]=o=>u.spinner.freq1=o),label:"\u0432\u0440\u0435\u043C\u044F \u043F\u0435\u0440\u0432\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430, \u043C\u0441 *",mask:"######"},null,8,["modelValue"]),gu,e("div",qu,[l(k,{modelValue:u.spinner.spin1,"onUpdate:modelValue":n[3]||(n[3]=o=>u.spinner.spin1=o),val:0,label:"\u043F\u043E \u0447\u0430\u0441\u043E\u0432\u043E\u0439"},null,8,["modelValue"]),l(k,{modelValue:u.spinner.spin1,"onUpdate:modelValue":n[4]||(n[4]=o=>u.spinner.spin1=o),val:1,label:"\u043F\u0440\u043E\u0442\u0438\u0432 \u0447\u0430\u0441\u043E\u0432\u043E\u0439"},null,8,["modelValue"])]),l(P,{outlined:"",class:"col-6 q-mb-md",modelValue:u.spinner.color2,"onUpdate:modelValue":n[5]||(n[5]=o=>u.spinner.color2=o),options:u.colors,label:"\u0432\u0442\u043E\u0440\u043E\u0439 \u0446\u0432\u0435\u0442 *"},null,8,["modelValue","options"]),l(F,{class:"col-6 q-mb-md",outlined:"",modelValue:u.spinner.freq2,"onUpdate:modelValue":n[6]||(n[6]=o=>u.spinner.freq2=o),label:"\u0432\u0440\u0435\u043C\u044F \u0432\u0442\u043E\u0440\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430, \u043C\u0441 *",mask:"######"},null,8,["modelValue"]),Cu,e("div",Du,[l(k,{modelValue:u.spinner.spin2,"onUpdate:modelValue":n[7]||(n[7]=o=>u.spinner.spin2=o),val:0,label:"\u043F\u043E \u0447\u0430\u0441\u043E\u0432\u043E\u0439"},null,8,["modelValue"]),l(k,{modelValue:u.spinner.spin2,"onUpdate:modelValue":n[8]||(n[8]=o=>u.spinner.spin2=o),val:1,label:"\u043F\u0440\u043E\u0442\u0438\u0432 \u0447\u0430\u0441\u043E\u0432\u043E\u0439"},null,8,["modelValue"])])]),_:1}),l(R),l(pu,{align:"right"},{default:_(()=>[l(D,{flat:"",label:"\u041E\u0442\u043C\u0435\u043D\u0430",color:"primary",onClick:u.closeEdit},null,8,["onClick"]),l(D,{flat:"",label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",color:"primary",type:"submit"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"])])}var wu=B(hu,[["render",ku]]);const yu=$({name:"SpinnerList",components:{ConfirmDialog:su,SpinnerEdit:wu},setup(){const u=g(!1),n=g(!1),r=Q(),d=g(0),c=g(0),{isEmpty:i,spinnerList:o}=I(r),m=C=>{d.value=C,u.value=!0},t=()=>{u.value=!1,d.value=0},a=C=>{c.value=C,q()},h=async()=>{await r.removeSpinner(d.value),t()},v=()=>{n.value=!1,c.value=0},q=()=>{n.value=!0};return{spinnerList:o,isShowDialog:u,editId:c,isShowEditor:n,isEmpty:i,deleteSpinner:h,confirmDelete:m,closeDialog:t,closeEditor:v,openEditor:q,editSpinner:a}}}),M=u=>(ou("data-v-6f81b33d"),u=u(),lu(),u),Fu={class:"flex justify-center q-pa-sm q-gutter-md"},Vu={class:"program-list"},$u={key:0},Iu={key:1,class:"flex justify-center program-list"},Bu=M(()=>e("div",{class:"full-width text-weight-bold text-h6 q-mb-lg"}," \u0421\u043F\u0438\u0441\u043E\u043A \u0441\u043F\u0438\u043D\u043D\u0435\u0440\u043E\u0432 ",-1)),Qu={class:"item-name"},Lu={class:"q-mt-sm"},ju=M(()=>e("div",{class:"item-params"},[e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u041F\u0435\u0440\u0432\u044B\u0439 \u0446\u0432\u0435\u0442")])]),e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u0412\u0442\u043E\u0440\u043E\u0439 \u0446\u0432\u0435\u0442")])]),e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u041D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043F\u0435\u0440\u0432\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430")])]),e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u041D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0432\u0442\u043E\u0440\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430")])]),e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u0412\u0440\u0435\u043C\u044F \u043F\u0435\u0440\u0432\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430")])]),e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u0412\u0440\u0435\u043C\u044F \u0432\u0442\u043E\u0440\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430")])])],-1)),Uu={class:"q-pl-sm item-values"},Au={lines:"1"},zu={lines:"1"},Ru={lines:"1"},Pu={lines:"1"},Mu={lines:"1"},Nu={lines:"1"},Ou={class:"flex justify-end item-control"},Tu={class:"q-gutter-xs"};function Ku(u,n,r,d,c,i){const o=V("SpinnerEdit"),m=V("ConfirmDialog");return E(),b(A,null,[e("section",Fu,[e("div",Vu,[l(D,{label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",color:"primary",onClick:n[0]||(n[0]=t=>u.openEditor(0))})]),u.isEmpty?(E(),b("div",$u,"\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u043F\u0438\u043D\u043D\u0435\u0440\u043E\u0432 \u043F\u0443\u0441\u0442")):(E(),b("div",Iu,[Bu,(E(!0),b(A,null,nu(u.spinnerList,t=>(E(),b("div",{class:"full-width flex justify-between q-pa-md item",key:t.id},[e("div",Qu,[e("div",Lu,f(t.name),1)]),ju,e("div",Uu,[e("div",null,[e("div",Au,[e("span",null,f(t.color1),1)])]),e("div",null,[e("div",zu,[e("span",null,f(t.color2),1)])]),e("div",null,[e("div",Ru,[e("span",null,f(t.spin1==0?"\u041F\u043E \u0447\u0430\u0441\u043E\u0432\u043E\u0439":"\u041F\u0440\u043E\u0442\u0438\u0432 \u0447\u0430\u0441\u043E\u0432\u043E\u0439"),1)])]),e("div",null,[e("div",Pu,[e("span",null,f(t.spin2==0?"\u041F\u043E \u0447\u0430\u0441\u043E\u0432\u043E\u0439":"\u041F\u0440\u043E\u0442\u0438\u0432 \u0447\u0430\u0441\u043E\u0432\u043E\u0439"),1)])]),e("div",null,[e("div",Mu,[e("span",null,f(t.freq1),1)])]),e("div",null,[e("div",Nu,[e("span",null,f(t.freq2),1)])])]),e("div",Ou,[e("div",Tu,[l(D,{size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:a=>u.confirmDelete(t.id)},null,8,["onClick"]),l(D,{size:"12px",flat:"",dense:"",round:"",icon:"edit",onClick:a=>u.editSpinner(t.id)},null,8,["onClick"])])])]))),128))]))]),l(o,{isShow:u.isShowEditor,onCloseEdit:u.closeEditor,spinnerId:u.editId},null,8,["isShow","onCloseEdit","spinnerId"]),l(m,{isShow:u.isShowDialog,onOk:u.deleteSpinner,onCancel:u.closeDialog,description:"\u0415\u0441\u043B\u0438 \u0441\u043F\u0438\u043D\u043D\u0435\u0440 \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u043A\u0430\u043A\u0438\u0445-\u043B\u0438\u0431\u043E \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430\u0445, \u043E\u043D \u043D\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043B\u0435\u043D!",message:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0439 \u0441\u043F\u0438\u043D\u043D\u0435\u0440?"},null,8,["isShow","onOk","onCancel"])],64)}var Ju=B(yu,[["render",Ku],["__scopeId","data-v-6f81b33d"]]);const Wu=$({name:"SpinnerPage",components:{SpinnerList:Ju},setup(){const u=Q(),{isEmpty:n}=I(u);return{isEmpty:n}}}),xu={class:"q-ma-md"};function Gu(u,n,r,d,c,i){const o=V("SpinnerList");return E(),b("section",xu,[l(o)])}var b0=B(Wu,[["render",Gu]]);export{b0 as default};
