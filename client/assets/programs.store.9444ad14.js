import{S as g,T as o}from"./index.c32f5f97.js";import{u as y}from"./spinners.store.20acf367.js";import{u as h}from"./audio.store.ac7f8af1.js";import{j as l}from"./message.store.47318e58.js";const a=l(),w=y(),S=h(),I=g("Programs",{state:()=>({programList:[]}),getters:{isEmpty:r=>r.programList.length===0,programs:r=>r.programList.reduce((t,s)=>{var i,n;const u=s.spinner_id?s.spinner_id:0,m=(i=w.getSpinnerById(u))==null?void 0:i.name,c=s.audio_id?s.audio_id:0,p=(n=S.getAudioById(c))==null?void 0:n.name,d={...s,spinnerName:m,audioName:p};return t.push(d),t},[]),emptyProgram:()=>({name:"",audio_id:null,spinner_id:null,startTime:"00:00",endTime:"00:00",imageShowTime:0})},actions:{async getPrograms(){try{const r=await o.fetch("programs");r.error||(this.programList=r.result||[])}catch{}},getProgramById(r){try{return this.programList.find(t=>t.id===r)}catch{}},async removeProgram(r){try{const e=await o.remove("programs",r);e.error?a.error(e.error):(await this.getPrograms(),a.success(e.result))}catch{}},async insert(r){try{const e=await o.insert("programs",r);return e.error?a.error(e.error):(this.programList.push({...e.result}),a.success("\u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0437\u0434\u0430\u043D\u0430")),e}catch{}},async update(r){try{(await o.update("programs",r)).error||await this.getPrograms()}catch{}}}});export{I as u};
