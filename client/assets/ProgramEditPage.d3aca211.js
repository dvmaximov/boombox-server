import{Q as Ta}from"./QPage.adad8caf.js";import{i as $a,f as qt,aB as la,r as Y,d as g,o as ua,k as Pa,m as Ke,aC as Ba,h as m,a3 as We,ae as Aa,as as Ya,Q as $e,z as ra,j as He,aD as Ha,c as Ee,w as De,q as Ea,a9 as Oa,ap as Fa,e as Ze,aE as ia,aF as La,a1 as Pt,aa as ja,ar as ze,L as ie,n as mt,an as Na,V as Ra,W as ut,t as Qa,X as Ua,Y as ct,Z as xt,a2 as It,aG as za,aH as Ka,p as Wa,S as Za,T as dt,aI as Xa,aJ as Ja,aK as tt,aL as Ga,A as pt,aj as en,K as ht,_ as wt,C as ot,N as it,F as V,E as J,M as he,I as sa,B as gt,R as Lt,O as tn,J as an,H as nn,aM as on,aN as ln,ak as un,D as rn}from"./index.4bc2e000.js";import{u as sn,a as Yt,b as ca,c as Ht,Q as nt}from"./QInput.c29dc47a.js";import{Q as cn,T as dn,g as jt,s as Nt}from"./TouchPan.628adbbb.js";import{u as Vt,Q as da}from"./QDialog.adab8df9.js";import{b as Rt,j as va}from"./message.store.4c689bd0.js";import{r as vn}from"./use-virtual-scroll.28d516b8.js";import{Q as fn}from"./QSeparator.172d3eaa.js";import{u as _t,a as Ct}from"./use-dark.b16beab3.js";import{p as U,c as mn}from"./format.8e50e5da.js";import{Q as hn,a as Bt}from"./QSelect.3145b9cc.js";import{u as gn,a as yn}from"./position-engine.7d36c3af.js";import{Q as fa,a as bn}from"./QCard.693a642c.js";import{Q as pn}from"./QForm.0d1051aa.js";import{C as yt}from"./ClosePopup.a3ca5efc.js";import{u as wn}from"./programs.store.8d80b625.js";import{u as Dt,Q as _n}from"./QImg.1162e61f.js";import{u as Cn}from"./spinners.store.c46275a8.js";import{u as Dn}from"./audio.store.0d2f4ff1.js";import{a as ma}from"./socket.store.11da348e.js";import{u as Sn,o as Mn}from"./option-sizes.11682505.js";import{C as kn}from"./ConfirmDialog.547899bd.js";import{Q as qn}from"./QVirtualScroll.49570707.js";import{u as xn}from"./image-categories.store.e568e2c8.js";import"./focus-manager.05708ea9.js";import"./use-quasar.40b0fec9.js";import"./QItem.e8ffb52f.js";import"./settings.store.7f20a04c.js";import"./QCardActions.0794beeb.js";import"./QList.ed7c7269.js";let In=0;const Vn=["click","keydown"],Tn={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${In++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function $n(e,a,l,r){const u=$a(la,qt);if(u===qt)return console.error("QTab/QRouteTab component needs to be child of QTabs"),qt;const{proxy:o}=He(),c=Y(null),i=Y(null),f=Y(null),D=g(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),h=g(()=>u.currentModel.value===e.name),b=g(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(h.value===!0?" q-tab--active"+(u.tabProps.value.activeClass?" "+u.tabProps.value.activeClass:"")+(u.tabProps.value.activeColor?` text-${u.tabProps.value.activeColor}`:"")+(u.tabProps.value.activeBgColor?` bg-${u.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&u.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||u.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(r!==void 0?r.linkClass.value:"")),q=g(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(u.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),x=g(()=>e.disable===!0||u.hasFocus.value===!0||h.value===!1&&u.hasActiveTab.value===!0?-1:e.tabindex||0);function $(y,d){if(d!==!0&&c.value!==null&&c.value.focus(),e.disable===!0){r!==void 0&&r.hasRouterLink.value===!0&&We(y);return}if(r===void 0){u.updateModel({name:e.name}),l("click",y);return}if(r.hasRouterLink.value===!0){const B=(te={})=>{let Z;const z=te.to===void 0||Ha(te.to,e.to)===!0?u.avoidRouteWatcher=sn():null;return r.navigateToRouterLink(y,{...te,returnRouterError:!0}).catch(de=>{Z=de}).then(de=>{if(z===u.avoidRouteWatcher&&(u.avoidRouteWatcher=!1,Z===void 0&&(de===void 0||de.message.startsWith("Avoided redundant navigation")===!0)&&u.updateModel({name:e.name})),te.returnRouterError===!0)return Z!==void 0?Promise.reject(Z):de})};l("click",y,B),y.defaultPrevented!==!0&&B();return}l("click",y)}function P(y){Aa(y,[13,32])?$(y,!0):Ya(y)!==!0&&y.keyCode>=35&&y.keyCode<=40&&y.altKey!==!0&&y.metaKey!==!0&&u.onKbdNavigate(y.keyCode,o.$el)===!0&&We(y),l("keydown",y)}function I(){const y=u.tabProps.value.narrowIndicator,d=[],B=m("div",{ref:f,class:["q-tab__indicator",u.tabProps.value.indicatorClass]});e.icon!==void 0&&d.push(m($e,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&d.push(m("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&d.push(e.alertIcon!==void 0?m($e,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):m("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),y===!0&&d.push(B);const te=[m("div",{class:"q-focus-helper",tabindex:-1,ref:c}),m("div",{class:q.value},ra(a.default,d))];return y===!1&&te.push(B),te}const E={name:g(()=>e.name),rootRef:i,tabIndicatorRef:f,routeData:r};ua(()=>{u.unregisterTab(E)}),Pa(()=>{u.registerTab(E)});function A(y,d){const B={ref:i,class:b.value,tabindex:x.value,role:"tab","aria-selected":h.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:$,onKeydown:P,...d};return Ke(m(y,B,I()),[[Ba,D.value]])}return{renderTab:A,$tabs:u}}var Qt=Ee({name:"QTab",props:Tn,emits:Vn,setup(e,{slots:a,emit:l}){const{renderTab:r}=$n(e,a,l);return()=>r("div")}});function Pn(e,a,l){const r=l===!0?["left","right"]:["top","bottom"];return`absolute-${a===!0?r[0]:r[1]}${e?` text-${e}`:""}`}const Bn=["left","center","right","justify"];var An=Ee({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Bn.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:a,emit:l}){const{proxy:r}=He(),{$q:u}=r,{registerTick:o}=Vt(),{registerTick:c}=Vt(),{registerTick:i}=Vt(),{registerTimeout:f,removeTimeout:D}=Rt(),{registerTimeout:h,removeTimeout:b}=Rt(),q=Y(null),x=Y(null),$=Y(e.modelValue),P=Y(!1),I=Y(!0),E=Y(!1),A=Y(!1),y=[],d=Y(0),B=Y(!1);let te=null,Z=null,z;const de=g(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Pn(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),_e=g(()=>{const p=d.value,S=$.value;for(let H=0;H<p;H++)if(y[H].name.value===S)return!0;return!1}),oe=g(()=>`q-tabs__content--align-${P.value===!0?"left":A.value===!0?"justify":e.align}`),O=g(()=>`q-tabs row no-wrap items-center q-tabs--${P.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),k=g(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+oe.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),F=g(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),X=g(()=>e.vertical!==!0&&u.lang.rtl===!0),ve=g(()=>vn===!1&&X.value===!0);De(X,pe),De(()=>e.modelValue,p=>{ue({name:p,setCurrent:!0,skipEmit:!0})}),De(()=>e.outsideArrows,fe);function ue({name:p,setCurrent:S,skipEmit:H}){$.value!==p&&(H!==!0&&e["onUpdate:modelValue"]!==void 0&&l("update:modelValue",p),(S===!0||e["onUpdate:modelValue"]===void 0)&&(Oe($.value,p),$.value=p))}function fe(){o(()=>{qe({width:q.value.offsetWidth,height:q.value.offsetHeight})})}function qe(p){if(F.value===void 0||x.value===null)return;const S=p[F.value.container],H=Math.min(x.value[F.value.scroll],Array.prototype.reduce.call(x.value.children,(ee,N)=>ee+(N[F.value.content]||0),0)),G=S>0&&H>S;P.value=G,G===!0&&c(pe),A.value=S<parseInt(e.breakpoint,10)}function Oe(p,S){const H=p!=null&&p!==""?y.find(ee=>ee.name.value===p):null,G=S!=null&&S!==""?y.find(ee=>ee.name.value===S):null;if(H&&G){const ee=H.tabIndicatorRef.value,N=G.tabIndicatorRef.value;te!==null&&(clearTimeout(te),te=null),ee.style.transition="none",ee.style.transform="none",N.style.transition="none",N.style.transform="none";const R=ee.getBoundingClientRect(),ce=N.getBoundingClientRect();N.style.transform=e.vertical===!0?`translate3d(0,${R.top-ce.top}px,0) scale3d(1,${ce.height?R.height/ce.height:1},1)`:`translate3d(${R.left-ce.left}px,0,0) scale3d(${ce.width?R.width/ce.width:1},1,1)`,i(()=>{te=setTimeout(()=>{te=null,N.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",N.style.transform="none"},70)})}G&&P.value===!0&&ge(G.rootRef.value)}function ge(p){const{left:S,width:H,top:G,height:ee}=x.value.getBoundingClientRect(),N=p.getBoundingClientRect();let R=e.vertical===!0?N.top-G:N.left-S;if(R<0){x.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(R),pe();return}R+=e.vertical===!0?N.height-ee:N.width-H,R>0&&(x.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(R),pe())}function pe(){const p=x.value;if(p===null)return;const S=p.getBoundingClientRect(),H=e.vertical===!0?p.scrollTop:Math.abs(p.scrollLeft);X.value===!0?(I.value=Math.ceil(H+S.width)<p.scrollWidth-1,E.value=H>0):(I.value=H>0,E.value=e.vertical===!0?Math.ceil(H+S.height)<p.scrollHeight:Math.ceil(H+S.width)<p.scrollWidth)}function Fe(p){Z!==null&&clearInterval(Z),Z=setInterval(()=>{Me(p)===!0&&ye()},5)}function Pe(){Fe(ve.value===!0?Number.MAX_SAFE_INTEGER:0)}function Le(){Fe(ve.value===!0?0:Number.MAX_SAFE_INTEGER)}function ye(){Z!==null&&(clearInterval(Z),Z=null)}function Be(p,S){const H=Array.prototype.filter.call(x.value.children,ce=>ce===S||ce.matches&&ce.matches(".q-tab.q-focusable")===!0),G=H.length;if(G===0)return;if(p===36)return ge(H[0]),H[0].focus(),!0;if(p===35)return ge(H[G-1]),H[G-1].focus(),!0;const ee=p===(e.vertical===!0?38:37),N=p===(e.vertical===!0?40:39),R=ee===!0?-1:N===!0?1:void 0;if(R!==void 0){const ce=X.value===!0?-1:1,be=H.indexOf(S)+R*ce;return be>=0&&be<G&&(ge(H[be]),H[be].focus({preventScroll:!0})),!0}}const je=g(()=>ve.value===!0?{get:p=>Math.abs(p.scrollLeft),set:(p,S)=>{p.scrollLeft=-S}}:e.vertical===!0?{get:p=>p.scrollTop,set:(p,S)=>{p.scrollTop=S}}:{get:p=>p.scrollLeft,set:(p,S)=>{p.scrollLeft=S}});function Me(p){const S=x.value,{get:H,set:G}=je.value;let ee=!1,N=H(S);const R=p<N?-1:1;return N+=R*5,N<0?(ee=!0,N=0):(R===-1&&N<=p||R===1&&N>=p)&&(ee=!0,N=p),G(S,N),pe(),ee}function Ne(p,S){for(const H in p)if(p[H]!==S[H])return!1;return!0}function re(){let p=null,S={matchedLen:0,queryDiff:9999,hrefLen:0};const H=y.filter(R=>R.routeData!==void 0&&R.routeData.hasRouterLink.value===!0),{hash:G,query:ee}=r.$route,N=Object.keys(ee).length;for(const R of H){const ce=R.routeData.exact.value===!0;if(R.routeData[ce===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:be,query:v,matched:w,href:T}=R.routeData.resolvedLink.value,L=Object.keys(v).length;if(ce===!0){if(be!==G||L!==N||Ne(ee,v)===!1)continue;p=R.name.value;break}if(be!==""&&be!==G||L!==0&&Ne(v,ee)===!1)continue;const K={matchedLen:w.length,queryDiff:N-L,hrefLen:T.length-be.length};if(K.matchedLen>S.matchedLen){p=R.name.value,S=K;continue}else if(K.matchedLen!==S.matchedLen)continue;if(K.queryDiff<S.queryDiff)p=R.name.value,S=K;else if(K.queryDiff!==S.queryDiff)continue;K.hrefLen>S.hrefLen&&(p=R.name.value,S=K)}p===null&&y.some(R=>R.routeData===void 0&&R.name.value===$.value)===!0||ue({name:p,setCurrent:!0})}function se(p){if(D(),B.value!==!0&&q.value!==null&&p.target&&typeof p.target.closest=="function"){const S=p.target.closest(".q-tab");S&&q.value.contains(S)===!0&&(B.value=!0,P.value===!0&&ge(S))}}function Re(){f(()=>{B.value=!1},30)}function ke(){Xe.avoidRouteWatcher===!1?h(re):b()}function Qe(){if(z===void 0){const p=De(()=>r.$route.fullPath,ke);z=()=>{p(),z=void 0}}}function xe(p){y.push(p),d.value++,fe(),p.routeData===void 0||r.$route===void 0?h(()=>{if(P.value===!0){const S=$.value,H=S!=null&&S!==""?y.find(G=>G.name.value===S):null;H&&ge(H.rootRef.value)}}):(Qe(),p.routeData.hasRouterLink.value===!0&&ke())}function me(p){y.splice(y.indexOf(p),1),d.value--,fe(),z!==void 0&&p.routeData!==void 0&&(y.every(S=>S.routeData===void 0)===!0&&z(),ke())}const Xe={currentModel:$,tabProps:de,hasFocus:B,hasActiveTab:_e,registerTab:xe,unregisterTab:me,verifyRouteModel:ke,updateModel:ue,onKbdNavigate:Be,avoidRouteWatcher:!1};Ea(la,Xe);function Je(){te!==null&&clearTimeout(te),ye(),z!==void 0&&z()}let Ie;return ua(Je),Oa(()=>{Ie=z!==void 0,Je()}),Fa(()=>{Ie===!0&&Qe(),fe()}),()=>m("div",{ref:q,class:O.value,role:"tablist",onFocusin:se,onFocusout:Re},[m(cn,{onResize:qe}),m("div",{ref:x,class:k.value,onScroll:pe},Ze(a.default)),m($e,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(I.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||u.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Pe,onTouchstartPassive:Pe,onMouseupPassive:ye,onMouseleavePassive:ye,onTouchendPassive:ye}),m($e,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(E.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||u.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Le,onTouchstartPassive:Le,onMouseupPassive:ye,onMouseleavePassive:ye,onTouchendPassive:ye})])}});const Ye=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Yn(e,a,l){return Object.prototype.toString.call(e)==="[object Date]"&&(l=e.getDate(),a=e.getMonth()+1,e=e.getFullYear()),Fn(Et(e,a,l))}function Ut(e,a,l){return ga(On(e,a,l))}function Hn(e){return En(e)===0}function ft(e,a){return a<=6?31:a<=11||Hn(e)?30:29}function En(e){const a=Ye.length;let l=Ye[0],r,u,o,c,i;if(e<l||e>=Ye[a-1])throw new Error("Invalid Jalaali year "+e);for(i=1;i<a&&(r=Ye[i],u=r-l,!(e<r));i+=1)l=r;return c=e-l,u-c<6&&(c=c-u+ne(u+4,33)*33),o=Se(Se(c+1,33)-1,4),o===-1&&(o=4),o}function ha(e,a){const l=Ye.length,r=e+621;let u=-14,o=Ye[0],c,i,f,D,h;if(e<o||e>=Ye[l-1])throw new Error("Invalid Jalaali year "+e);for(h=1;h<l&&(c=Ye[h],i=c-o,!(e<c));h+=1)u=u+ne(i,33)*8+ne(Se(i,33),4),o=c;D=e-o,u=u+ne(D,33)*8+ne(Se(D,33)+3,4),Se(i,33)===4&&i-D===4&&(u+=1);const b=ne(r,4)-ne((ne(r,100)+1)*3,4)-150,q=20+u-b;return a||(i-D<6&&(D=D-i+ne(i+4,33)*33),f=Se(Se(D+1,33)-1,4),f===-1&&(f=4)),{leap:f,gy:r,march:q}}function On(e,a,l){const r=ha(e,!0);return Et(r.gy,3,r.march)+(a-1)*31-ne(a,7)*(a-7)+l-1}function Fn(e){const a=ga(e).gy;let l=a-621,r,u,o;const c=ha(l,!1),i=Et(a,3,c.march);if(o=e-i,o>=0){if(o<=185)return u=1+ne(o,31),r=Se(o,31)+1,{jy:l,jm:u,jd:r};o-=186}else l-=1,o+=179,c.leap===1&&(o+=1);return u=7+ne(o,30),r=Se(o,30)+1,{jy:l,jm:u,jd:r}}function Et(e,a,l){let r=ne((e+ne(a-8,6)+100100)*1461,4)+ne(153*Se(a+9,12)+2,5)+l-34840408;return r=r-ne(ne(e+100100+ne(a-8,6),100)*3,4)+752,r}function ga(e){let a=4*e+139361631;a=a+ne(ne(4*e+183187720,146097)*3,4)*4-3908;const l=ne(Se(a,1461),4)*5+308,r=ne(Se(l,153),5)+1,u=Se(ne(l,153),12)+1;return{gy:ne(a,1461)-100100+ne(8-u,6),gm:u,gd:r}}function ne(e,a){return~~(e/a)}function Se(e,a){return e-~~(e/a)*a}const Ln=["gregorian","persian"],ya={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Ln.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},ba=["update:modelValue"];function Ve(e){return e.year+"/"+U(e.month)+"/"+U(e.day)}function pa(e,a){const l=g(()=>e.disable!==!0&&e.readonly!==!0),r=g(()=>l.value===!0?0:-1),u=g(()=>{const i=[];return e.color!==void 0&&i.push(`bg-${e.color}`),e.textColor!==void 0&&i.push(`text-${e.textColor}`),i.join(" ")});function o(){return e.locale!==void 0?{...a.lang.date,...e.locale}:a.lang.date}function c(i){const f=new Date,D=i===!0?null:0;if(e.calendar==="persian"){const h=Yn(f);return{year:h.jy,month:h.jm,day:h.jd}}return{year:f.getFullYear(),month:f.getMonth()+1,day:f.getDate(),hour:D,minute:D,second:D,millisecond:D}}return{editable:l,tabindex:r,headerClass:u,getLocale:o,getCurrentDate:c}}const wa=864e5,jn=36e5,At=6e4,_a="YYYY-MM-DDTHH:mm:ss.SSSZ",Nn=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Rn=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Tt={};function Qn(e,a){const l="("+a.days.join("|")+")",r=e+l;if(Tt[r]!==void 0)return Tt[r];const u="("+a.daysShort.join("|")+")",o="("+a.months.join("|")+")",c="("+a.monthsShort.join("|")+")",i={};let f=0;const D=e.replace(Rn,b=>{switch(f++,b){case"YY":return i.YY=f,"(-?\\d{1,2})";case"YYYY":return i.YYYY=f,"(-?\\d{1,4})";case"M":return i.M=f,"(\\d{1,2})";case"MM":return i.M=f,"(\\d{2})";case"MMM":return i.MMM=f,c;case"MMMM":return i.MMMM=f,o;case"D":return i.D=f,"(\\d{1,2})";case"Do":return i.D=f++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return i.D=f,"(\\d{2})";case"H":return i.H=f,"(\\d{1,2})";case"HH":return i.H=f,"(\\d{2})";case"h":return i.h=f,"(\\d{1,2})";case"hh":return i.h=f,"(\\d{2})";case"m":return i.m=f,"(\\d{1,2})";case"mm":return i.m=f,"(\\d{2})";case"s":return i.s=f,"(\\d{1,2})";case"ss":return i.s=f,"(\\d{2})";case"S":return i.S=f,"(\\d{1})";case"SS":return i.S=f,"(\\d{2})";case"SSS":return i.S=f,"(\\d{3})";case"A":return i.A=f,"(AM|PM)";case"a":return i.a=f,"(am|pm)";case"aa":return i.aa=f,"(a\\.m\\.|p\\.m\\.)";case"ddd":return u;case"dddd":return l;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return i.Z=f,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return i.ZZ=f,"(Z|[+-]\\d{2}\\d{2})";case"X":return i.X=f,"(-?\\d+)";case"x":return i.x=f,"(-?\\d{4,})";default:return f--,b[0]==="["&&(b=b.substring(1,b.length-1)),b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),h={map:i,regex:new RegExp("^"+D)};return Tt[r]=h,h}function Ca(e,a){return e!==void 0?e:a!==void 0?a.date:La.date}function zt(e,a=""){const l=e>0?"-":"+",r=Math.abs(e),u=Math.floor(r/60),o=r%60;return l+U(u)+a+U(o)}function rt(e,a,l,r,u){const o={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(u!==void 0&&Object.assign(o,u),e==null||e===""||typeof e!="string")return o;a===void 0&&(a=_a);const c=Ca(l,ia.props),i=c.months,f=c.monthsShort,{regex:D,map:h}=Qn(a,c),b=e.match(D);if(b===null)return o;let q="";if(h.X!==void 0||h.x!==void 0){const x=parseInt(b[h.X!==void 0?h.X:h.x],10);if(isNaN(x)===!0||x<0)return o;const $=new Date(x*(h.X!==void 0?1e3:1));o.year=$.getFullYear(),o.month=$.getMonth()+1,o.day=$.getDate(),o.hour=$.getHours(),o.minute=$.getMinutes(),o.second=$.getSeconds(),o.millisecond=$.getMilliseconds()}else{if(h.YYYY!==void 0)o.year=parseInt(b[h.YYYY],10);else if(h.YY!==void 0){const x=parseInt(b[h.YY],10);o.year=x<0?x:2e3+x}if(h.M!==void 0){if(o.month=parseInt(b[h.M],10),o.month<1||o.month>12)return o}else h.MMM!==void 0?o.month=f.indexOf(b[h.MMM])+1:h.MMMM!==void 0&&(o.month=i.indexOf(b[h.MMMM])+1);if(h.D!==void 0){if(o.day=parseInt(b[h.D],10),o.year===null||o.month===null||o.day<1)return o;const x=r!=="persian"?new Date(o.year,o.month,0).getDate():ft(o.year,o.month);if(o.day>x)return o}h.H!==void 0?o.hour=parseInt(b[h.H],10)%24:h.h!==void 0&&(o.hour=parseInt(b[h.h],10)%12,(h.A&&b[h.A]==="PM"||h.a&&b[h.a]==="pm"||h.aa&&b[h.aa]==="p.m.")&&(o.hour+=12),o.hour=o.hour%24),h.m!==void 0&&(o.minute=parseInt(b[h.m],10)%60),h.s!==void 0&&(o.second=parseInt(b[h.s],10)%60),h.S!==void 0&&(o.millisecond=parseInt(b[h.S],10)*10**(3-b[h.S].length)),(h.Z!==void 0||h.ZZ!==void 0)&&(q=h.Z!==void 0?b[h.Z].replace(":",""):b[h.ZZ],o.timezoneOffset=(q[0]==="+"?-1:1)*(60*q.slice(1,3)+1*q.slice(3,5)))}return o.dateHash=U(o.year,6)+"/"+U(o.month)+"/"+U(o.day),o.timeHash=U(o.hour)+":"+U(o.minute)+":"+U(o.second)+q,o}function Kt(e){const a=new Date(e.getFullYear(),e.getMonth(),e.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);const l=new Date(a.getFullYear(),0,4);l.setDate(l.getDate()-(l.getDay()+6)%7+3);const r=a.getTimezoneOffset()-l.getTimezoneOffset();a.setHours(a.getHours()-r);const u=(a-l)/(wa*7);return 1+Math.floor(u)}function Te(e,a,l){const r=new Date(e),u=`set${l===!0?"UTC":""}`;switch(a){case"year":case"years":r[`${u}Month`](0);case"month":case"months":r[`${u}Date`](1);case"day":case"days":case"date":r[`${u}Hours`](0);case"hour":case"hours":r[`${u}Minutes`](0);case"minute":case"minutes":r[`${u}Seconds`](0);case"second":case"seconds":r[`${u}Milliseconds`](0)}return r}function vt(e,a,l){return(e.getTime()-e.getTimezoneOffset()*At-(a.getTime()-a.getTimezoneOffset()*At))/l}function Da(e,a,l="days"){const r=new Date(e),u=new Date(a);switch(l){case"years":case"year":return r.getFullYear()-u.getFullYear();case"months":case"month":return(r.getFullYear()-u.getFullYear())*12+r.getMonth()-u.getMonth();case"days":case"day":case"date":return vt(Te(r,"day"),Te(u,"day"),wa);case"hours":case"hour":return vt(Te(r,"hour"),Te(u,"hour"),jn);case"minutes":case"minute":return vt(Te(r,"minute"),Te(u,"minute"),At);case"seconds":case"second":return vt(Te(r,"second"),Te(u,"second"),1e3)}}function Wt(e){return Da(e,Te(e,"year"),"days")+1}function Zt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Xt={YY(e,a,l){const r=this.YYYY(e,a,l)%100;return r>=0?U(r):"-"+U(Math.abs(r))},YYYY(e,a,l){return l!=null?l:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return U(e.getMonth()+1)},MMM(e,a){return a.monthsShort[e.getMonth()]},MMMM(e,a){return a.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Zt(this.Q(e))},D(e){return e.getDate()},Do(e){return Zt(e.getDate())},DD(e){return U(e.getDate())},DDD(e){return Wt(e)},DDDD(e){return U(Wt(e),3)},d(e){return e.getDay()},dd(e,a){return this.dddd(e,a).slice(0,2)},ddd(e,a){return a.daysShort[e.getDay()]},dddd(e,a){return a.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Kt(e)},ww(e){return U(Kt(e))},H(e){return e.getHours()},HH(e){return U(e.getHours())},h(e){const a=e.getHours();return a===0?12:a>12?a%12:a},hh(e){return U(this.h(e))},m(e){return e.getMinutes()},mm(e){return U(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return U(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return U(Math.floor(e.getMilliseconds()/10))},SSS(e){return U(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,a,l,r){const u=r==null?e.getTimezoneOffset():r;return zt(u,":")},ZZ(e,a,l,r){const u=r==null?e.getTimezoneOffset():r;return zt(u)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Sa(e,a,l,r,u){if(e!==0&&!e||e===1/0||e===-1/0)return;const o=new Date(e);if(isNaN(o))return;a===void 0&&(a=_a);const c=Ca(l,ia.props);return a.replace(Nn,(i,f)=>i in Xt?Xt[i](o,c,r,u):f===void 0?i:f.split("\\]").join("]"))}function Un(e,a){if(e.hour!==null){if(e.minute===null)return"minute";if(a===!0&&e.second===null)return"second"}return"hour"}function zn(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}var Jt=Ee({name:"QTime",props:{..._t,...Yt,...ya,mask:{default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:ba,setup(e,{slots:a,emit:l}){const r=He(),{$q:u}=r.proxy,o=Ct(e,u),{tabindex:c,headerClass:i,getLocale:f,getCurrentDate:D}=pa(e,u),h=ca(e),b=Ht(h);let q,x;const $=Y(null),P=g(()=>Le()),I=g(()=>f()),E=g(()=>ye()),A=rt(e.modelValue,P.value,I.value,e.calendar,E.value),y=Y(Un(A)),d=Y(A),B=Y(A.hour===null||A.hour<12),te=g(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+(o.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),Z=g(()=>{const v=d.value;return{hour:v.hour===null?"--":z.value===!0?U(v.hour):String(B.value===!0?v.hour===0?12:v.hour:v.hour>12?v.hour-12:v.hour),minute:v.minute===null?"--":U(v.minute),second:v.second===null?"--":U(v.second)}}),z=g(()=>e.format24h!==null?e.format24h:u.lang.date.format24h),de=g(()=>{const v=y.value==="hour",w=v===!0?12:60,T=d.value[y.value];let K=`rotate(${Math.round(T*(360/w))-180}deg) translateX(-50%)`;return v===!0&&z.value===!0&&d.value.hour>=12&&(K+=" scale(.7)"),{transform:K}}),_e=g(()=>d.value.hour!==null),oe=g(()=>_e.value===!0&&d.value.minute!==null),O=g(()=>e.hourOptions!==void 0?v=>e.hourOptions.includes(v):e.options!==void 0?v=>e.options(v,null,null):null),k=g(()=>e.minuteOptions!==void 0?v=>e.minuteOptions.includes(v):e.options!==void 0?v=>e.options(d.value.hour,v,null):null),F=g(()=>e.secondOptions!==void 0?v=>e.secondOptions.includes(v):e.options!==void 0?v=>e.options(d.value.hour,d.value.minute,v):null),X=g(()=>{if(O.value===null)return null;const v=pe(0,11,O.value),w=pe(12,11,O.value);return{am:v,pm:w,values:v.values.concat(w.values)}}),ve=g(()=>k.value!==null?pe(0,59,k.value):null),ue=g(()=>F.value!==null?pe(0,59,F.value):null),fe=g(()=>{switch(y.value){case"hour":return X.value;case"minute":return ve.value;case"second":return ue.value}}),qe=g(()=>{let v,w,T=0,L=1;const K=fe.value!==null?fe.value.values:void 0;y.value==="hour"?z.value===!0?(v=0,w=23):(v=0,w=11,B.value===!1&&(T=12)):(v=0,w=55,L=5);const Ce=[];for(let Q=v,le=v;Q<=w;Q+=L,le++){const we=Q+T,st=K!==void 0&&K.includes(we)===!1,Ge=y.value==="hour"&&Q===0?z.value===!0?"00":"12":Q;Ce.push({val:we,index:le,disable:st,label:Ge})}return Ce}),Oe=g(()=>[[dn,Me,void 0,{stop:!0,prevent:!0,mouse:!0}]]);De(()=>e.modelValue,v=>{const w=rt(v,P.value,I.value,e.calendar,E.value);(w.dateHash!==d.value.dateHash||w.timeHash!==d.value.timeHash)&&(d.value=w,w.hour===null?y.value="hour":B.value=w.hour<12)}),De([P,I],()=>{mt(()=>{R()})});function ge(){const v={...D(),...zn()};R(v),Object.assign(d.value,v),y.value="hour"}function pe(v,w,T){const L=Array.apply(null,{length:w+1}).map((K,Ce)=>{const Q=Ce+v;return{index:Q,val:T(Q)===!0}}).filter(K=>K.val===!0).map(K=>K.index);return{min:L[0],max:L[L.length-1],values:L,threshold:w+1}}function Fe(v,w,T){const L=Math.abs(v-w);return Math.min(L,T-L)}function Pe(v,{min:w,max:T,values:L,threshold:K}){if(v===w)return w;if(v<w||v>T)return Fe(v,w,K)<=Fe(v,T,K)?w:T;const Ce=L.findIndex(we=>v<=we),Q=L[Ce-1],le=L[Ce];return v-Q<=le-v?Q:le}function Le(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function ye(){if(typeof e.defaultDate!="string"){const v=D(!0);return v.dateHash=Ve(v),v}return rt(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function Be(){return ja(r)===!0||fe.value!==null&&(fe.value.values.length===0||y.value==="hour"&&z.value!==!0&&X.value[B.value===!0?"am":"pm"].values.length===0)}function je(){const v=$.value,{top:w,left:T,width:L}=v.getBoundingClientRect(),K=L/2;return{top:w+K,left:T+K,dist:K*.7}}function Me(v){if(Be()!==!0){if(v.isFirst===!0){q=je(),x=re(v.evt,q);return}x=re(v.evt,q,x),v.isFinal===!0&&(q=!1,x=null,Ne())}}function Ne(){y.value==="hour"?y.value="minute":e.withSeconds&&y.value==="minute"&&(y.value="second")}function re(v,w,T){const L=Pt(v),K=Math.abs(L.top-w.top),Ce=Math.sqrt(Math.pow(Math.abs(L.top-w.top),2)+Math.pow(Math.abs(L.left-w.left),2));let Q,le=Math.asin(K/Ce)*(180/Math.PI);if(L.top<w.top?le=w.left<L.left?90-le:270+le:le=w.left<L.left?le+90:270-le,y.value==="hour"){if(Q=le/30,X.value!==null){const we=z.value!==!0?B.value===!0:X.value.am.values.length!==0&&X.value.pm.values.length!==0?Ce>=w.dist:X.value.am.values.length!==0;Q=Pe(Q+(we===!0?0:12),X.value[we===!0?"am":"pm"])}else Q=Math.round(Q),z.value===!0?Ce<w.dist?Q<12&&(Q+=12):Q===12&&(Q=0):B.value===!0&&Q===12?Q=0:B.value===!1&&Q!==12&&(Q+=12);z.value===!0&&(B.value=Q<12)}else Q=Math.round(le/6)%60,y.value==="minute"&&ve.value!==null?Q=Pe(Q,ve.value):y.value==="second"&&ue.value!==null&&(Q=Pe(Q,ue.value));return T!==Q&&H[y.value](Q),Q}const se={hour(){y.value="hour"},minute(){y.value="minute"},second(){y.value="second"}};function Re(v){v.keyCode===13&&G()}function ke(v){v.keyCode===13&&ee()}function Qe(v){Be()!==!0&&(u.platform.is.desktop!==!0&&re(v,je()),Ne())}function xe(v){Be()!==!0&&re(v,je())}function me(v){if(v.keyCode===13)y.value="hour";else if([37,39].includes(v.keyCode)){const w=v.keyCode===37?-1:1;if(X.value!==null){const T=z.value===!0?X.value.values:X.value[B.value===!0?"am":"pm"].values;if(T.length===0)return;if(d.value.hour===null)Ie(T[0]);else{const L=(T.length+T.indexOf(d.value.hour)+w)%T.length;Ie(T[L])}}else{const T=z.value===!0?24:12,L=z.value!==!0&&B.value===!1?12:0,K=d.value.hour===null?-w:d.value.hour;Ie(L+(24+K+w)%T)}}}function Xe(v){if(v.keyCode===13)y.value="minute";else if([37,39].includes(v.keyCode)){const w=v.keyCode===37?-1:1;if(ve.value!==null){const T=ve.value.values;if(T.length===0)return;if(d.value.minute===null)p(T[0]);else{const L=(T.length+T.indexOf(d.value.minute)+w)%T.length;p(T[L])}}else{const T=d.value.minute===null?-w:d.value.minute;p((60+T+w)%60)}}}function Je(v){if(v.keyCode===13)y.value="second";else if([37,39].includes(v.keyCode)){const w=v.keyCode===37?-1:1;if(ue.value!==null){const T=ue.value.values;if(T.length===0)return;if(d.value.seconds===null)S(T[0]);else{const L=(T.length+T.indexOf(d.value.second)+w)%T.length;S(T[L])}}else{const T=d.value.second===null?-w:d.value.second;S((60+T+w)%60)}}}function Ie(v){d.value.hour!==v&&(d.value.hour=v,N())}function p(v){d.value.minute!==v&&(d.value.minute=v,N())}function S(v){d.value.second!==v&&(d.value.second=v,N())}const H={hour:Ie,minute:p,second:S};function G(){B.value===!1&&(B.value=!0,d.value.hour!==null&&(d.value.hour-=12,N()))}function ee(){B.value===!0&&(B.value=!1,d.value.hour!==null&&(d.value.hour+=12,N()))}function N(){if(O.value!==null&&O.value(d.value.hour)!==!0){d.value=rt(),y.value="hour";return}if(k.value!==null&&k.value(d.value.minute)!==!0){d.value.minute=null,d.value.second=null,y.value="minute";return}if(e.withSeconds===!0&&F.value!==null&&F.value(d.value.second)!==!0){d.value.second=null,y.value="second";return}d.value.hour===null||d.value.minute===null||e.withSeconds===!0&&d.value.second===null||R()}function R(v){const w=Object.assign({...d.value},v),T=e.calendar==="persian"?U(w.hour)+":"+U(w.minute)+(e.withSeconds===!0?":"+U(w.second):""):Sa(new Date(w.year,w.month===null?null:w.month-1,w.day,w.hour,w.minute,w.second,w.millisecond),P.value,I.value,w.year,w.timezoneOffset);w.changed=T!==e.modelValue,l("update:modelValue",T,w)}function ce(){const v=[m("div",{class:"q-time__link "+(y.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:c.value,onClick:se.hour,onKeyup:me},Z.value.hour),m("div",":"),m("div",_e.value===!0?{class:"q-time__link "+(y.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:c.value,onKeyup:Xe,onClick:se.minute}:{class:"q-time__link"},Z.value.minute)];e.withSeconds===!0&&v.push(m("div",":"),m("div",oe.value===!0?{class:"q-time__link "+(y.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:c.value,onKeyup:Je,onClick:se.second}:{class:"q-time__link"},Z.value.second));const w=[m("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},v)];return z.value===!1&&w.push(m("div",{class:"q-time__header-ampm column items-between no-wrap"},[m("div",{class:"q-time__link "+(B.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:c.value,onClick:G,onKeyup:Re},"AM"),m("div",{class:"q-time__link "+(B.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:c.value,onClick:ee,onKeyup:ke},"PM")])),m("div",{class:"q-time__header flex flex-center no-wrap "+i.value},w)}function be(){const v=d.value[y.value];return m("div",{class:"q-time__content col relative-position"},[m(ze,{name:"q-transition--scale"},()=>m("div",{key:"clock"+y.value,class:"q-time__container-parent absolute-full"},[m("div",{ref:$,class:"q-time__container-child fit overflow-hidden"},[Ke(m("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:Qe,onMousedown:xe},[m("div",{class:"q-time__clock-circle fit"},[m("div",{class:"q-time__clock-pointer"+(d.value[y.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:de.value}),qe.value.map(w=>m("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${w.index}`+(w.val===v?" q-time__clock-position--active "+i.value:w.disable===!0?" q-time__clock-position--disable":"")},[m("span",w.label)]))])]),Oe.value)])])),e.nowBtn===!0?m(ie,{class:"q-time__now-button absolute",icon:u.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:c.value,onClick:ge}):null])}return r.proxy.setNow=ge,()=>{const v=[be()],w=Ze(a.default);return w!==void 0&&v.push(m("div",{class:"q-time__actions"},w)),e.name!==void 0&&e.disable!==!0&&b(v,"push"),m("div",{class:te.value,tabindex:-1},[ce(),m("div",{class:"q-time__main col overflow-auto"},v)])}}}),bt=Ee({name:"QPopupProxy",props:{...gn,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:a,emit:l,attrs:r}){const{proxy:u}=He(),{$q:o}=u,c=Y(!1),i=Y(null),f=g(()=>parseInt(e.breakpoint,10)),{canShow:D}=yn({showing:c});function h(){return o.screen.width<f.value||o.screen.height<f.value?"dialog":"menu"}const b=Y(h()),q=g(()=>b.value==="menu"?{maxHeight:"99vh"}:{});De(()=>h(),P=>{c.value!==!0&&(b.value=P)});function x(P){c.value=!0,l("show",P)}function $(P){c.value=!1,b.value=h(),l("hide",P)}return Object.assign(u,{show(P){D(P)===!0&&i.value.show(P)},hide(P){i.value.hide(P)},toggle(P){i.value.toggle(P)}}),Na(u,"currentComponent",()=>({type:b.value,ref:i.value})),()=>{const P={ref:i,...q.value,...r,onShow:x,onHide:$};let I;return b.value==="dialog"?I=da:(I=hn,Object.assign(P,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),m(I,P,a.default)}}});function Kn(e){const a=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((l,r)=>{const u=parseFloat(l);u&&(a[r]=u)}),a}var Wn=Ra({name:"touch-swipe",beforeMount(e,{value:a,arg:l,modifiers:r}){if(r.mouse!==!0&&ut.has.touch!==!0)return;const u=r.mouseCapture===!0?"Capture":"",o={handler:a,sensitivity:Kn(l),direction:jt(r),noop:Qa,mouseStart(c){Nt(c,o)&&Ua(c)&&(ct(o,"temp",[[document,"mousemove","move",`notPassive${u}`],[document,"mouseup","end","notPassiveCapture"]]),o.start(c,!0))},touchStart(c){if(Nt(c,o)){const i=c.target;ct(o,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","notPassiveCapture"],[i,"touchend","end","notPassiveCapture"]]),o.start(c)}},start(c,i){ut.is.firefox===!0&&xt(e,!0);const f=Pt(c);o.event={x:f.left,y:f.top,time:Date.now(),mouse:i===!0,dir:!1}},move(c){if(o.event===void 0)return;if(o.event.dir!==!1){We(c);return}const i=Date.now()-o.event.time;if(i===0)return;const f=Pt(c),D=f.left-o.event.x,h=Math.abs(D),b=f.top-o.event.y,q=Math.abs(b);if(o.event.mouse!==!0){if(h<o.sensitivity[1]&&q<o.sensitivity[1]){o.end(c);return}}else if(window.getSelection().toString()!==""){o.end(c);return}else if(h<o.sensitivity[2]&&q<o.sensitivity[2])return;const x=h/i,$=q/i;o.direction.vertical===!0&&h<q&&h<100&&$>o.sensitivity[0]&&(o.event.dir=b<0?"up":"down"),o.direction.horizontal===!0&&h>q&&q<100&&x>o.sensitivity[0]&&(o.event.dir=D<0?"left":"right"),o.direction.up===!0&&h<q&&b<0&&h<100&&$>o.sensitivity[0]&&(o.event.dir="up"),o.direction.down===!0&&h<q&&b>0&&h<100&&$>o.sensitivity[0]&&(o.event.dir="down"),o.direction.left===!0&&h>q&&D<0&&q<100&&x>o.sensitivity[0]&&(o.event.dir="left"),o.direction.right===!0&&h>q&&D>0&&q<100&&x>o.sensitivity[0]&&(o.event.dir="right"),o.event.dir!==!1?(We(c),o.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),mn(),o.styleCleanup=P=>{o.styleCleanup=void 0,document.body.classList.remove("non-selectable");const I=()=>{document.body.classList.remove("no-pointer-events--children")};P===!0?setTimeout(I,50):I()}),o.handler({evt:c,touch:o.event.mouse!==!0,mouse:o.event.mouse,direction:o.event.dir,duration:i,distance:{x:h,y:q}})):o.end(c)},end(c){o.event!==void 0&&(It(o,"temp"),ut.is.firefox===!0&&xt(e,!1),o.styleCleanup!==void 0&&o.styleCleanup(!0),c!==void 0&&o.event.dir!==!1&&We(c),o.event=void 0)}};if(e.__qtouchswipe=o,r.mouse===!0){const c=r.mouseCapture===!0||r.mousecapture===!0?"Capture":"";ct(o,"main",[[e,"mousedown","mouseStart",`passive${c}`]])}ut.has.touch===!0&&ct(o,"main",[[e,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,a){const l=e.__qtouchswipe;l!==void 0&&(a.oldValue!==a.value&&(typeof a.value!="function"&&l.end(),l.handler=a.value),l.direction=jt(a.modifiers))},beforeUnmount(e){const a=e.__qtouchswipe;a!==void 0&&(It(a,"main"),It(a,"temp"),ut.is.firefox===!0&&xt(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(),delete e.__qtouchswipe)}});function Ma(){const e=new Map;return{getCache:function(a,l){return e[a]===void 0?e[a]=l:e[a]},getCacheWithFn:function(a,l){return e[a]===void 0?e[a]=l():e[a]}}}const Zn={name:{required:!0},disable:Boolean},Gt={setup(e,{slots:a}){return()=>m("div",{class:"q-panel scroll",role:"tabpanel"},Ze(a.default))}},Xn={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Jn=["update:modelValue","beforeTransition","transition"];function Gn(){const{props:e,emit:a,proxy:l}=He(),{getCacheWithFn:r}=Ma();let u,o;const c=Y(null),i=Y(null);function f(k){const F=e.vertical===!0?"up":"left";Z((l.$q.lang.rtl===!0?-1:1)*(k.direction===F?1:-1))}const D=g(()=>[[Wn,f,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),h=g(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),b=g(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),q=g(()=>`--q-transition-duration: ${e.transitionDuration}ms`),x=g(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),$=g(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),P=g(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);De(()=>e.modelValue,(k,F)=>{const X=y(k)===!0?d(k):-1;o!==!0&&te(X===-1?0:X<d(F)?-1:1),c.value!==X&&(c.value=X,a("beforeTransition",k,F),mt(()=>{a("transition",k,F)}))});function I(){Z(1)}function E(){Z(-1)}function A(k){a("update:modelValue",k)}function y(k){return k!=null&&k!==""}function d(k){return u.findIndex(F=>F.props.name===k&&F.props.disable!==""&&F.props.disable!==!0)}function B(){return u.filter(k=>k.props.disable!==""&&k.props.disable!==!0)}function te(k){const F=k!==0&&e.animated===!0&&c.value!==-1?"q-transition--"+(k===-1?h.value:b.value):null;i.value!==F&&(i.value=F)}function Z(k,F=c.value){let X=F+k;for(;X>-1&&X<u.length;){const ve=u[X];if(ve!==void 0&&ve.props.disable!==""&&ve.props.disable!==!0){te(k),o=!0,a("update:modelValue",ve.props.name),setTimeout(()=>{o=!1});return}X+=k}e.infinite===!0&&u.length!==0&&F!==-1&&F!==u.length&&Z(k,k===-1?u.length:-1)}function z(){const k=d(e.modelValue);return c.value!==k&&(c.value=k),!0}function de(){const k=y(e.modelValue)===!0&&z()&&u[c.value];return e.keepAlive===!0?[m(Ka,$.value,[m(P.value===!0?r(x.value,()=>({...Gt,name:x.value})):Gt,{key:x.value,style:q.value},()=>k)])]:[m("div",{class:"q-panel scroll",style:q.value,key:x.value,role:"tabpanel"},[k])]}function _e(){if(u.length!==0)return e.animated===!0?[m(ze,{name:i.value},de)]:de()}function oe(k){return u=za(Ze(k.default,[])).filter(F=>F.props!==null&&F.props.slot===void 0&&y(F.props.name)===!0),u.length}function O(){return u}return Object.assign(l,{next:I,previous:E,goTo:A}),{panelIndex:c,panelDirectives:D,updatePanelsList:oe,updatePanelIndex:z,getPanelContent:_e,getEnabledPanels:B,getPanels:O,isValidPanelName:y,keepAliveProps:$,needsUniqueKeepAliveWrapper:P,goToPanelByOffset:Z,goToPanel:A,nextPanel:I,previousPanel:E}}var ea=Ee({name:"QTabPanel",props:Zn,setup(e,{slots:a}){return()=>m("div",{class:"q-tab-panel",role:"tabpanel"},Ze(a.default))}}),eo=Ee({name:"QTabPanels",props:{...Xn,..._t},emits:Jn,setup(e,{slots:a}){const l=He(),r=Ct(e,l.proxy.$q),{updatePanelsList:u,getPanelContent:o,panelDirectives:c}=Gn(),i=g(()=>"q-tab-panels q-panel-parent"+(r.value===!0?" q-tab-panels--dark q-dark":""));return()=>(u(a),Wa("div",{class:i.value},o(),"pan",e.swipeable,()=>c.value))}});const ta=va(),to=Dt(),ka=Za("ProgramsItems",{state:()=>({programItemsList:[]}),getters:{isEmpty:e=>a=>e.programItemsList.filter(r=>r.program_id===a).length===0,emptyProgram:()=>{const e=new Date,a=e.getFullYear(),l=e.getMonth(),r=e.getDay(),u=`${a}/${l}/${r}`;return{program_id:0,image_id:0,startDate:u,endDate:u,active:"true",always:"false"}}},actions:{getItemsByProgramId(e){return this.programItemsList.filter(r=>r.program_id===e).reduce((r,u)=>{var b;const o=u.image_id?u.image_id:0,c=(b=to.getImageById(o))==null?void 0:b.name,i=u.active==="true",f=u.always==="true";console.log(u.always,f);const h={...u,imageName:c,activeBool:i,alwaysBool:f,isModified:!1};return r.push(h),r},[])},async getItems(){try{const e=await dt.fetch("programs/items");e.error||(this.programItemsList=e.result||[])}catch{}},getItemById(e){try{return this.programItemsList.find(l=>l.id===e)}catch{}},async removeItem(e){try{(await dt.remove("programs/items",e)).error||await this.getItems()}catch{}},async insert(e){try{const a=await dt.insert("programs/items",e);return a.error||this.programItemsList.push({...a.result}),a}catch{}},async update(e){try{const a=await dt.update("programs/items",e);a.error?ta.error(a.error):(await this.getItems(),ta.success(a.result))}catch{}}}}),Ue=20,ao=["Calendar","Years","Months"],aa=e=>ao.includes(e),$t=e=>/^-?[\d]+\/[0-1]\d$/.test(e),at=" \u2014 ";function Ae(e){return e.year+"/"+U(e.month)}var na=Ee({name:"QDate",props:{...ya,...Yt,..._t,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:$t},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:$t},navigationMaxYearMonth:{type:String,validator:$t},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:aa}},emits:[...ba,"rangeStart","rangeEnd","navigation"],setup(e,{slots:a,emit:l}){const{proxy:r}=He(),{$q:u}=r,o=Ct(e,u),{getCache:c}=Ma(),{tabindex:i,headerClass:f,getLocale:D,getCurrentDate:h}=pa(e,u);let b;const q=ca(e),x=Ht(q),$=Y(null),P=Y(ce()),I=Y(D()),E=g(()=>ce()),A=g(()=>D()),y=g(()=>h()),d=Y(v(P.value,I.value)),B=Y(e.defaultView),te=u.lang.rtl===!0?"right":"left",Z=Y(te.value),z=Y(te.value),de=d.value.year,_e=Y(de-de%Ue-(de<0?Ue:0)),oe=Y(null),O=g(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(o.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),k=g(()=>e.color||"primary"),F=g(()=>e.textColor||"white"),X=g(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),ve=g(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),ue=g(()=>ve.value.filter(t=>typeof t=="string").map(t=>be(t,P.value,I.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),fe=g(()=>{const t=n=>be(n,P.value,I.value);return ve.value.filter(n=>Xa(n)===!0&&n.from!==void 0&&n.to!==void 0).map(n=>({from:t(n.from),to:t(n.to)})).filter(n=>n.from.dateHash!==null&&n.to.dateHash!==null&&n.from.dateHash<n.to.dateHash)}),qe=g(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const n=Ut(t.year,t.month,t.day);return new Date(n.gy,n.gm-1,n.gd)}),Oe=g(()=>e.calendar==="persian"?Ve:(t,n,s)=>Sa(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),n===void 0?P.value:n,s===void 0?I.value:s,t.year,t.timezoneOffset)),ge=g(()=>ue.value.length+fe.value.reduce((t,n)=>t+1+Da(qe.value(n.to),qe.value(n.from)),0)),pe=g(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(oe.value!==null){const s=oe.value.init,C=qe.value(s);return I.value.daysShort[C.getDay()]+", "+I.value.monthsShort[s.month-1]+" "+s.day+at+"?"}if(ge.value===0)return at;if(ge.value>1)return`${ge.value} ${I.value.pluralDay}`;const t=ue.value[0],n=qe.value(t);return isNaN(n.valueOf())===!0?at:I.value.headerTitle!==void 0?I.value.headerTitle(n,t):I.value.daysShort[n.getDay()]+", "+I.value.monthsShort[t.month-1]+" "+t.day}),Fe=g(()=>ue.value.concat(fe.value.map(n=>n.from)).sort((n,s)=>n.year-s.year||n.month-s.month)[0]),Pe=g(()=>ue.value.concat(fe.value.map(n=>n.to)).sort((n,s)=>s.year-n.year||s.month-n.month)[0]),Le=g(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(ge.value===0)return at;if(ge.value>1){const t=Fe.value,n=Pe.value,s=I.value.monthsShort;return s[t.month-1]+(t.year!==n.year?" "+t.year+at+s[n.month-1]+" ":t.month!==n.month?at+s[n.month-1]:"")+" "+n.year}return ue.value[0].year}),ye=g(()=>{const t=[u.iconSet.datetime.arrowLeft,u.iconSet.datetime.arrowRight];return u.lang.rtl===!0?t.reverse():t}),Be=g(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):I.value.firstDayOfWeek),je=g(()=>{const t=I.value.daysShort,n=Be.value;return n>0?t.slice(n,7).concat(t.slice(0,n)):t}),Me=g(()=>{const t=d.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():ft(t.year,t.month)}),Ne=g(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),re=g(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),se=g(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),Re=g(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return re.value!==null&&re.value.year>=d.value.year&&(t.year.prev=!1,re.value.year===d.value.year&&re.value.month>=d.value.month&&(t.month.prev=!1)),se.value!==null&&se.value.year<=d.value.year&&(t.year.next=!1,se.value.year===d.value.year&&se.value.month<=d.value.month&&(t.month.next=!1)),t}),ke=g(()=>{const t={};return ue.value.forEach(n=>{const s=Ae(n);t[s]===void 0&&(t[s]=[]),t[s].push(n.day)}),t}),Qe=g(()=>{const t={};return fe.value.forEach(n=>{const s=Ae(n.from),C=Ae(n.to);if(t[s]===void 0&&(t[s]=[]),t[s].push({from:n.from.day,to:s===C?n.to.day:void 0,range:n}),s<C){let _;const{year:W,month:M}=n.from,j=M<12?{year:W,month:M+1}:{year:W+1,month:1};for(;(_=Ae(j))<=C;)t[_]===void 0&&(t[_]=[]),t[_].push({from:void 0,to:_===C?n.to.day:void 0,range:n}),j.month++,j.month>12&&(j.year++,j.month=1)}}),t}),xe=g(()=>{if(oe.value===null)return;const{init:t,initHash:n,final:s,finalHash:C}=oe.value,[_,W]=n<=C?[t,s]:[s,t],M=Ae(_),j=Ae(W);if(M!==me.value&&j!==me.value)return;const ae={};return M===me.value?(ae.from=_.day,ae.includeFrom=!0):ae.from=1,j===me.value?(ae.to=W.day,ae.includeTo=!0):ae.to=Me.value,ae}),me=g(()=>Ae(d.value)),Xe=g(()=>{const t={};if(e.options===void 0){for(let s=1;s<=Me.value;s++)t[s]=!0;return t}const n=typeof e.options=="function"?e.options:s=>e.options.includes(s);for(let s=1;s<=Me.value;s++){const C=me.value+"/"+U(s);t[s]=n(C)}return t}),Je=g(()=>{const t={};if(e.events===void 0)for(let n=1;n<=Me.value;n++)t[n]=!1;else{const n=typeof e.events=="function"?e.events:s=>e.events.includes(s);for(let s=1;s<=Me.value;s++){const C=me.value+"/"+U(s);t[s]=n(C)===!0&&Ne.value(C)}}return t}),Ie=g(()=>{let t,n;const{year:s,month:C}=d.value;if(e.calendar!=="persian")t=new Date(s,C-1,1),n=new Date(s,C-1,0).getDate();else{const _=Ut(s,C,1);t=new Date(_.gy,_.gm-1,_.gd);let W=C-1,M=s;W===0&&(W=12,M--),n=ft(M,W)}return{days:t.getDay()-Be.value-1,endDay:n}}),p=g(()=>{const t=[],{days:n,endDay:s}=Ie.value,C=n<0?n+7:n;if(C<6)for(let M=s-C;M<=s;M++)t.push({i:M,fill:!0});const _=t.length;for(let M=1;M<=Me.value;M++){const j={i:M,event:Je.value[M],classes:[]};Xe.value[M]===!0&&(j.in=!0,j.flat=!0),t.push(j)}if(ke.value[me.value]!==void 0&&ke.value[me.value].forEach(M=>{const j=_+M-1;Object.assign(t[j],{selected:!0,unelevated:!0,flat:!1,color:k.value,textColor:F.value})}),Qe.value[me.value]!==void 0&&Qe.value[me.value].forEach(M=>{if(M.from!==void 0){const j=_+M.from-1,ae=_+(M.to||Me.value)-1;for(let lt=j;lt<=ae;lt++)Object.assign(t[lt],{range:M.range,unelevated:!0,color:k.value,textColor:F.value});Object.assign(t[j],{rangeFrom:!0,flat:!1}),M.to!==void 0&&Object.assign(t[ae],{rangeTo:!0,flat:!1})}else if(M.to!==void 0){const j=_+M.to-1;for(let ae=_;ae<=j;ae++)Object.assign(t[ae],{range:M.range,unelevated:!0,color:k.value,textColor:F.value});Object.assign(t[j],{flat:!1,rangeTo:!0})}else{const j=_+Me.value-1;for(let ae=_;ae<=j;ae++)Object.assign(t[ae],{range:M.range,unelevated:!0,color:k.value,textColor:F.value})}}),xe.value!==void 0){const M=_+xe.value.from-1,j=_+xe.value.to-1;for(let ae=M;ae<=j;ae++)t[ae].color=k.value,t[ae].editRange=!0;xe.value.includeFrom===!0&&(t[M].editRangeFrom=!0),xe.value.includeTo===!0&&(t[j].editRangeTo=!0)}d.value.year===y.value.year&&d.value.month===y.value.month&&(t[_+y.value.day-1].today=!0);const W=t.length%7;if(W>0){const M=7-W;for(let j=1;j<=M;j++)t.push({i:j,fill:!0})}return t.forEach(M=>{let j="q-date__calendar-item ";M.fill===!0?j+="q-date__calendar-item--fill":(j+=`q-date__calendar-item--${M.in===!0?"in":"out"}`,M.range!==void 0&&(j+=` q-date__range${M.rangeTo===!0?"-to":M.rangeFrom===!0?"-from":""}`),M.editRange===!0&&(j+=` q-date__edit-range${M.editRangeFrom===!0?"-from":""}${M.editRangeTo===!0?"-to":""}`),(M.range!==void 0||M.editRange===!0)&&(j+=` text-${M.color}`)),M.classes=j}),t}),S=g(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});De(()=>e.modelValue,t=>{if(b===t)b=0;else{const n=v(P.value,I.value);we(n.year,n.month,n)}}),De(B,()=>{$.value!==null&&r.$el.contains(document.activeElement)===!0&&$.value.focus()}),De(()=>d.value.year+"|"+d.value.month,()=>{l("navigation",{year:d.value.year,month:d.value.month})}),De(E,t=>{Ft(t,I.value,"mask"),P.value=t}),De(A,t=>{Ft(P.value,t,"locale"),I.value=t});function H(){const t=y.value,n=ke.value[Ae(t)];(n===void 0||n.includes(t.day)===!1)&&St(t),N(t.year,t.month)}function G(t){aa(t)===!0&&(B.value=t)}function ee(t,n){["month","year"].includes(t)&&(t==="month"?T:L)(n===!0?-1:1)}function N(t,n){B.value="Calendar",we(t,n)}function R(t,n){if(e.range===!1||!t){oe.value=null;return}const s=Object.assign({...d.value},t),C=n!==void 0?Object.assign({...d.value},n):s;oe.value={init:s,initHash:Ve(s),final:C,finalHash:Ve(C)},N(s.year,s.month)}function ce(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function be(t,n,s){return rt(t,n,s,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function v(t,n){const s=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(s.length===0)return w();const C=s[s.length-1],_=be(C.from!==void 0?C.from:C,t,n);return _.dateHash===null?w():_}function w(){let t,n;if(e.defaultYearMonth!==void 0){const s=e.defaultYearMonth.split("/");t=parseInt(s[0],10),n=parseInt(s[1],10)}else{const s=y.value!==void 0?y.value:h();t=s.year,n=s.month}return{year:t,month:n,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+U(n)+"/01"}}function T(t){let n=d.value.year,s=Number(d.value.month)+t;s===13?(s=1,n++):s===0&&(s=12,n--),we(n,s),X.value===!0&&Ge("month")}function L(t){const n=Number(d.value.year)+t;we(n,d.value.month),X.value===!0&&Ge("year")}function K(t){we(t,d.value.month),B.value=e.defaultView==="Years"?"Months":"Calendar",X.value===!0&&Ge("year")}function Ce(t){we(d.value.year,t),B.value="Calendar",X.value===!0&&Ge("month")}function Q(t,n){const s=ke.value[n];(s!==void 0&&s.includes(t.day)===!0?Mt:St)(t)}function le(t){return{year:t.year,month:t.month,day:t.day}}function we(t,n,s){if(re.value!==null&&t<=re.value.year&&(t=re.value.year,n<re.value.month&&(n=re.value.month)),se.value!==null&&t>=se.value.year&&(t=se.value.year,n>se.value.month&&(n=se.value.month)),s!==void 0){const{hour:_,minute:W,second:M,millisecond:j,timezoneOffset:ae,timeHash:lt}=s;Object.assign(d.value,{hour:_,minute:W,second:M,millisecond:j,timezoneOffset:ae,timeHash:lt})}const C=t+"/"+U(n)+"/01";C!==d.value.dateHash&&(Z.value=d.value.dateHash<C==(u.lang.rtl!==!0)?"left":"right",t!==d.value.year&&(z.value=Z.value),mt(()=>{_e.value=t-t%Ue-(t<0?Ue:0),Object.assign(d.value,{year:t,month:n,day:1,dateHash:C})}))}function st(t,n,s){const C=t!==null&&t.length===1&&e.multiple===!1?t[0]:t;b=C;const{reason:_,details:W}=Ot(n,s);l("update:modelValue",C,_,W)}function Ge(t){const n=ue.value[0]!==void 0&&ue.value[0].dateHash!==null?{...ue.value[0]}:{...d.value};mt(()=>{n.year=d.value.year,n.month=d.value.month;const s=e.calendar!=="persian"?new Date(n.year,n.month,0).getDate():ft(n.year,n.month);n.day=Math.min(Math.max(1,n.day),s);const C=et(n);b=C;const{details:_}=Ot("",n);l("update:modelValue",C,t,_)})}function Ot(t,n){return n.from!==void 0?{reason:`${t}-range`,details:{...le(n.target),from:le(n.from),to:le(n.to)}}:{reason:`${t}-day`,details:le(n)}}function et(t,n,s){return t.from!==void 0?{from:Oe.value(t.from,n,s),to:Oe.value(t.to,n,s)}:Oe.value(t,n,s)}function St(t){let n;if(e.multiple===!0)if(t.from!==void 0){const s=Ve(t.from),C=Ve(t.to),_=ue.value.filter(M=>M.dateHash<s||M.dateHash>C),W=fe.value.filter(({from:M,to:j})=>j.dateHash<s||M.dateHash>C);n=_.concat(W).concat(t).map(M=>et(M))}else{const s=ve.value.slice();s.push(et(t)),n=s}else n=et(t);st(n,"add",t)}function Mt(t){if(e.noUnset===!0)return;let n=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const s=et(t);t.from!==void 0?n=e.modelValue.filter(C=>C.from!==void 0?C.from!==s.from&&C.to!==s.to:!0):n=e.modelValue.filter(C=>C!==s),n.length===0&&(n=null)}st(n,"remove",t)}function Ft(t,n,s){const C=ue.value.concat(fe.value).map(_=>et(_,t,n)).filter(_=>_.from!==void 0?_.from.dateHash!==null&&_.to.dateHash!==null:_.dateHash!==null);l("update:modelValue",(e.multiple===!0?C:C[0])||null,s)}function qa(){if(e.minimal!==!0)return m("div",{class:"q-date__header "+f.value},[m("div",{class:"relative-position"},[m(ze,{name:"q-transition--fade"},()=>m("div",{key:"h-yr-"+Le.value,class:"q-date__header-subtitle q-date__header-link "+(B.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...c("vY",{onClick(){B.value="Years"},onKeyup(t){t.keyCode===13&&(B.value="Years")}})},[Le.value]))]),m("div",{class:"q-date__header-title relative-position flex no-wrap"},[m("div",{class:"relative-position col"},[m(ze,{name:"q-transition--fade"},()=>m("div",{key:"h-sub"+pe.value,class:"q-date__header-title-label q-date__header-link "+(B.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...c("vC",{onClick(){B.value="Calendar"},onKeyup(t){t.keyCode===13&&(B.value="Calendar")}})},[pe.value]))]),e.todayBtn===!0?m(ie,{class:"q-date__header-today self-start",icon:u.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:i.value,onClick:H}):null])])}function kt({label:t,type:n,key:s,dir:C,goTo:_,boundaries:W,cls:M}){return[m("div",{class:"row items-center q-date__arrow"},[m(ie,{round:!0,dense:!0,size:"sm",flat:!0,icon:ye.value[0],tabindex:i.value,disable:W.prev===!1,...c("go-#"+n,{onClick(){_(-1)}})})]),m("div",{class:"relative-position overflow-hidden flex flex-center"+M},[m(ze,{name:"q-transition--jump-"+C},()=>m("div",{key:s},[m(ie,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:i.value,...c("view#"+n,{onClick:()=>{B.value=n}})})]))]),m("div",{class:"row items-center q-date__arrow"},[m(ie,{round:!0,dense:!0,size:"sm",flat:!0,icon:ye.value[1],tabindex:i.value,disable:W.next===!1,...c("go+#"+n,{onClick(){_(1)}})})])]}const xa={Calendar:()=>[m("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[m("div",{class:"q-date__navigation row items-center no-wrap"},kt({label:I.value.months[d.value.month-1],type:"Months",key:d.value.month,dir:Z.value,goTo:T,boundaries:Re.value.month,cls:" col"}).concat(kt({label:d.value.year,type:"Years",key:d.value.year,dir:z.value,goTo:L,boundaries:Re.value.year,cls:""}))),m("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},je.value.map(t=>m("div",{class:"q-date__calendar-item"},[m("div",t)]))),m("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[m(ze,{name:"q-transition--slide-"+Z.value},()=>m("div",{key:me.value,class:"q-date__calendar-days fit"},p.value.map(t=>m("div",{class:t.classes},[t.in===!0?m(ie,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:i.value,...c("day#"+t.i,{onClick:()=>{Ia(t.i)},onMouseover:()=>{Va(t.i)}})},t.event!==!1?()=>m("div",{class:"q-date__event bg-"+t.event}):null):m("div",""+t.i)]))))])])],Months(){const t=d.value.year===y.value.year,n=C=>re.value!==null&&d.value.year===re.value.year&&re.value.month>C||se.value!==null&&d.value.year===se.value.year&&se.value.month<C,s=I.value.monthsShort.map((C,_)=>{const W=d.value.month===_+1;return m("div",{class:"q-date__months-item flex flex-center"},[m(ie,{class:t===!0&&y.value.month===_+1?"q-date__today":null,flat:W!==!0,label:C,unelevated:W,color:W===!0?k.value:null,textColor:W===!0?F.value:null,tabindex:i.value,disable:n(_+1),...c("month#"+_,{onClick:()=>{Ce(_+1)}})})])});return e.yearsInMonthView===!0&&s.unshift(m("div",{class:"row no-wrap full-width"},[kt({label:d.value.year,type:"Years",key:d.value.year,dir:z.value,goTo:L,boundaries:Re.value.year,cls:" col"})])),m("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},s)},Years(){const t=_e.value,n=t+Ue,s=[],C=_=>re.value!==null&&re.value.year>_||se.value!==null&&se.value.year<_;for(let _=t;_<=n;_++){const W=d.value.year===_;s.push(m("div",{class:"q-date__years-item flex flex-center"},[m(ie,{key:"yr"+_,class:y.value.year===_?"q-date__today":null,flat:!W,label:_,dense:!0,unelevated:W,color:W===!0?k.value:null,textColor:W===!0?F.value:null,tabindex:i.value,disable:C(_),...c("yr#"+_,{onClick:()=>{K(_)}})})]))}return m("div",{class:"q-date__view q-date__years flex flex-center"},[m("div",{class:"col-auto"},[m(ie,{round:!0,dense:!0,flat:!0,icon:ye.value[0],tabindex:i.value,disable:C(t),...c("y-",{onClick:()=>{_e.value-=Ue}})})]),m("div",{class:"q-date__years-content col self-stretch row items-center"},s),m("div",{class:"col-auto"},[m(ie,{round:!0,dense:!0,flat:!0,icon:ye.value[1],tabindex:i.value,disable:C(n),...c("y+",{onClick:()=>{_e.value+=Ue}})})])])}};function Ia(t){const n={...d.value,day:t};if(e.range===!1){Q(n,me.value);return}if(oe.value===null){const s=p.value.find(_=>_.fill!==!0&&_.i===t);if(e.noUnset!==!0&&s.range!==void 0){Mt({target:n,from:s.range.from,to:s.range.to});return}if(s.selected===!0){Mt(n);return}const C=Ve(n);oe.value={init:n,initHash:C,final:n,finalHash:C},l("rangeStart",le(n))}else{const s=oe.value.initHash,C=Ve(n),_=s<=C?{from:oe.value.init,to:n}:{from:n,to:oe.value.init};oe.value=null,St(s===C?n:{target:n,..._}),l("rangeEnd",{from:le(_.from),to:le(_.to)})}}function Va(t){if(oe.value!==null){const n={...d.value,day:t};Object.assign(oe.value,{final:n,finalHash:Ve(n)})}}return Object.assign(r,{setToday:H,setView:G,offsetCalendar:ee,setCalendarTo:N,setEditingRange:R}),()=>{const t=[m("div",{class:"q-date__content col relative-position"},[m(ze,{name:"q-transition--fade"},xa[B.value])])],n=Ze(a.default);return n!==void 0&&t.push(m("div",{class:"q-date__actions"},n)),e.name!==void 0&&e.disable!==!0&&x(t,"push"),m("div",{class:O.value,...S.value},[qa(),m("div",{ref:$,class:"q-date__main col column",tabindex:-1},t)])}}});const no={..._t,...Ga,...Yt,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},oo=["update:modelValue"];function lo(e,a){const{props:l,slots:r,emit:u,proxy:o}=He(),{$q:c}=o,i=Ct(l,c),f=Y(null),{refocusTargetEl:D,refocusTarget:h}=Sn(l,f),b=Ja(l,Mn),q=g(()=>l.val!==void 0&&Array.isArray(l.modelValue)),x=g(()=>{const O=tt(l.val);return q.value===!0?l.modelValue.findIndex(k=>tt(k)===O):-1}),$=g(()=>q.value===!0?x.value>-1:tt(l.modelValue)===tt(l.trueValue)),P=g(()=>q.value===!0?x.value===-1:tt(l.modelValue)===tt(l.falseValue)),I=g(()=>$.value===!1&&P.value===!1),E=g(()=>l.disable===!0?-1:l.tabindex||0),A=g(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(l.disable===!0?" disabled":"")+(i.value===!0?` q-${e}--dark`:"")+(l.dense===!0?` q-${e}--dense`:"")+(l.leftLabel===!0?" reverse":"")),y=g(()=>{const O=$.value===!0?"truthy":P.value===!0?"falsy":"indet",k=l.color!==void 0&&(l.keepColor===!0||(e==="toggle"?$.value===!0:P.value!==!0))?` text-${l.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${O}${k}`}),d=g(()=>{const O={type:"checkbox"};return l.name!==void 0&&Object.assign(O,{".checked":$.value,"^checked":$.value===!0?"checked":void 0,name:l.name,value:q.value===!0?l.val:l.trueValue}),O}),B=Ht(d),te=g(()=>{const O={tabindex:E.value,role:e==="toggle"?"switch":"checkbox","aria-label":l.label,"aria-checked":I.value===!0?"mixed":$.value===!0?"true":"false"};return l.disable===!0&&(O["aria-disabled"]="true"),O});function Z(O){O!==void 0&&(We(O),h(O)),l.disable!==!0&&u("update:modelValue",z(),O)}function z(){if(q.value===!0){if($.value===!0){const O=l.modelValue.slice();return O.splice(x.value,1),O}return l.modelValue.concat([l.val])}if($.value===!0){if(l.toggleOrder!=="ft"||l.toggleIndeterminate===!1)return l.falseValue}else if(P.value===!0){if(l.toggleOrder==="ft"||l.toggleIndeterminate===!1)return l.trueValue}else return l.toggleOrder!=="ft"?l.trueValue:l.falseValue;return l.indeterminateValue}function de(O){(O.keyCode===13||O.keyCode===32)&&We(O)}function _e(O){(O.keyCode===13||O.keyCode===32)&&Z(O)}const oe=a($,I);return Object.assign(o,{toggle:Z}),()=>{const O=oe();l.disable!==!0&&B(O,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const k=[m("div",{class:y.value,style:b.value,"aria-hidden":"true"},O)];D.value!==null&&k.push(D.value);const F=l.label!==void 0?ra(r.default,[l.label]):Ze(r.default);return F!==void 0&&k.push(m("div",{class:`q-${e}__label q-anchor--skip`},F)),m("div",{ref:f,class:A.value,...te.value,onClick:Z,onKeydown:de,onKeyup:_e},k)}}const uo=m("div",{key:"svg",class:"q-checkbox__bg absolute"},[m("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[m("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),m("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var oa=Ee({name:"QCheckbox",props:no,emits:oo,setup(e){function a(l,r){const u=g(()=>(l.value===!0?e.checkedIcon:r.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>u.value!==null?[m("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[m($e,{class:"q-checkbox__icon",name:u.value})])]:[uo]}return lo("checkbox",a)}});const ro=pt({name:"ImageChoice",props:{isShow:{type:Boolean,default:!1}},setup(e,a){const l=en(()=>e.isShow),r=Dt(),u=xn(),{defaultCategory:o,categoryNames:c}=ht(u),i=Y("");i.value=o.value.name;const{imagesList:f,imagesByCategory:D}=ht(r),h=Y(0),b=()=>{a.emit("closeChoice")};return{showChoice:l,imagesByCategory:D,choicedId:h,category:i,categoryNames:c,closeChoice:b,choice:x=>{a.emit("choice",x),b()}}}}),io={class:"q-pa-md q-gutter-sm"},so={class:"q-ma-sm q-pa-sm item",dense:"",clickable:""},co={class:"flex justify-between items-center"},vo={class:"flex justify-center items-center q-ma-md"};function fo(e,a,l,r,u,o){return ot(),it("div",io,[V(da,{modelValue:e.showChoice,"onUpdate:modelValue":a[1]||(a[1]=c=>e.showChoice=c),persistent:""},{default:J(()=>[V(fa,{style:{width:"400px"}},{default:J(()=>[V(bn,null,{default:J(()=>[V(Bt,{style:{width:"85%",padding:"0"},"bottom-slots":"",modelValue:e.category,"onUpdate:modelValue":a[0]||(a[0]=c=>e.category=c),options:e.categoryNames,label:"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F",outlined:""},null,8,["modelValue","options"]),V(qn,{style:{height:"300px"},class:"q-px-md",items:e.imagesByCategory(e.category),separator:""},{default:J(({item:c})=>[he("div",so,[he("div",co,[he("div",null,sa(c.name),1),V(ie,{size:"sm",round:"",color:"primary",label:">",onClick:i=>e.choice(c.id)},null,8,["onClick"])])])]),_:1},8,["items"])]),_:1}),he("div",vo,[V(ie,{label:"\u041E\u0442\u043C\u0435\u043D\u0430",color:"primary",onClick:e.closeChoice},null,8,["onClick"])])]),_:1})]),_:1},8,["modelValue"])])}var mo=wt(ro,[["render",fo],["__scopeId","data-v-48172c60"]]);const ho=e=>{const a=e.getFullYear(),l=e.getMonth()+1,r=e.getDate(),u=a.toString();let o=l.toString(),c=r.toString();return l<10&&(o="0"+o),r<10&&(c="0"+c),`${u}/${o}/${c}`};const go=pt({name:"ProgramItems",components:{ConfirmDialog:kn,ImageChoice:mo},props:{id:{type:Number,default:0,required:!0}},setup(e){const a=ka(),l=Dt(),r=ma(),u=Y(),o=Y(!1),c=Y(!1),i=Y(!1),f=Y(0),D=()=>{u.value=a.getItemsByProgramId(e.id)};D();const h=async E=>{const A=ho(new Date),y=l.getImageById(E),d={program_id:e.id,image_id:E,imageContent:y==null?void 0:y.content,startDate:A,endDate:A,active:"true"};await a.insert({record:d}),D(),await r.updateProgramForAllStatios(e.id)},b=E=>{const A=u.value.find(y=>y.id===E);A.alwaysBool&&(A.activeBool=!0,i.value=!0),A.isModified=!0},q=async E=>{const A=u.value.find(y=>y.id===E);await a.update({record:{id:A.id,program_id:A.program_id,image_id:A.image_id,imageContent:A.imageContent,startDate:A.startDate,endDate:A.endDate,active:A.activeBool?"true":"false",always:A.alwaysBool?"true":"false"}}),A.isModified=!1,await r.updateProgramForAllStatios(e.id)},x=E=>{f.value=E,o.value=!0},$=()=>{o.value=!1,f.value=0};return{items:u,isShowChoice:c,isShowDialog:o,choice:h,onChange:b,saveItem:q,deleteItem:async()=>{await a.removeItem(f.value),await r.updateProgramForAllStatios(e.id),$(),D()},closeDialog:$,confirmDelete:x,saveAllModified:async()=>{const E=u.value.filter(A=>A.isModified===!0);for(const A of E)await q(A.id)}}}}),yo={class:"row items-center justify-end"},bo={class:"row items-center justify-end"},po={class:"q-pa-md"},wo={class:"q-pa-md"},_o={class:"flex justify-end item-control"},Co={class:"q-gutter-xs"};function Do(e,a,l,r,u,o){const c=gt("ImageChoice"),i=gt("ConfirmDialog");return ot(),it(Lt,null,[he("section",null,[V(ie,{label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",color:"primary",onClick:a[0]||(a[0]=f=>e.isShowChoice=!0)}),V(ie,{class:"q-ml-md",label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0432\u0441\u0435",color:"primary",onClick:e.saveAllModified},null,8,["onClick"]),(ot(!0),it(Lt,null,tn(e.items,f=>(ot(),it("div",{key:f.id},[he("div",{class:an(["flex justify-between items-center q-my-md q-pl-sm item",{modified:f.isModified}])},[V(_n,{src:f.imageContent,"spinner-color":"white",style:{height:"70px","max-width":"70px"}},null,8,["src"]),nn(" "+sa(f.imageName)+" ",1),V(nt,{filled:"",modelValue:f.startDate,"onUpdate:modelValue":D=>f.startDate=D,mask:"date",rules:["date"],label:"\u0414\u0430\u0442\u0430 \u0441\u0442\u0430\u0440\u0442\u0430",class:"q-pt-sm",disable:f.alwaysBool},{append:J(()=>[V($e,{name:"event",class:"cursor-pointer"},{default:J(()=>[V(bt,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:J(()=>[V(na,{modelValue:f.startDate,"onUpdate:modelValue":[D=>f.startDate=D,D=>e.onChange(f.id)]},{default:J(()=>[he("div",yo,[Ke(V(ie,{label:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C",color:"primary",flat:""},null,512),[[yt]])])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","disable"]),V(nt,{filled:"",modelValue:f.endDate,"onUpdate:modelValue":D=>f.endDate=D,mask:"date",rules:["date"],label:"\u0414\u0430\u0442\u0430 \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F",class:"q-pt-sm",disable:f.alwaysBool},{append:J(()=>[V($e,{name:"event",class:"cursor-pointer"},{default:J(()=>[V(bt,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:J(()=>[V(na,{modelValue:f.endDate,"onUpdate:modelValue":[D=>f.endDate=D,D=>e.onChange(f.id)]},{default:J(()=>[he("div",bo,[Ke(V(ie,{label:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C",color:"primary",flat:""},null,512),[[yt]])])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","disable"]),he("div",po,[V(oa,{modelValue:f.activeBool,"onUpdate:modelValue":[D=>f.activeBool=D,D=>e.onChange(f.id)],label:"\u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u044C",disable:f.alwaysBool},null,8,["modelValue","onUpdate:modelValue","disable"])]),he("div",wo,[V(oa,{modelValue:f.alwaysBool,"onUpdate:modelValue":[D=>f.alwaysBool=D,D=>e.onChange(f.id)],label:"\u0432\u0441\u0435\u0433\u0434\u0430"},null,8,["modelValue","onUpdate:modelValue"])]),he("div",_o,[he("div",Co,[V(ie,{size:"12px",flat:"",dense:"",round:"",icon:"save",onClick:D=>e.saveItem(f.id)},null,8,["onClick"]),V(ie,{size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:D=>e.confirmDelete(f.id)},null,8,["onClick"])])])],2)]))),128))]),V(c,{isShow:e.isShowChoice,onCloseChoice:a[1]||(a[1]=f=>e.isShowChoice=!1),onChoice:e.choice},null,8,["isShow","onChoice"]),V(i,{isShow:e.isShowDialog,message:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u0443\u044E \u0437\u0430\u043F\u0438\u0441\u044C?",onOk:e.deleteItem,onCancel:e.closeDialog},null,8,["isShow","onOk","onCancel"])],64)}var So=wt(go,[["render",Do],["__scopeId","data-v-2ff49669"]]);const Mo=pt({name:"ProgramEdit",components:{ProgramItems:So},setup(){const e=on(),a=Y(0);a.value=e.query.id?parseInt(e.query.id.toString()):0;const l=wn();Dt().getImages(),ka().getItems();const o=Cn(),c=Dn(),i=va(),f=ma(),{spinnersNames:D}=ht(o),{audioNames:h}=ht(c),b=Y(),q=Y(""),x=Y(""),$=Y("programs");if(a.value===0)b.value={...l.emptyProgram};else{b.value={...l.getProgramById(a.value)};const I=b.value.spinner_id?b.value.spinner_id:null;if(I){const A=o.getSpinnerById(I);x.value=A?A.name:""}const E=b.value.audio_id?b.value.audio_id:null;if(E){const A=c.getAudioById(E);q.value=A?A.name:""}}return{program:b,audioName:q,spinnerName:x,audioNames:h,spinnersNames:D,tab:$,id:a,onSubmit:async()=>{let I=!1;if(b.value.name===""&&(i.error('\u041F\u043E\u043B\u0435 "\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435" \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043E'),I=!0),b.value.startTime===""&&(b.value.startTime="00:00"),b.value.endTime===""&&(b.value.endTime="00:00"),b.value.imageShowTime===""&&(b.value.imageShowTime="0"),x.value!==""){const E=o.getSpinnerByName(x.value);b.value.spinner_id=E?E.id:null}else i.error('\u041F\u043E\u043B\u0435 "\u0421\u043F\u0438\u043D\u043D\u0435\u0440" \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043E'),I=!0;if(q.value!==""){const E=c.getAudioByName(q.value);b.value.audio_id=E?E.id:null}else i.error('\u041F\u043E\u043B\u0435 "\u0410\u0443\u0434\u0438\u043E" \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043E'),I=!0;if(!I)if(a.value===0){const E=await l.insert({record:b.value});E&&!E.error&&(a.value=E.result.id)}else await l.update({record:b.value}),await f.updateProgramForAllStatios(b.value.id)}}}}),ko={class:"flex justify-center q-pa-md full-width full-height"},qo={class:"full-width q-mb-md"},xo={class:"row items-center justify-end"},Io={class:"row items-center justify-end"};function Vo(e,a,l,r,u,o){const c=gt("ProgramItems");return ot(),it("div",ko,[V(pn,{class:"full-width full-height q-mx-lg",onSubmit:un(e.onSubmit,["prevent","stop"])},{default:J(()=>[V(fa,{class:"full-height"},{default:J(()=>[V(An,{modelValue:e.tab,"onUpdate:modelValue":a[0]||(a[0]=i=>e.tab=i),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:J(()=>[V(Qt,{name:"programs",label:"\u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B"}),Ke(V(Qt,{name:"items",label:"\u0441\u043E\u0441\u0442\u0430\u0432"},null,512),[[ln,e.id!==0]])]),_:1},8,["modelValue"]),V(fn),V(eo,{modelValue:e.tab,"onUpdate:modelValue":a[9]||(a[9]=i=>e.tab=i),animated:""},{default:J(()=>[V(ea,{name:"programs"},{default:J(()=>[he("div",qo,[V(ie,{label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",color:"primary",type:"submit"})]),he("div",null,[V(nt,{class:"q-mb-md",outlined:"",autofocus:"",modelValue:e.program.name,"onUpdate:modelValue":a[1]||(a[1]=i=>e.program.name=i),label:"\u043D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435 *"},null,8,["modelValue"]),V(nt,{outlined:"",modelValue:e.program.startTime,"onUpdate:modelValue":a[3]||(a[3]=i=>e.program.startTime=i),mask:"time",rules:["time"],label:"\u0432\u0440\u0435\u043C\u044F \u0441\u0442\u0430\u0440\u0442\u0430 *"},{append:J(()=>[V($e,{name:"access_time",class:"cursor-pointer"},{default:J(()=>[V(bt,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:J(()=>[V(Jt,{modelValue:e.program.startTime,"onUpdate:modelValue":a[2]||(a[2]=i=>e.program.startTime=i)},{default:J(()=>[he("div",xo,[Ke(V(ie,{label:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",color:"primary",flat:""},null,512),[[yt]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),V(nt,{outlined:"",modelValue:e.program.endTime,"onUpdate:modelValue":a[5]||(a[5]=i=>e.program.endTime=i),mask:"time",rules:["time"],label:"\u0432\u0440\u0435\u043C\u044F \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F *"},{append:J(()=>[V($e,{name:"access_time",class:"cursor-pointer"},{default:J(()=>[V(bt,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:J(()=>[V(Jt,{modelValue:e.program.endTime,"onUpdate:modelValue":a[4]||(a[4]=i=>e.program.endTime=i)},{default:J(()=>[he("div",Io,[Ke(V(ie,{label:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",color:"primary",flat:""},null,512),[[yt]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),V(nt,{class:"q-mb-md",outlined:"",modelValue:e.program.imageShowTime,"onUpdate:modelValue":a[6]||(a[6]=i=>e.program.imageShowTime=i),mask:"#####",label:"\u0432\u0440\u0435\u043C\u044F \u043F\u043E\u043A\u0430\u0437\u0430, \u0441\u0435\u043A *"},null,8,["modelValue"]),V(Bt,{"bottom-slots":"",modelValue:e.spinnerName,"onUpdate:modelValue":a[7]||(a[7]=i=>e.spinnerName=i),options:e.spinnersNames,label:"\u0421\u043F\u0438\u043D\u043D\u0435\u0440",outlined:""},null,8,["modelValue","options"]),V(Bt,{"bottom-slots":"",modelValue:e.audioName,"onUpdate:modelValue":a[8]||(a[8]=i=>e.audioName=i),options:e.audioNames,label:"\u0410\u0443\u0434\u0438\u043E",outlined:""},null,8,["modelValue","options"])])]),_:1}),V(ea,{name:"items"},{default:J(()=>[V(c,{id:e.id},null,8,["id"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["onSubmit"])])}var To=wt(Mo,[["render",Vo]]);const $o=pt({name:"ProgramEditPage",components:{ProgramEdit:To},setup(){return{}}});function Po(e,a,l,r,u,o){const c=gt("ProgramEdit");return ot(),rn(Ta,{class:"q-pa-md"},{default:J(()=>[V(c)]),_:1})}var cl=wt($o,[["render",Po]]);export{cl as default};
