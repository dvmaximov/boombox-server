import{h as E,c as H,aL as J,aM as X,r as h,d as g,aP as R,Q as Y,z as Z,e as x,j as uu,a3 as P,A,aj as eu,K as L,w as lu,_ as U,C as i,N as d,F as s,E as k,ak as ou,M as e,L as C,B as Q,R as D,O as su,I as S,G as $,ay as nu,az as au}from"./index.e9511dda.js";import{u as j}from"./spinners.store.ff587ad8.js";import{Q as V}from"./QSeparator.9fd85005.js";import{C as tu}from"./ConfirmDialog.50ad11f3.js";import{Q as iu,a as M}from"./QCard.282c8eae.js";import{a as du,c as ru,Q as I}from"./QInput.87e78118.js";import{o as cu,u as mu,b as N,a as O}from"./QCheckbox.73681b91.js";import{u as vu,a as pu}from"./use-dark.45cd38ee.js";import{Q as fu}from"./QCardActions.eb48c031.js";import{Q as bu}from"./QForm.9e1a52bd.js";import{Q as Eu}from"./QDialog.454cd123.js";import{a as hu}from"./socket.store.e9010e6c.js";import"./message.store.17d3f4db.js";import"./use-quasar.f733b52f.js";import"./focus-manager.05708ea9.js";import"./QItem.e29053af.js";import"./position-engine.9f26598c.js";import"./format.c3526244.js";import"./use-virtual-scroll.b2d4ea7f.js";const Su=E("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[E("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),E("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var B=H({name:"QRadio",props:{...vu,...J,...du,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(u,{slots:l,emit:c}){const{proxy:m}=uu(),p=pu(u,m.$q),n=X(u,cu),o=h(null),{refocusTargetEl:v,refocusTarget:a}=mu(u,o),r=g(()=>R(u.modelValue)===R(u.val)),q=g(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(u.disable===!0?" disabled":"")+(p.value===!0?" q-radio--dark":"")+(u.dense===!0?" q-radio--dense":"")+(u.leftLabel===!0?" reverse":"")),y=g(()=>{const t=u.color!==void 0&&(u.keepColor===!0||r.value===!0)?` text-${u.color}`:"";return`q-radio__inner relative-position q-radio__inner--${r.value===!0?"truthy":"falsy"}${t}`}),b=g(()=>(r.value===!0?u.checkedIcon:u.uncheckedIcon)||null),f=g(()=>u.disable===!0?-1:u.tabindex||0),T=g(()=>{const t={type:"radio"};return u.name!==void 0&&Object.assign(t,{".checked":r.value===!0,"^checked":r.value===!0?"checked":void 0,name:u.name,value:u.val}),t}),K=ru(T);function w(t){t!==void 0&&(P(t),a(t)),u.disable!==!0&&r.value!==!0&&c("update:modelValue",u.val,t)}function G(t){(t.keyCode===13||t.keyCode===32)&&P(t)}function W(t){(t.keyCode===13||t.keyCode===32)&&w(t)}return Object.assign(m,{set:w}),()=>{const t=b.value!==null?[E("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[E(Y,{class:"q-radio__icon",name:b.value})])]:[Su];u.disable!==!0&&K(t,"unshift"," q-radio__native q-ma-none q-pa-none");const F=[E("div",{class:y.value,style:n.value,"aria-hidden":"true"},t)];v.value!==null&&F.push(v.value);const z=u.label!==void 0?Z(l.default,[u.label]):x(l.default);return z!==void 0&&F.push(E("div",{class:"q-radio__label q-anchor--skip"},z)),E("div",{ref:o,class:q.value,tabindex:f.value,role:"radio","aria-label":u.label,"aria-checked":r.value===!0?"true":"false","aria-disabled":u.disable===!0?"true":void 0,onClick:w,onKeydown:G,onKeyup:W},F)}}});const _u=A({name:"SpinnerEdit",props:{isShow:{type:Boolean,default:!1},spinnerId:{type:Number,default:0}},setup(u,l){const c=j(),m=hu(),p=eu(()=>u.isShow),n=h(),o=h(!0),v=h(!0),{emptySpinner:a}=L(c),r=["red","blue"],q=f=>{f===0?n.value={...a.value}:(n.value={...c.getSpinnerById(u.spinnerId)},n.value.enabled1===1?o.value=!0:o.value=!1,n.value.enabled2===1?v.value=!0:v.value=!1)};q(u.spinnerId),lu(()=>u.spinnerId,f=>{q(f)});const y=async()=>{n.value.freq1>10&&(n.value.freq1=10),n.value.freq1<=0&&(n.value.freq1=1),n.value.freq2>10&&(n.value.freq2=10),n.value.freq2<=0&&(n.value.freq2=1),o.value?n.value.enabled1=1:n.value.enabled1=0,v.value?n.value.enabled2=1:n.value.enabled2=0,u.spinnerId===0?await c.insert({record:n.value}):(await c.update({record:n.value}),await m.updateSpinnerForAllStatios(n.value.id)),b()},b=()=>{l.emit("closeEdit")};return{showEditor:p,spinner:n,colors:r,enabled1Bool:o,enabled2Bool:v,onSubmit:y,closeEdit:b}}}),qu={class:"q-pa-md q-gutter-sm"},gu=e("div",{class:"text-h6"},"\u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0433\u043E \u0441\u043F\u0438\u043D\u043D\u0435\u0440\u0430",-1),ku={class:"q-pa-md"},Du=e("div",{class:"q-px-sm"},"\u041D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043F\u0435\u0440\u0432\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430",-1),yu={class:"q-gutter-sm"},Cu={class:"q-pa-md"},Bu=e("div",{class:"q-px-sm"},"\u041D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0432\u0442\u043E\u0440\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430",-1),Vu={class:"q-gutter-sm"};function wu(u,l,c,m,p,n){return i(),d("div",qu,[s(Eu,{modelValue:u.showEditor,"onUpdate:modelValue":l[11]||(l[11]=o=>u.showEditor=o),persistent:""},{default:k(()=>[s(iu,null,{default:k(()=>[s(M,null,{default:k(()=>[gu]),_:1}),s(V),s(bu,{class:"full-width",onSubmit:ou(u.onSubmit,["prevent","stop"])},{default:k(()=>[s(M,{style:{"max-height":"60vh"},class:"scroll"},{default:k(()=>[s(I,{class:"col-6 q-mb-md",outlined:"",autofocus:"",modelValue:u.spinner.name,"onUpdate:modelValue":l[0]||(l[0]=o=>u.spinner.name=o),label:"\u043D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435 *"},null,8,["modelValue"]),e("div",ku,[s(N,{modelValue:u.enabled1Bool,"onUpdate:modelValue":l[1]||(l[1]=o=>u.enabled1Bool=o),label:"\u0432\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u0435 \u043F\u0435\u0440\u0432\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430"},null,8,["modelValue"])]),s(O,{disable:!u.enabled1Bool,outlined:"",class:"col-6 q-mb-md",modelValue:u.spinner.color1,"onUpdate:modelValue":l[2]||(l[2]=o=>u.spinner.color1=o),options:u.colors,label:"\u043F\u0435\u0440\u0432\u044B\u0439 \u0446\u0432\u0435\u0442 *"},null,8,["disable","modelValue","options"]),s(I,{disable:!u.enabled1Bool,class:"col-6 q-mb-md",outlined:"",modelValue:u.spinner.freq1,"onUpdate:modelValue":l[3]||(l[3]=o=>u.spinner.freq1=o),label:"\u0432\u0440\u0435\u043C\u044F \u043F\u0435\u0440\u0432\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430, \u0413\u0446 *",mask:"#.##"},null,8,["disable","modelValue"]),Du,e("div",yu,[s(B,{disable:!u.enabled1Bool,modelValue:u.spinner.spin1,"onUpdate:modelValue":l[4]||(l[4]=o=>u.spinner.spin1=o),val:0,label:"\u043F\u043E \u0447\u0430\u0441\u043E\u0432\u043E\u0439"},null,8,["disable","modelValue"]),s(B,{disable:!u.enabled1Bool,modelValue:u.spinner.spin1,"onUpdate:modelValue":l[5]||(l[5]=o=>u.spinner.spin1=o),val:1,label:"\u043F\u0440\u043E\u0442\u0438\u0432 \u0447\u0430\u0441\u043E\u0432\u043E\u0439"},null,8,["disable","modelValue"])]),e("div",Cu,[s(N,{modelValue:u.enabled2Bool,"onUpdate:modelValue":l[6]||(l[6]=o=>u.enabled2Bool=o),label:"\u0432\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u0435 \u0432\u0442\u043E\u0440\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430"},null,8,["modelValue"])]),s(O,{disable:!u.enabled2Bool,outlined:"",class:"col-6 q-mb-md",modelValue:u.spinner.color2,"onUpdate:modelValue":l[7]||(l[7]=o=>u.spinner.color2=o),options:u.colors,label:"\u0432\u0442\u043E\u0440\u043E\u0439 \u0446\u0432\u0435\u0442 *"},null,8,["disable","modelValue","options"]),s(I,{disable:!u.enabled2Bool,class:"col-6 q-mb-md",outlined:"",modelValue:u.spinner.freq2,"onUpdate:modelValue":l[8]||(l[8]=o=>u.spinner.freq2=o),label:"\u0432\u0440\u0435\u043C\u044F \u0432\u0442\u043E\u0440\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430, \u0413\u0446 *",mask:"#.##"},null,8,["disable","modelValue"]),Bu,e("div",Vu,[s(B,{disable:!u.enabled2Bool,modelValue:u.spinner.spin2,"onUpdate:modelValue":l[9]||(l[9]=o=>u.spinner.spin2=o),val:0,label:"\u043F\u043E \u0447\u0430\u0441\u043E\u0432\u043E\u0439"},null,8,["disable","modelValue"]),s(B,{disable:!u.enabled2Bool,modelValue:u.spinner.spin2,"onUpdate:modelValue":l[10]||(l[10]=o=>u.spinner.spin2=o),val:1,label:"\u043F\u0440\u043E\u0442\u0438\u0432 \u0447\u0430\u0441\u043E\u0432\u043E\u0439"},null,8,["disable","modelValue"])])]),_:1}),s(V),s(fu,{align:"right"},{default:k(()=>[s(C,{flat:"",label:"\u041E\u0442\u043C\u0435\u043D\u0430",color:"primary",onClick:u.closeEdit},null,8,["onClick"]),s(C,{flat:"",label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",color:"primary",type:"submit"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"])])}var Fu=U(_u,[["render",wu]]);const $u=A({name:"SpinnerList",components:{ConfirmDialog:tu,SpinnerEdit:Fu},setup(){const u=h(!1),l=h(!1),c=j(),m=h(0),p=h(0),{isEmpty:n,spinnerList:o}=L(c),v=f=>{m.value=f,u.value=!0},a=()=>{u.value=!1,m.value=0},r=f=>{p.value=f,b()},q=async()=>{await c.removeSpinner(m.value),a()},y=()=>{l.value=!1,p.value=0},b=()=>{l.value=!0};return{spinnerList:o,isShowDialog:u,editId:p,isShowEditor:l,isEmpty:n,deleteSpinner:q,confirmDelete:v,closeDialog:a,closeEditor:y,openEditor:b,editSpinner:r}}}),_=u=>(nu("data-v-3484cca9"),u=u(),au(),u),Iu={class:"flex justify-center q-pa-sm q-gutter-md"},Qu={class:"program-list"},Au={key:0},Lu={key:1,class:"flex justify-center program-list"},Uu=_(()=>e("div",{class:"full-width text-weight-bold text-h6 q-mb-lg"}," \u0421\u043F\u0438\u0441\u043E\u043A \u0441\u043F\u0438\u043D\u043D\u0435\u0440\u043E\u0432 ",-1)),ju={class:"item-name"},zu={class:"q-mt-sm"},Ru={class:"item-params"},Pu={key:0},Mu=_(()=>e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u041F\u0435\u0440\u0432\u044B\u0439 \u0446\u0432\u0435\u0442")])],-1)),Nu=_(()=>e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u041D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043F\u0435\u0440\u0432\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430")])],-1)),Ou=_(()=>e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u0412\u0440\u0435\u043C\u044F \u043F\u0435\u0440\u0432\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430")])],-1)),Tu={key:2},Ku=_(()=>e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u0412\u0442\u043E\u0440\u043E\u0439 \u0446\u0432\u0435\u0442")])],-1)),Gu=_(()=>e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u041D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0432\u0442\u043E\u0440\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430")])],-1)),Wu=_(()=>e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u0412\u0440\u0435\u043C\u044F \u0432\u0442\u043E\u0440\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430")])],-1)),Hu={class:"q-pl-sm item-values"},Ju={lines:"1"},Xu={lines:"1"},Yu={lines:"1"},Zu={key:1,class:"full-width",style:{"margin-top":"20px"}},xu={lines:"1"},ue={lines:"1"},ee={lines:"1"},le={class:"flex justify-end item-control"},oe={class:"q-gutter-xs"};function se(u,l,c,m,p,n){const o=Q("SpinnerEdit"),v=Q("ConfirmDialog");return i(),d(D,null,[e("section",Iu,[e("div",Qu,[s(C,{label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",color:"primary",onClick:l[0]||(l[0]=a=>u.openEditor(0))})]),u.isEmpty?(i(),d("div",Au,"\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u043F\u0438\u043D\u043D\u0435\u0440\u043E\u0432 \u043F\u0443\u0441\u0442")):(i(),d("div",Lu,[Uu,(i(!0),d(D,null,su(u.spinnerList,a=>(i(),d("div",{class:"full-width flex justify-between q-pa-md item",key:a.id},[e("div",ju,[e("div",zu,S(a.name),1)]),e("div",Ru,[a.enabled1===0?(i(),d("div",Pu,"\u041F\u0435\u0440\u0432\u044B\u0439 \u0446\u0432\u0435\u0442 \u0432\u044B\u043A\u043B\u044E\u0447\u0435\u043D")):(i(),d(D,{key:1},[Mu,Nu,Ou],64)),s(V),a.enabled2===0?(i(),d("div",Tu,"\u0412\u0442\u043E\u0440\u043E\u0439 \u0446\u0432\u0435\u0442 \u0432\u044B\u043A\u043B\u044E\u0447\u0435\u043D")):(i(),d(D,{key:3},[Ku,Gu,Wu],64))]),e("div",Hu,[a.enabled1===1?(i(),d(D,{key:0},[e("div",null,[e("div",Ju,[e("span",null,S(a.color1),1)])]),e("div",null,[e("div",Xu,[e("span",null,S(a.spin1==0?"\u041F\u043E \u0447\u0430\u0441\u043E\u0432\u043E\u0439":"\u041F\u0440\u043E\u0442\u0438\u0432 \u0447\u0430\u0441\u043E\u0432\u043E\u0439"),1)])]),e("div",null,[e("div",Yu,[e("span",null,S(a.freq1),1)])])],64)):$("",!0),a.enabled1===0?(i(),d("div",Zu)):$("",!0),s(V),a.enabled2===1?(i(),d(D,{key:2},[e("div",null,[e("div",xu,[e("span",null,S(a.color2),1)])]),e("div",null,[e("div",ue,[e("span",null,S(a.spin2==0?"\u041F\u043E \u0447\u0430\u0441\u043E\u0432\u043E\u0439":"\u041F\u0440\u043E\u0442\u0438\u0432 \u0447\u0430\u0441\u043E\u0432\u043E\u0439"),1)])]),e("div",null,[e("div",ee,[e("span",null,S(a.freq2),1)])])],64)):$("",!0)]),e("div",le,[e("div",oe,[s(C,{size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:r=>u.confirmDelete(a.id)},null,8,["onClick"]),s(C,{size:"12px",flat:"",dense:"",round:"",icon:"edit",onClick:r=>u.editSpinner(a.id)},null,8,["onClick"])])])]))),128))]))]),s(o,{isShow:u.isShowEditor,onCloseEdit:u.closeEditor,spinnerId:u.editId},null,8,["isShow","onCloseEdit","spinnerId"]),s(v,{isShow:u.isShowDialog,onOk:u.deleteSpinner,onCancel:u.closeDialog,description:"\u0415\u0441\u043B\u0438 \u0441\u043F\u0438\u043D\u043D\u0435\u0440 \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u043A\u0430\u043A\u0438\u0445-\u043B\u0438\u0431\u043E \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430\u0445, \u043E\u043D \u043D\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043B\u0435\u043D!",message:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0439 \u0441\u043F\u0438\u043D\u043D\u0435\u0440?"},null,8,["isShow","onOk","onCancel"])],64)}var ne=U($u,[["render",se],["__scopeId","data-v-3484cca9"]]);const ae=A({name:"SpinnerPage",components:{SpinnerList:ne},setup(){const u=j(),{isEmpty:l}=L(u);return{isEmpty:l}}}),te={class:"q-ma-md"};function ie(u,l,c,m,p,n){const o=Q("SpinnerList");return i(),d("section",te,[s(o)])}var Ve=U(ae,[["render",ie]]);export{Ve as default};
