import{h as p,c as W,aL as x,aM as G,r as q,d as S,aP as j,Q as H,z as J,e as X,j as Y,a3 as U,A as $,aj as Z,K as I,w as uu,_ as B,C as E,N as b,F as o,E as _,ak as eu,M as e,L as D,B as V,R as A,O as nu,I as f,ay as lu,az as ou}from"./index.1a710307.js";import{u as Q}from"./spinners.store.cebe2105.js";import{C as su}from"./ConfirmDialog.70de45c7.js";import{Q as tu,a as z}from"./QCard.9828f484.js";import{Q as R}from"./QSeparator.78a828f1.js";import{a as au,c as iu,Q as F}from"./QInput.f4bd6e76.js";import{o as ru,u as du,a as P}from"./option-sizes.edb4db05.js";import{u as cu,a as mu}from"./use-dark.e1857b32.js";import{Q as pu}from"./QCardActions.e85abf70.js";import{Q as vu}from"./QForm.0009fa54.js";import{Q as fu}from"./QDialog.df7d4b78.js";import{a as Eu}from"./socket.store.249e41f4.js";import"./message.store.05995818.js";import"./use-quasar.3c96f1d7.js";import"./focus-manager.05708ea9.js";import"./QItem.6e849287.js";import"./position-engine.2cf587f5.js";import"./format.80c443ea.js";import"./use-virtual-scroll.c152b48a.js";const bu=p("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[p("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),p("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var k=W({name:"QRadio",props:{...cu,...x,...au,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(u,{slots:n,emit:r}){const{proxy:d}=Y(),c=mu(u,d.$q),s=G(u,ru),l=q(null),{refocusTargetEl:m,refocusTarget:a}=du(u,l),i=S(()=>j(u.modelValue)===j(u.val)),h=S(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(u.disable===!0?" disabled":"")+(c.value===!0?" q-radio--dark":"")+(u.dense===!0?" q-radio--dense":"")+(u.leftLabel===!0?" reverse":"")),v=S(()=>{const t=u.color!==void 0&&(u.keepColor===!0||i.value===!0)?` text-${u.color}`:"";return`q-radio__inner relative-position q-radio__inner--${i.value===!0?"truthy":"falsy"}${t}`}),g=S(()=>(i.value===!0?u.checkedIcon:u.uncheckedIcon)||null),C=S(()=>u.disable===!0?-1:u.tabindex||0),N=S(()=>{const t={type:"radio"};return u.name!==void 0&&Object.assign(t,{".checked":i.value===!0,"^checked":i.value===!0?"checked":void 0,name:u.name,value:u.val}),t}),O=iu(N);function w(t){t!==void 0&&(U(t),a(t)),u.disable!==!0&&i.value!==!0&&r("update:modelValue",u.val,t)}function T(t){(t.keyCode===13||t.keyCode===32)&&U(t)}function K(t){(t.keyCode===13||t.keyCode===32)&&w(t)}return Object.assign(d,{set:w}),()=>{const t=g.value!==null?[p("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[p(H,{class:"q-radio__icon",name:g.value})])]:[bu];u.disable!==!0&&O(t,"unshift"," q-radio__native q-ma-none q-pa-none");const y=[p("div",{class:v.value,style:s.value,"aria-hidden":"true"},t)];m.value!==null&&y.push(m.value);const L=u.label!==void 0?J(n.default,[u.label]):X(n.default);return L!==void 0&&y.push(p("div",{class:"q-radio__label q-anchor--skip"},L)),p("div",{ref:l,class:h.value,tabindex:C.value,role:"radio","aria-label":u.label,"aria-checked":i.value===!0?"true":"false","aria-disabled":u.disable===!0?"true":void 0,onClick:w,onKeydown:T,onKeyup:K},y)}}});const hu=$({name:"SpinnerEdit",props:{isShow:{type:Boolean,default:!1},spinnerId:{type:Number,default:0}},setup(u,n){const r=Q(),d=Eu(),c=Z(()=>u.isShow),s=q(),{emptySpinner:l}=I(r),m=["red","blue"],a=v=>{v===0?s.value={...l.value}:s.value={...r.getSpinnerById(u.spinnerId)}};a(u.spinnerId),uu(()=>u.spinnerId,v=>{a(v)});const i=async()=>{s.value.freq1>6.6&&(s.value.freq1=6.6),s.value.freq1<=0&&(s.value.freq1=1),s.value.freq2>6.6&&(s.value.freq2=6.6),s.value.freq2<=0&&(s.value.freq2=1),u.spinnerId===0?await r.insert({record:s.value}):(await r.update({record:s.value}),await d.updateSpinnerForAllStatios(s.value.id)),h()},h=()=>{n.emit("closeEdit")};return{showEditor:c,spinner:s,colors:m,onSubmit:i,closeEdit:h}}}),Su={class:"q-pa-md q-gutter-sm"},_u=e("div",{class:"text-h6"},"\u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0433\u043E \u0441\u043F\u0438\u043D\u043D\u0435\u0440\u0430",-1),qu=e("div",{class:"q-px-sm"},"\u041D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043F\u0435\u0440\u0432\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430",-1),gu={class:"q-gutter-sm"},Cu=e("div",{class:"q-px-sm"},"\u041D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0432\u0442\u043E\u0440\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430",-1),Du={class:"q-gutter-sm"};function ku(u,n,r,d,c,s){return E(),b("div",Su,[o(fu,{modelValue:u.showEditor,"onUpdate:modelValue":n[9]||(n[9]=l=>u.showEditor=l),persistent:""},{default:_(()=>[o(tu,null,{default:_(()=>[o(z,null,{default:_(()=>[_u]),_:1}),o(R),o(vu,{class:"full-width",onSubmit:eu(u.onSubmit,["prevent","stop"])},{default:_(()=>[o(z,{style:{"max-height":"60vh"},class:"scroll"},{default:_(()=>[o(F,{class:"col-6 q-mb-md",outlined:"",autofocus:"",modelValue:u.spinner.name,"onUpdate:modelValue":n[0]||(n[0]=l=>u.spinner.name=l),label:"\u043D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435 *"},null,8,["modelValue"]),o(P,{outlined:"",class:"col-6 q-mb-md",modelValue:u.spinner.color1,"onUpdate:modelValue":n[1]||(n[1]=l=>u.spinner.color1=l),options:u.colors,label:"\u043F\u0435\u0440\u0432\u044B\u0439 \u0446\u0432\u0435\u0442 *"},null,8,["modelValue","options"]),o(F,{class:"col-6 q-mb-md",outlined:"",modelValue:u.spinner.freq1,"onUpdate:modelValue":n[2]||(n[2]=l=>u.spinner.freq1=l),label:"\u0432\u0440\u0435\u043C\u044F \u043F\u0435\u0440\u0432\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430, \u0413\u0446 *",mask:"#.##"},null,8,["modelValue"]),qu,e("div",gu,[o(k,{modelValue:u.spinner.spin1,"onUpdate:modelValue":n[3]||(n[3]=l=>u.spinner.spin1=l),val:0,label:"\u043F\u043E \u0447\u0430\u0441\u043E\u0432\u043E\u0439"},null,8,["modelValue"]),o(k,{modelValue:u.spinner.spin1,"onUpdate:modelValue":n[4]||(n[4]=l=>u.spinner.spin1=l),val:1,label:"\u043F\u0440\u043E\u0442\u0438\u0432 \u0447\u0430\u0441\u043E\u0432\u043E\u0439"},null,8,["modelValue"])]),o(P,{outlined:"",class:"col-6 q-mb-md",modelValue:u.spinner.color2,"onUpdate:modelValue":n[5]||(n[5]=l=>u.spinner.color2=l),options:u.colors,label:"\u0432\u0442\u043E\u0440\u043E\u0439 \u0446\u0432\u0435\u0442 *"},null,8,["modelValue","options"]),o(F,{class:"col-6 q-mb-md",outlined:"",modelValue:u.spinner.freq2,"onUpdate:modelValue":n[6]||(n[6]=l=>u.spinner.freq2=l),label:"\u0432\u0440\u0435\u043C\u044F \u0432\u0442\u043E\u0440\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430, \u0413\u0446 *",mask:"#.##"},null,8,["modelValue"]),Cu,e("div",Du,[o(k,{modelValue:u.spinner.spin2,"onUpdate:modelValue":n[7]||(n[7]=l=>u.spinner.spin2=l),val:0,label:"\u043F\u043E \u0447\u0430\u0441\u043E\u0432\u043E\u0439"},null,8,["modelValue"]),o(k,{modelValue:u.spinner.spin2,"onUpdate:modelValue":n[8]||(n[8]=l=>u.spinner.spin2=l),val:1,label:"\u043F\u0440\u043E\u0442\u0438\u0432 \u0447\u0430\u0441\u043E\u0432\u043E\u0439"},null,8,["modelValue"])])]),_:1}),o(R),o(pu,{align:"right"},{default:_(()=>[o(D,{flat:"",label:"\u041E\u0442\u043C\u0435\u043D\u0430",color:"primary",onClick:u.closeEdit},null,8,["onClick"]),o(D,{flat:"",label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",color:"primary",type:"submit"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"])])}var wu=B(hu,[["render",ku]]);const yu=$({name:"SpinnerList",components:{ConfirmDialog:su,SpinnerEdit:wu},setup(){const u=q(!1),n=q(!1),r=Q(),d=q(0),c=q(0),{isEmpty:s,spinnerList:l}=I(r),m=C=>{d.value=C,u.value=!0},a=()=>{u.value=!1,d.value=0},i=C=>{c.value=C,g()},h=async()=>{await r.removeSpinner(d.value),a()},v=()=>{n.value=!1,c.value=0},g=()=>{n.value=!0};return{spinnerList:l,isShowDialog:u,editId:c,isShowEditor:n,isEmpty:s,deleteSpinner:h,confirmDelete:m,closeDialog:a,closeEditor:v,openEditor:g,editSpinner:i}}}),M=u=>(lu("data-v-6f81b33d"),u=u(),ou(),u),Fu={class:"flex justify-center q-pa-sm q-gutter-md"},Vu={class:"program-list"},$u={key:0},Iu={key:1,class:"flex justify-center program-list"},Bu=M(()=>e("div",{class:"full-width text-weight-bold text-h6 q-mb-lg"}," \u0421\u043F\u0438\u0441\u043E\u043A \u0441\u043F\u0438\u043D\u043D\u0435\u0440\u043E\u0432 ",-1)),Qu={class:"item-name"},Lu={class:"q-mt-sm"},ju=M(()=>e("div",{class:"item-params"},[e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u041F\u0435\u0440\u0432\u044B\u0439 \u0446\u0432\u0435\u0442")])]),e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u0412\u0442\u043E\u0440\u043E\u0439 \u0446\u0432\u0435\u0442")])]),e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u041D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043F\u0435\u0440\u0432\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430")])]),e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u041D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0432\u0442\u043E\u0440\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430")])]),e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u0412\u0440\u0435\u043C\u044F \u043F\u0435\u0440\u0432\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430")])]),e("div",null,[e("div",{lines:"1"},[e("span",{class:"text-weight-bold"},"\u0412\u0440\u0435\u043C\u044F \u0432\u0442\u043E\u0440\u043E\u0433\u043E \u0446\u0432\u0435\u0442\u0430")])])],-1)),Uu={class:"q-pl-sm item-values"},Au={lines:"1"},zu={lines:"1"},Ru={lines:"1"},Pu={lines:"1"},Mu={lines:"1"},Nu={lines:"1"},Ou={class:"flex justify-end item-control"},Tu={class:"q-gutter-xs"};function Ku(u,n,r,d,c,s){const l=V("SpinnerEdit"),m=V("ConfirmDialog");return E(),b(A,null,[e("section",Fu,[e("div",Vu,[o(D,{label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",color:"primary",onClick:n[0]||(n[0]=a=>u.openEditor(0))})]),u.isEmpty?(E(),b("div",$u,"\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u043F\u0438\u043D\u043D\u0435\u0440\u043E\u0432 \u043F\u0443\u0441\u0442")):(E(),b("div",Iu,[Bu,(E(!0),b(A,null,nu(u.spinnerList,a=>(E(),b("div",{class:"full-width flex justify-between q-pa-md item",key:a.id},[e("div",Qu,[e("div",Lu,f(a.name),1)]),ju,e("div",Uu,[e("div",null,[e("div",Au,[e("span",null,f(a.color1),1)])]),e("div",null,[e("div",zu,[e("span",null,f(a.color2),1)])]),e("div",null,[e("div",Ru,[e("span",null,f(a.spin1==0?"\u041F\u043E \u0447\u0430\u0441\u043E\u0432\u043E\u0439":"\u041F\u0440\u043E\u0442\u0438\u0432 \u0447\u0430\u0441\u043E\u0432\u043E\u0439"),1)])]),e("div",null,[e("div",Pu,[e("span",null,f(a.spin2==0?"\u041F\u043E \u0447\u0430\u0441\u043E\u0432\u043E\u0439":"\u041F\u0440\u043E\u0442\u0438\u0432 \u0447\u0430\u0441\u043E\u0432\u043E\u0439"),1)])]),e("div",null,[e("div",Mu,[e("span",null,f(a.freq1),1)])]),e("div",null,[e("div",Nu,[e("span",null,f(a.freq2),1)])])]),e("div",Ou,[e("div",Tu,[o(D,{size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:i=>u.confirmDelete(a.id)},null,8,["onClick"]),o(D,{size:"12px",flat:"",dense:"",round:"",icon:"edit",onClick:i=>u.editSpinner(a.id)},null,8,["onClick"])])])]))),128))]))]),o(l,{isShow:u.isShowEditor,onCloseEdit:u.closeEditor,spinnerId:u.editId},null,8,["isShow","onCloseEdit","spinnerId"]),o(m,{isShow:u.isShowDialog,onOk:u.deleteSpinner,onCancel:u.closeDialog,description:"\u0415\u0441\u043B\u0438 \u0441\u043F\u0438\u043D\u043D\u0435\u0440 \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u043A\u0430\u043A\u0438\u0445-\u043B\u0438\u0431\u043E \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430\u0445, \u043E\u043D \u043D\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043B\u0435\u043D!",message:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0439 \u0441\u043F\u0438\u043D\u043D\u0435\u0440?"},null,8,["isShow","onOk","onCancel"])],64)}var Wu=B(yu,[["render",Ku],["__scopeId","data-v-6f81b33d"]]);const xu=$({name:"SpinnerPage",components:{SpinnerList:Wu},setup(){const u=Q(),{isEmpty:n}=I(u);return{isEmpty:n}}}),Gu={class:"q-ma-md"};function Hu(u,n,r,d,c,s){const l=V("SpinnerList");return E(),b("section",Gu,[o(l)])}var fe=B(xu,[["render",Hu]]);export{fe as default};
